var fu=e=>{throw TypeError(e)};var Ml=(e,t,s)=>t.has(e)||fu("Cannot "+s);var k=(e,t,s)=>(Ml(e,t,"read from private field"),s?s.call(e):t.get(e)),ee=(e,t,s)=>t.has(e)?fu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Y=(e,t,s,n)=>(Ml(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),ie=(e,t,s)=>(Ml(e,t,"access private method"),s);var Wa=(e,t,s,n)=>({set _(a){Y(e,t,a,s)},get _(){return k(e,t,n)}});function ix(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function lx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ah={exports:{}},dl={},Mh={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),ox=Symbol.for("react.portal"),cx=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),ux=Symbol.for("react.profiler"),mx=Symbol.for("react.provider"),hx=Symbol.for("react.context"),px=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),xx=Symbol.for("react.memo"),gx=Symbol.for("react.lazy"),xu=Symbol.iterator;function yx(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var Oh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,Dh={};function Cn(e,t,s){this.props=e,this.context=t,this.refs=Dh,this.updater=s||Oh}Cn.prototype.isReactComponent={};Cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $h(){}$h.prototype=Cn.prototype;function Kc(e,t,s){this.props=e,this.context=t,this.refs=Dh,this.updater=s||Oh}var Yc=Kc.prototype=new $h;Yc.constructor=Kc;Fh(Yc,Cn.prototype);Yc.isPureReactComponent=!0;var gu=Array.isArray,Bh=Object.prototype.hasOwnProperty,Gc={current:null},zh={key:!0,ref:!0,__self:!0,__source:!0};function Uh(e,t,s){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Bh.call(t,n)&&!zh.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Fa,type:e,key:i,ref:l,props:a,_owner:Gc.current}}function vx(e,t){return{$$typeof:Fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fa}function bx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var yu=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bx(""+e.key):t.toString(36)}function fi(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Fa:case ox:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Ol(l,0):n,gu(a)?(s="",e!=null&&(s=e.replace(yu,"$&/")+"/"),fi(a,t,s,"",function(d){return d})):a!=null&&(Xc(a)&&(a=vx(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(yu,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",gu(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Ol(i,o);l+=fi(i,t,s,c,a)}else if(c=yx(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Ol(i,o++),l+=fi(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ha(e,t,s){if(e==null)return e;var n=[],a=0;return fi(e,n,"","",function(i){return t.call(s,i,a++)}),n}function wx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},xi={transition:null},jx={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Gc};function Ih(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ha,forEach:function(e,t,s){Ha(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!Xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Cn;le.Fragment=cx;le.Profiler=ux;le.PureComponent=Kc;le.StrictMode=dx;le.Suspense=fx;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;le.act=Ih;le.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Fh({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Gc.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Bh.call(t,c)&&!zh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Fa,type:e.type,key:a,ref:i,props:n,_owner:l}};le.createContext=function(e){return e={$$typeof:hx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mx,_context:e},e.Consumer=e};le.createElement=Uh;le.createFactory=function(e){var t=Uh.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:px,render:e}};le.isValidElement=Xc;le.lazy=function(e){return{$$typeof:gx,_payload:{_status:-1,_result:e},_init:wx}};le.memo=function(e,t){return{$$typeof:xx,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};le.unstable_act=Ih;le.useCallback=function(e,t){return Je.current.useCallback(e,t)};le.useContext=function(e){return Je.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};le.useEffect=function(e,t){return Je.current.useEffect(e,t)};le.useId=function(){return Je.current.useId()};le.useImperativeHandle=function(e,t,s){return Je.current.useImperativeHandle(e,t,s)};le.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Je.current.useMemo(e,t)};le.useReducer=function(e,t,s){return Je.current.useReducer(e,t,s)};le.useRef=function(e){return Je.current.useRef(e)};le.useState=function(e){return Je.current.useState(e)};le.useSyncExternalStore=function(e,t,s){return Je.current.useSyncExternalStore(e,t,s)};le.useTransition=function(){return Je.current.useTransition()};le.version="18.3.1";Mh.exports=le;var x=Mh.exports;const Ur=lx(x),Nx=ix({__proto__:null,default:Ur},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx=x,_x=Symbol.for("react.element"),Sx=Symbol.for("react.fragment"),Cx=Object.prototype.hasOwnProperty,Ex=kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Px={key:!0,ref:!0,__self:!0,__source:!0};function qh(e,t,s){var n,a={},i=null,l=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Cx.call(t,n)&&!Px.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:_x,type:e,key:i,ref:l,props:a,_owner:Ex.current}}dl.Fragment=Sx;dl.jsx=qh;dl.jsxs=qh;Ah.exports=dl;var r=Ah.exports,Vh={exports:{}},ft={},Wh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,A){var U=N.length;N.push(A);e:for(;0<U;){var C=U-1>>>1,_=N[C];if(0<a(_,A))N[C]=A,N[U]=_,U=C;else break e}}function s(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var A=N[0],U=N.pop();if(U!==A){N[0]=U;e:for(var C=0,_=N.length,S=_>>>1;C<S;){var q=2*(C+1)-1,re=N[q],F=q+1,K=N[F];if(0>a(re,U))F<_&&0>a(K,re)?(N[C]=K,N[F]=U,C=F):(N[C]=re,N[q]=U,C=q);else if(F<_&&0>a(K,U))N[C]=K,N[F]=U,C=F;else break e}}return A}function a(N,A){var U=N.sortIndex-A.sortIndex;return U!==0?U:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],p=1,m=null,u=3,v=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(N){for(var A=s(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=N)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=s(d)}}function j(N){if(b=!1,f(N),!y)if(s(c)!==null)y=!0,J(P);else{var A=s(d);A!==null&&he(j,A.startTime-N)}}function P(N,A){y=!1,b&&(b=!1,g(R),R=-1),v=!0;var U=u;try{for(f(A),m=s(c);m!==null&&(!(m.expirationTime>A)||N&&!$());){var C=m.callback;if(typeof C=="function"){m.callback=null,u=m.priorityLevel;var _=C(m.expirationTime<=A);A=e.unstable_now(),typeof _=="function"?m.callback=_:m===s(c)&&n(c),f(A)}else n(c);m=s(c)}if(m!==null)var S=!0;else{var q=s(d);q!==null&&he(j,q.startTime-A),S=!1}return S}finally{m=null,u=U,v=!1}}var D=!1,L=null,R=-1,Q=5,B=-1;function $(){return!(e.unstable_now()-B<Q)}function E(){if(L!==null){var N=e.unstable_now();B=N;var A=!0;try{A=L(!0,N)}finally{A?I():(D=!1,L=null)}}else D=!1}var I;if(typeof h=="function")I=function(){h(E)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,te=G.port2;G.port1.onmessage=E,I=function(){te.postMessage(null)}}else I=function(){w(E,0)};function J(N){L=N,D||(D=!0,I())}function he(N,A){R=w(function(){N(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,J(P))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(N){switch(u){case 1:case 2:case 3:var A=3;break;default:A=u}var U=u;u=A;try{return N()}finally{u=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=u;u=N;try{return A()}finally{u=U}},e.unstable_scheduleCallback=function(N,A,U){var C=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?C+U:C):U=C,N){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=U+_,N={id:p++,callback:A,priorityLevel:N,startTime:U,expirationTime:_,sortIndex:-1},U>C?(N.sortIndex=U,t(d,N),s(c)===null&&N===s(d)&&(b?(g(R),R=-1):b=!0,he(j,U-C))):(N.sortIndex=_,t(c,N),y||v||(y=!0,J(P))),N},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(N){var A=u;return function(){var U=u;u=A;try{return N.apply(this,arguments)}finally{u=U}}}})(Hh);Wh.exports=Hh;var Rx=Wh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=x,pt=Rx;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qh=new Set,ca={};function Fr(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(ca[e]=t,e=0;e<t.length;e++)Qh.add(t[e])}var ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,Tx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},bu={};function Ax(e){return bo.call(bu,e)?!0:bo.call(vu,e)?!1:Tx.test(e)?bu[e]=!0:(vu[e]=!0,!1)}function Mx(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ox(e,t,s,n){if(t===null||typeof t>"u"||Mx(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,s,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jc=/[\-:]([a-z])/g;function Zc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jc,Zc);Ue[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jc,Zc);Ue[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jc,Zc);Ue[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function ed(e,t,s,n){var a=Ue.hasOwnProperty(t)?Ue[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ox(t,s,a,n)&&(s=null),n||a===null?Ax(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var xs=Lx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),td=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Yh=Symbol.for("react.context"),sd=Symbol.for("react.forward_ref"),jo=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),Gh=Symbol.for("react.offscreen"),wu=Symbol.iterator;function Fn(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Fl;function Kn(e){if(Fl===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var Dl=!1;function $l(e,t){if(!e||Dl)return"";Dl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Dl=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Kn(e):""}function Fx(e){switch(e.tag){case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 2:case 15:return e=$l(e.type,!1),e;case 11:return e=$l(e.type.render,!1),e;case 1:return e=$l(e.type,!0),e;default:return""}}function ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qr:return"Fragment";case Ir:return"Portal";case wo:return"Profiler";case td:return"StrictMode";case jo:return"Suspense";case No:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yh:return(e.displayName||"Context")+".Consumer";case Kh:return(e._context.displayName||"Context")+".Provider";case sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rd:return t=e.displayName||null,t!==null?t:ko(e.type)||"Memo";case Ns:t=e._payload,e=e._init;try{return ko(e(t))}catch{}}return null}function Dx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ko(t);case 8:return t===td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $x(e){var t=Xh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ka(e){e._valueTracker||(e._valueTracker=$x(e))}function Jh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Xh(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _o(e,t){var s=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function ju(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Gs(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zh(e,t){t=t.checked,t!=null&&ed(e,"checked",t,!1)}function So(e,t){Zh(e,t);var s=Gs(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Co(e,t.type,s):t.hasOwnProperty("defaultValue")&&Co(e,t.type,Gs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nu(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Co(e,t,s){(t!=="number"||Oi(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Yn=Array.isArray;function en(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Gs(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ku(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(V(92));if(Yn(s)){if(1<s.length)throw Error(V(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Gs(s)}}function ep(e,t){var s=Gs(t.value),n=Gs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function _u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ya,sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function da(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bx=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){Bx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function rp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function np(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=rp(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var zx=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ro(e,t){if(t){if(zx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Lo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ao=null,tn=null,sn=null;function Su(e){if(e=Ba(e)){if(typeof Ao!="function")throw Error(V(280));var t=e.stateNode;t&&(t=fl(t),Ao(e.stateNode,e.type,t))}}function ap(e){tn?sn?sn.push(e):sn=[e]:tn=e}function ip(){if(tn){var e=tn,t=sn;if(sn=tn=null,Su(e),t)for(e=0;e<t.length;e++)Su(t[e])}}function lp(e,t){return e(t)}function op(){}var Bl=!1;function cp(e,t,s){if(Bl)return e(t,s);Bl=!0;try{return lp(e,t,s)}finally{Bl=!1,(tn!==null||sn!==null)&&(op(),ip())}}function ua(e,t){var s=e.stateNode;if(s===null)return null;var n=fl(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(V(231,t,typeof s));return s}var Mo=!1;if(ms)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Mo=!1}function Ux(e,t,s,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(p){this.onError(p)}}var ta=!1,Fi=null,Di=!1,Oo=null,Ix={onError:function(e){ta=!0,Fi=e}};function qx(e,t,s,n,a,i,l,o,c){ta=!1,Fi=null,Ux.apply(Ix,arguments)}function Vx(e,t,s,n,a,i,l,o,c){if(qx.apply(this,arguments),ta){if(ta){var d=Fi;ta=!1,Fi=null}else throw Error(V(198));Di||(Di=!0,Oo=d)}}function Dr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(Dr(e)!==e)throw Error(V(188))}function Wx(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(V(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Cu(a),e;if(i===n)return Cu(a),t;i=i.sibling}throw Error(V(188))}if(s.return!==n.return)s=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l)throw Error(V(189))}}if(s.alternate!==n)throw Error(V(190))}if(s.tag!==3)throw Error(V(188));return s.stateNode.current===s?e:t}function up(e){return e=Wx(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var hp=pt.unstable_scheduleCallback,Eu=pt.unstable_cancelCallback,Hx=pt.unstable_shouldYield,Qx=pt.unstable_requestPaint,Ee=pt.unstable_now,Kx=pt.unstable_getCurrentPriorityLevel,ad=pt.unstable_ImmediatePriority,pp=pt.unstable_UserBlockingPriority,$i=pt.unstable_NormalPriority,Yx=pt.unstable_LowPriority,fp=pt.unstable_IdlePriority,ul=null,Gt=null;function Gx(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Zx,Xx=Math.log,Jx=Math.LN2;function Zx(e){return e>>>=0,e===0?32:31-(Xx(e)/Jx|0)|0}var Ga=64,Xa=4194304;function Gn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bi(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?n=Gn(o):(i&=l,i!==0&&(n=Gn(i)))}else l=s&~a,l!==0?n=Gn(l):i!==0&&(n=Gn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Bt(t),a=1<<s,n|=e[s],t&=~a;return n}function eg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tg(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Bt(i),o=1<<l,c=a[l];c===-1?(!(o&s)||o&n)&&(a[l]=eg(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xp(){var e=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),e}function zl(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Da(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=s}function sg(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Bt(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function id(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Bt(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var xe=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yp,ld,vp,bp,wp,Do=!1,Ja=[],Bs=null,zs=null,Us=null,ma=new Map,ha=new Map,_s=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function $n(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ba(t),t!==null&&ld(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ng(e,t,s,n,a){switch(t){case"focusin":return Bs=$n(Bs,e,t,s,n,a),!0;case"dragenter":return zs=$n(zs,e,t,s,n,a),!0;case"mouseover":return Us=$n(Us,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return ma.set(i,$n(ma.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ha.set(i,$n(ha.get(i)||null,e,t,s,n,a)),!0}return!1}function jp(e){var t=ur(e.target);if(t!==null){var s=Dr(t);if(s!==null){if(t=s.tag,t===13){if(t=dp(s),t!==null){e.blockedOn=t,wp(e.priority,function(){vp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=$o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);To=n,s.target.dispatchEvent(n),To=null}else return t=Ba(s),t!==null&&ld(t),e.blockedOn=s,!1;t.shift()}return!0}function Ru(e,t,s){gi(e)&&s.delete(t)}function ag(){Do=!1,Bs!==null&&gi(Bs)&&(Bs=null),zs!==null&&gi(zs)&&(zs=null),Us!==null&&gi(Us)&&(Us=null),ma.forEach(Ru),ha.forEach(Ru)}function Bn(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,ag)))}function pa(e){function t(a){return Bn(a,e)}if(0<Ja.length){Bn(Ja[0],e);for(var s=1;s<Ja.length;s++){var n=Ja[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Bs!==null&&Bn(Bs,e),zs!==null&&Bn(zs,e),Us!==null&&Bn(Us,e),ma.forEach(t),ha.forEach(t),s=0;s<_s.length;s++)n=_s[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<_s.length&&(s=_s[0],s.blockedOn===null);)jp(s),s.blockedOn===null&&_s.shift()}var rn=xs.ReactCurrentBatchConfig,zi=!0;function ig(e,t,s,n){var a=xe,i=rn.transition;rn.transition=null;try{xe=1,od(e,t,s,n)}finally{xe=a,rn.transition=i}}function lg(e,t,s,n){var a=xe,i=rn.transition;rn.transition=null;try{xe=4,od(e,t,s,n)}finally{xe=a,rn.transition=i}}function od(e,t,s,n){if(zi){var a=$o(e,t,s,n);if(a===null)Gl(e,t,n,Ui,s),Pu(e,n);else if(ng(a,e,t,s,n))n.stopPropagation();else if(Pu(e,n),t&4&&-1<rg.indexOf(e)){for(;a!==null;){var i=Ba(a);if(i!==null&&yp(i),i=$o(e,t,s,n),i===null&&Gl(e,t,n,Ui,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else Gl(e,t,n,null,s)}}var Ui=null;function $o(e,t,s,n){if(Ui=null,e=nd(n),e=ur(e),e!==null)if(t=Dr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=dp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function Np(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kx()){case ad:return 1;case pp:return 4;case $i:case Yx:return 16;case fp:return 536870912;default:return 16}default:return 16}}var Fs=null,cd=null,yi=null;function kp(){if(yi)return yi;var e,t=cd,s=t.length,n,a="value"in Fs?Fs.value:Fs.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===a[i-n];n++);return yi=a.slice(e,1<n?1-n:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Lu(){return!1}function xt(e){function t(s,n,a,i,l){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Za:Lu,this.isPropagationStopped=Lu,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dd=xt(En),$a=_e({},En,{view:0,detail:0}),og=xt($a),Ul,Il,zn,ml=_e({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Ul=e.screenX-zn.screenX,Il=e.screenY-zn.screenY):Il=Ul=0,zn=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),Tu=xt(ml),cg=_e({},ml,{dataTransfer:0}),dg=xt(cg),ug=_e({},$a,{relatedTarget:0}),ql=xt(ug),mg=_e({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),hg=xt(mg),pg=_e({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=xt(pg),xg=_e({},En,{data:0}),Au=xt(xg),gg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function ud(){return bg}var wg=_e({},$a,{key:function(e){if(e.key){var t=gg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jg=xt(wg),Ng=_e({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=xt(Ng),kg=_e({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),_g=xt(kg),Sg=_e({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cg=xt(Sg),Eg=_e({},ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pg=xt(Eg),Rg=[9,13,27,32],md=ms&&"CompositionEvent"in window,sa=null;ms&&"documentMode"in document&&(sa=document.documentMode);var Lg=ms&&"TextEvent"in window&&!sa,_p=ms&&(!md||sa&&8<sa&&11>=sa),Ou=" ",Fu=!1;function Sp(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Tg(e,t){switch(e){case"compositionend":return Cp(t);case"keypress":return t.which!==32?null:(Fu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Fu?null:e;default:return null}}function Ag(e,t){if(Vr)return e==="compositionend"||!md&&Sp(e,t)?(e=kp(),yi=cd=Fs=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _p&&t.locale!=="ko"?null:t.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mg[e.type]:t==="textarea"}function Ep(e,t,s,n){ap(n),t=Ii(t,"onChange"),0<t.length&&(s=new dd("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ra=null,fa=null;function Og(e){Bp(e,0)}function hl(e){var t=Qr(e);if(Jh(t))return e}function Fg(e,t){if(e==="change")return t}var Pp=!1;if(ms){var Vl;if(ms){var Wl="oninput"in document;if(!Wl){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Wl=typeof $u.oninput=="function"}Vl=Wl}else Vl=!1;Pp=Vl&&(!document.documentMode||9<document.documentMode)}function Bu(){ra&&(ra.detachEvent("onpropertychange",Rp),fa=ra=null)}function Rp(e){if(e.propertyName==="value"&&hl(fa)){var t=[];Ep(t,fa,e,nd(e)),cp(Og,t)}}function Dg(e,t,s){e==="focusin"?(Bu(),ra=t,fa=s,ra.attachEvent("onpropertychange",Rp)):e==="focusout"&&Bu()}function $g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(fa)}function Bg(e,t){if(e==="click")return hl(t)}function zg(e,t){if(e==="input"||e==="change")return hl(t)}function Ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Ug;function xa(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!bo.call(t,a)||!Ut(e[a],t[a]))return!1}return!0}function zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var s=zu(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=zu(s)}}function Lp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tp(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Oi(e.document)}return t}function hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ig(e){var t=Tp(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Lp(s.ownerDocument.documentElement,s)){if(n!==null&&hd(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Uu(s,i);var l=Uu(s,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qg=ms&&"documentMode"in document&&11>=document.documentMode,Wr=null,Bo=null,na=null,zo=!1;function Iu(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zo||Wr==null||Wr!==Oi(n)||(n=Wr,"selectionStart"in n&&hd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),na&&xa(na,n)||(na=n,n=Ii(Bo,"onSelect"),0<n.length&&(t=new dd("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Wr)))}function ei(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Hr={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionend:ei("Transition","TransitionEnd")},Hl={},Ap={};ms&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function pl(e){if(Hl[e])return Hl[e];if(!Hr[e])return e;var t=Hr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Ap)return Hl[e]=t[s];return e}var Mp=pl("animationend"),Op=pl("animationiteration"),Fp=pl("animationstart"),Dp=pl("transitionend"),$p=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(e,t){$p.set(e,t),Fr(t,[e])}for(var Ql=0;Ql<qu.length;Ql++){var Kl=qu[Ql],Vg=Kl.toLowerCase(),Wg=Kl[0].toUpperCase()+Kl.slice(1);Js(Vg,"on"+Wg)}Js(Mp,"onAnimationEnd");Js(Op,"onAnimationIteration");Js(Fp,"onAnimationStart");Js("dblclick","onDoubleClick");Js("focusin","onFocus");Js("focusout","onBlur");Js(Dp,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function Vu(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Vx(n,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Vu(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Vu(a,o,d),i=c}}}if(Di)throw e=Oo,Di=!1,Oo=null,e}function be(e,t){var s=t[Wo];s===void 0&&(s=t[Wo]=new Set);var n=e+"__bubble";s.has(n)||(zp(t,e,2,!1),s.add(n))}function Yl(e,t,s){var n=0;t&&(n|=4),zp(s,e,n,t)}var ti="_reactListening"+Math.random().toString(36).slice(2);function ga(e){if(!e[ti]){e[ti]=!0,Qh.forEach(function(s){s!=="selectionchange"&&(Hg.has(s)||Yl(s,!1,e),Yl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ti]||(t[ti]=!0,Yl("selectionchange",!1,t))}}function zp(e,t,s,n){switch(Np(t)){case 1:var a=ig;break;case 4:a=lg;break;default:a=od}s=a.bind(null,t,s,e),a=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function Gl(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=ur(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}cp(function(){var d=i,p=nd(s),m=[];e:{var u=$p.get(e);if(u!==void 0){var v=dd,y=e;switch(e){case"keypress":if(vi(s)===0)break e;case"keydown":case"keyup":v=jg;break;case"focusin":y="focus",v=ql;break;case"focusout":y="blur",v=ql;break;case"beforeblur":case"afterblur":v=ql;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=dg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_g;break;case Mp:case Op:case Fp:v=hg;break;case Dp:v=Cg;break;case"scroll":v=og;break;case"wheel":v=Pg;break;case"copy":case"cut":case"paste":v=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mu}var b=(t&4)!==0,w=!b&&e==="scroll",g=b?u!==null?u+"Capture":null:u;b=[];for(var h=d,f;h!==null;){f=h;var j=f.stateNode;if(f.tag===5&&j!==null&&(f=j,g!==null&&(j=ua(h,g),j!=null&&b.push(ya(h,j,f)))),w)break;h=h.return}0<b.length&&(u=new v(u,y,null,s,p),m.push({event:u,listeners:b}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",u&&s!==To&&(y=s.relatedTarget||s.fromElement)&&(ur(y)||y[hs]))break e;if((v||u)&&(u=p.window===p?p:(u=p.ownerDocument)?u.defaultView||u.parentWindow:window,v?(y=s.relatedTarget||s.toElement,v=d,y=y?ur(y):null,y!==null&&(w=Dr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(b=Tu,j="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(b=Mu,j="onPointerLeave",g="onPointerEnter",h="pointer"),w=v==null?u:Qr(v),f=y==null?u:Qr(y),u=new b(j,h+"leave",v,s,p),u.target=w,u.relatedTarget=f,j=null,ur(p)===d&&(b=new b(g,h+"enter",y,s,p),b.target=f,b.relatedTarget=w,j=b),w=j,v&&y)t:{for(b=v,g=y,h=0,f=b;f;f=zr(f))h++;for(f=0,j=g;j;j=zr(j))f++;for(;0<h-f;)b=zr(b),h--;for(;0<f-h;)g=zr(g),f--;for(;h--;){if(b===g||g!==null&&b===g.alternate)break t;b=zr(b),g=zr(g)}b=null}else b=null;v!==null&&Wu(m,u,v,b,!1),y!==null&&w!==null&&Wu(m,w,y,b,!0)}}e:{if(u=d?Qr(d):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var P=Fg;else if(Du(u))if(Pp)P=zg;else{P=$g;var D=Dg}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(P=Bg);if(P&&(P=P(e,d))){Ep(m,P,s,p);break e}D&&D(e,u,d),e==="focusout"&&(D=u._wrapperState)&&D.controlled&&u.type==="number"&&Co(u,"number",u.value)}switch(D=d?Qr(d):window,e){case"focusin":(Du(D)||D.contentEditable==="true")&&(Wr=D,Bo=d,na=null);break;case"focusout":na=Bo=Wr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Iu(m,s,p);break;case"selectionchange":if(qg)break;case"keydown":case"keyup":Iu(m,s,p)}var L;if(md)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Vr?Sp(e,s)&&(R="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(R="onCompositionStart");R&&(_p&&s.locale!=="ko"&&(Vr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Vr&&(L=kp()):(Fs=p,cd="value"in Fs?Fs.value:Fs.textContent,Vr=!0)),D=Ii(d,R),0<D.length&&(R=new Au(R,e,null,s,p),m.push({event:R,listeners:D}),L?R.data=L:(L=Cp(s),L!==null&&(R.data=L)))),(L=Lg?Tg(e,s):Ag(e,s))&&(d=Ii(d,"onBeforeInput"),0<d.length&&(p=new Au("onBeforeInput","beforeinput",null,s,p),m.push({event:p,listeners:d}),p.data=L))}Bp(m,t)})}function ya(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ii(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ua(e,s),i!=null&&n.unshift(ya(e,i,a)),i=ua(e,t),i!=null&&n.push(ya(e,i,a))),e=e.return}return n}function zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,s,n,a){for(var i=t._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=ua(s,i),c!=null&&l.unshift(ya(s,c,o))):a||(c=ua(s,i),c!=null&&l.push(ya(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var Qg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function Hu(e){return(typeof e=="string"?e:""+e).replace(Qg,`
`).replace(Kg,"")}function si(e,t,s){if(t=Hu(t),Hu(e)!==t&&s)throw Error(V(425))}function qi(){}var Uo=null,Io=null;function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(e){return Qu.resolve(null).then(e).catch(Xg)}:Vo;function Xg(e){setTimeout(function(){throw e})}function Xl(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),pa(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);pa(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Pn,va="__reactProps$"+Pn,hs="__reactContainer$"+Pn,Wo="__reactEvents$"+Pn,Jg="__reactListeners$"+Pn,Zg="__reactHandles$"+Pn;function ur(e){var t=e[Yt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[hs]||s[Yt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Ku(e);e!==null;){if(s=e[Yt])return s;e=Ku(e)}return t}e=s,s=e.parentNode}return null}function Ba(e){return e=e[Yt]||e[hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function fl(e){return e[va]||null}var Ho=[],Kr=-1;function Zs(e){return{current:e}}function we(e){0>Kr||(e.current=Ho[Kr],Ho[Kr]=null,Kr--)}function ye(e,t){Kr++,Ho[Kr]=e.current,e.current=t}var Xs={},He=Zs(Xs),at=Zs(!1),Er=Xs;function bn(e,t){var s=e.type.contextTypes;if(!s)return Xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return e=e.childContextTypes,e!=null}function Vi(){we(at),we(He)}function Yu(e,t,s){if(He.current!==Xs)throw Error(V(168));ye(He,t),ye(at,s)}function Up(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(V(108,Dx(e)||"Unknown",a));return _e({},s,n)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,Er=He.current,ye(He,e),ye(at,at.current),!0}function Gu(e,t,s){var n=e.stateNode;if(!n)throw Error(V(169));s?(e=Up(e,t,Er),n.__reactInternalMemoizedMergedChildContext=e,we(at),we(He),ye(He,e)):we(at),ye(at,s)}var rs=null,xl=!1,Jl=!1;function Ip(e){rs===null?rs=[e]:rs.push(e)}function ey(e){xl=!0,Ip(e)}function er(){if(!Jl&&rs!==null){Jl=!0;var e=0,t=xe;try{var s=rs;for(xe=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}rs=null,xl=!1}catch(a){throw rs!==null&&(rs=rs.slice(e+1)),hp(ad,er),a}finally{xe=t,Jl=!1}}return null}var Yr=[],Gr=0,Hi=null,Qi=0,Nt=[],kt=0,Pr=null,os=1,cs="";function or(e,t){Yr[Gr++]=Qi,Yr[Gr++]=Hi,Hi=e,Qi=t}function qp(e,t,s){Nt[kt++]=os,Nt[kt++]=cs,Nt[kt++]=Pr,Pr=e;var n=os;e=cs;var a=32-Bt(n)-1;n&=~(1<<a),s+=1;var i=32-Bt(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,os=1<<32-Bt(t)+a|s<<a|n,cs=i+e}else os=1<<i|s<<a|n,cs=e}function pd(e){e.return!==null&&(or(e,1),qp(e,1,0))}function fd(e){for(;e===Hi;)Hi=Yr[--Gr],Yr[Gr]=null,Qi=Yr[--Gr],Yr[Gr]=null;for(;e===Pr;)Pr=Nt[--kt],Nt[kt]=null,cs=Nt[--kt],Nt[kt]=null,os=Nt[--kt],Nt[kt]=null}var ht=null,mt=null,je=!1,$t=null;function Vp(e,t){var s=St(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Xu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,mt=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Pr!==null?{id:os,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=St(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ht=e,mt=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ko(e){if(je){var t=mt;if(t){var s=t;if(!Xu(e,t)){if(Qo(e))throw Error(V(418));t=Is(s.nextSibling);var n=ht;t&&Xu(e,t)?Vp(n,s):(e.flags=e.flags&-4097|2,je=!1,ht=e)}}else{if(Qo(e))throw Error(V(418));e.flags=e.flags&-4097|2,je=!1,ht=e}}}function Ju(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function ri(e){if(e!==ht)return!1;if(!je)return Ju(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qo(e.type,e.memoizedProps)),t&&(t=mt)){if(Qo(e))throw Wp(),Error(V(418));for(;t;)Vp(e,t),t=Is(t.nextSibling)}if(Ju(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){mt=Is(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=ht?Is(e.stateNode.nextSibling):null;return!0}function Wp(){for(var e=mt;e;)e=Is(e.nextSibling)}function wn(){mt=ht=null,je=!1}function xd(e){$t===null?$t=[e]:$t.push(e)}var ty=xs.ReactCurrentBatchConfig;function Un(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(V(309));var n=s.stateNode}if(!n)throw Error(V(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(V(284));if(!s._owner)throw Error(V(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zu(e){var t=e._init;return t(e._payload)}function Hp(e){function t(g,h){if(e){var f=g.deletions;f===null?(g.deletions=[h],g.flags|=16):f.push(h)}}function s(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=Hs(g,h),g.index=0,g.sibling=null,g}function i(g,h,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<h?(g.flags|=2,h):f):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,f,j){return h===null||h.tag!==6?(h=ao(f,g.mode,j),h.return=g,h):(h=a(h,f),h.return=g,h)}function c(g,h,f,j){var P=f.type;return P===qr?p(g,h,f.props.children,j,f.key):h!==null&&(h.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ns&&Zu(P)===h.type)?(j=a(h,f.props),j.ref=Un(g,h,f),j.return=g,j):(j=Si(f.type,f.key,f.props,null,g.mode,j),j.ref=Un(g,h,f),j.return=g,j)}function d(g,h,f,j){return h===null||h.tag!==4||h.stateNode.containerInfo!==f.containerInfo||h.stateNode.implementation!==f.implementation?(h=io(f,g.mode,j),h.return=g,h):(h=a(h,f.children||[]),h.return=g,h)}function p(g,h,f,j,P){return h===null||h.tag!==7?(h=Sr(f,g.mode,j,P),h.return=g,h):(h=a(h,f),h.return=g,h)}function m(g,h,f){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ao(""+h,g.mode,f),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Qa:return f=Si(h.type,h.key,h.props,null,g.mode,f),f.ref=Un(g,null,h),f.return=g,f;case Ir:return h=io(h,g.mode,f),h.return=g,h;case Ns:var j=h._init;return m(g,j(h._payload),f)}if(Yn(h)||Fn(h))return h=Sr(h,g.mode,f,null),h.return=g,h;ni(g,h)}return null}function u(g,h,f,j){var P=h!==null?h.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return P!==null?null:o(g,h,""+f,j);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Qa:return f.key===P?c(g,h,f,j):null;case Ir:return f.key===P?d(g,h,f,j):null;case Ns:return P=f._init,u(g,h,P(f._payload),j)}if(Yn(f)||Fn(f))return P!==null?null:p(g,h,f,j,null);ni(g,f)}return null}function v(g,h,f,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(f)||null,o(h,g,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qa:return g=g.get(j.key===null?f:j.key)||null,c(h,g,j,P);case Ir:return g=g.get(j.key===null?f:j.key)||null,d(h,g,j,P);case Ns:var D=j._init;return v(g,h,f,D(j._payload),P)}if(Yn(j)||Fn(j))return g=g.get(f)||null,p(h,g,j,P,null);ni(h,j)}return null}function y(g,h,f,j){for(var P=null,D=null,L=h,R=h=0,Q=null;L!==null&&R<f.length;R++){L.index>R?(Q=L,L=null):Q=L.sibling;var B=u(g,L,f[R],j);if(B===null){L===null&&(L=Q);break}e&&L&&B.alternate===null&&t(g,L),h=i(B,h,R),D===null?P=B:D.sibling=B,D=B,L=Q}if(R===f.length)return s(g,L),je&&or(g,R),P;if(L===null){for(;R<f.length;R++)L=m(g,f[R],j),L!==null&&(h=i(L,h,R),D===null?P=L:D.sibling=L,D=L);return je&&or(g,R),P}for(L=n(g,L);R<f.length;R++)Q=v(L,g,R,f[R],j),Q!==null&&(e&&Q.alternate!==null&&L.delete(Q.key===null?R:Q.key),h=i(Q,h,R),D===null?P=Q:D.sibling=Q,D=Q);return e&&L.forEach(function($){return t(g,$)}),je&&or(g,R),P}function b(g,h,f,j){var P=Fn(f);if(typeof P!="function")throw Error(V(150));if(f=P.call(f),f==null)throw Error(V(151));for(var D=P=null,L=h,R=h=0,Q=null,B=f.next();L!==null&&!B.done;R++,B=f.next()){L.index>R?(Q=L,L=null):Q=L.sibling;var $=u(g,L,B.value,j);if($===null){L===null&&(L=Q);break}e&&L&&$.alternate===null&&t(g,L),h=i($,h,R),D===null?P=$:D.sibling=$,D=$,L=Q}if(B.done)return s(g,L),je&&or(g,R),P;if(L===null){for(;!B.done;R++,B=f.next())B=m(g,B.value,j),B!==null&&(h=i(B,h,R),D===null?P=B:D.sibling=B,D=B);return je&&or(g,R),P}for(L=n(g,L);!B.done;R++,B=f.next())B=v(L,g,R,B.value,j),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?R:B.key),h=i(B,h,R),D===null?P=B:D.sibling=B,D=B);return e&&L.forEach(function(E){return t(g,E)}),je&&or(g,R),P}function w(g,h,f,j){if(typeof f=="object"&&f!==null&&f.type===qr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Qa:e:{for(var P=f.key,D=h;D!==null;){if(D.key===P){if(P=f.type,P===qr){if(D.tag===7){s(g,D.sibling),h=a(D,f.props.children),h.return=g,g=h;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ns&&Zu(P)===D.type){s(g,D.sibling),h=a(D,f.props),h.ref=Un(g,D,f),h.return=g,g=h;break e}s(g,D);break}else t(g,D);D=D.sibling}f.type===qr?(h=Sr(f.props.children,g.mode,j,f.key),h.return=g,g=h):(j=Si(f.type,f.key,f.props,null,g.mode,j),j.ref=Un(g,h,f),j.return=g,g=j)}return l(g);case Ir:e:{for(D=f.key;h!==null;){if(h.key===D)if(h.tag===4&&h.stateNode.containerInfo===f.containerInfo&&h.stateNode.implementation===f.implementation){s(g,h.sibling),h=a(h,f.children||[]),h.return=g,g=h;break e}else{s(g,h);break}else t(g,h);h=h.sibling}h=io(f,g.mode,j),h.return=g,g=h}return l(g);case Ns:return D=f._init,w(g,h,D(f._payload),j)}if(Yn(f))return y(g,h,f,j);if(Fn(f))return b(g,h,f,j);ni(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,h!==null&&h.tag===6?(s(g,h.sibling),h=a(h,f),h.return=g,g=h):(s(g,h),h=ao(f,g.mode,j),h.return=g,g=h),l(g)):s(g,h)}return w}var jn=Hp(!0),Qp=Hp(!1),Ki=Zs(null),Yi=null,Xr=null,gd=null;function yd(){gd=Xr=Yi=null}function vd(e){var t=Ki.current;we(Ki),e._currentValue=t}function Yo(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function nn(e,t){Yi=e,gd=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(gd!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Yi===null)throw Error(V(308));Xr=e,Yi.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var mr=null;function bd(e){mr===null?mr=[e]:mr.push(e)}function Kp(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,bd(t)):(s.next=a.next,a.next=s),t.interleaved=s,ps(e,n)}function ps(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ks=!1;function wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,ps(e,s)}return a=n.interleaved,a===null?(t.next=t,bd(n)):(t.next=a.next,a.next=t),n.interleaved=t,ps(e,s)}function bi(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,id(e,s)}}function em(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Gi(e,t,s,n){var a=e.updateQueue;ks=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,p=d=c=null,o=i;do{var u=o.lane,v=o.eventTime;if((n&u)===u){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(u=t,v=s,b.tag){case 1:if(y=b.payload,typeof y=="function"){m=y.call(v,m,u);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,u=typeof y=="function"?y.call(v,m,u):y,u==null)break e;m=_e({},m,u);break e;case 2:ks=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,u=a.effects,u===null?a.effects=[o]:u.push(o))}else v={eventTime:v,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=v,c=m):p=p.next=v,l|=u;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;u=o,o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}while(!0);if(p===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Lr|=l,e.lanes=l,e.memoizedState=m}}function tm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(V(191,a));a.call(n)}}}var za={},Xt=Zs(za),ba=Zs(za),wa=Zs(za);function hr(e){if(e===za)throw Error(V(174));return e}function jd(e,t){switch(ye(wa,t),ye(ba,e),ye(Xt,za),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}we(Xt),ye(Xt,t)}function Nn(){we(Xt),we(ba),we(wa)}function Gp(e){hr(wa.current);var t=hr(Xt.current),s=Po(t,e.type);t!==s&&(ye(ba,e),ye(Xt,s))}function Nd(e){ba.current===e&&(we(Xt),we(ba))}var Ne=Zs(0);function Xi(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function kd(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var wi=xs.ReactCurrentDispatcher,eo=xs.ReactCurrentBatchConfig,Rr=0,ke=null,Ae=null,De=null,Ji=!1,aa=!1,ja=0,sy=0;function Ie(){throw Error(V(321))}function _d(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ut(e[s],t[s]))return!1;return!0}function Sd(e,t,s,n,a,i){if(Rr=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wi.current=e===null||e.memoizedState===null?iy:ly,e=s(n,a),aa){i=0;do{if(aa=!1,ja=0,25<=i)throw Error(V(301));i+=1,De=Ae=null,t.updateQueue=null,wi.current=oy,e=s(n,a)}while(aa)}if(wi.current=Zi,t=Ae!==null&&Ae.next!==null,Rr=0,De=Ae=ke=null,Ji=!1,t)throw Error(V(300));return e}function Cd(){var e=ja!==0;return ja=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ke.memoizedState=De=e:De=De.next=e,De}function Pt(){if(Ae===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=De===null?ke.memoizedState:De.next;if(t!==null)De=t,Ae=e;else{if(e===null)throw Error(V(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},De===null?ke.memoizedState=De=e:De=De.next=e}return De}function Na(e,t){return typeof t=="function"?t(e):t}function to(e){var t=Pt(),s=t.queue;if(s===null)throw Error(V(311));s.lastRenderedReducer=e;var n=Ae,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var p=d.lane;if((Rr&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,ke.lanes|=p,Lr|=p}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Ut(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,ke.lanes|=i,Lr|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function so(e){var t=Pt(),s=t.queue;if(s===null)throw Error(V(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Ut(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function Xp(){}function Jp(e,t){var s=ke,n=Pt(),a=t(),i=!Ut(n.memoizedState,a);if(i&&(n.memoizedState=a,nt=!0),n=n.queue,Ed(tf.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(s.flags|=2048,ka(9,ef.bind(null,s,n,a,t),void 0,null),$e===null)throw Error(V(349));Rr&30||Zp(s,t,a)}return a}function Zp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ef(e,t,s,n){t.value=s,t.getSnapshot=n,sf(t)&&rf(e)}function tf(e,t,s){return s(function(){sf(t)&&rf(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ut(e,s)}catch{return!0}}function rf(e){var t=ps(e,1);t!==null&&zt(t,e,1,-1)}function sm(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=ay.bind(null,ke,e),[t.memoizedState,e]}function ka(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function nf(){return Pt().memoizedState}function ji(e,t,s,n){var a=Wt();ke.flags|=e,a.memoizedState=ka(1|t,s,void 0,n===void 0?null:n)}function gl(e,t,s,n){var a=Pt();n=n===void 0?null:n;var i=void 0;if(Ae!==null){var l=Ae.memoizedState;if(i=l.destroy,n!==null&&_d(n,l.deps)){a.memoizedState=ka(t,s,i,n);return}}ke.flags|=e,a.memoizedState=ka(1|t,s,i,n)}function rm(e,t){return ji(8390656,8,e,t)}function Ed(e,t){return gl(2048,8,e,t)}function af(e,t){return gl(4,2,e,t)}function lf(e,t){return gl(4,4,e,t)}function of(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cf(e,t,s){return s=s!=null?s.concat([e]):null,gl(4,4,of.bind(null,t,e),s)}function Pd(){}function df(e,t){var s=Pt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&_d(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function uf(e,t){var s=Pt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&_d(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function mf(e,t,s){return Rr&21?(Ut(s,t)||(s=xp(),ke.lanes|=s,Lr|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=s)}function ry(e,t){var s=xe;xe=s!==0&&4>s?s:4,e(!0);var n=eo.transition;eo.transition={};try{e(!1),t()}finally{xe=s,eo.transition=n}}function hf(){return Pt().memoizedState}function ny(e,t,s){var n=Ws(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},pf(e))ff(t,s);else if(s=Kp(e,t,s,n),s!==null){var a=Xe();zt(s,e,n,a),xf(s,t,n)}}function ay(e,t,s){var n=Ws(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(pf(e))ff(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,Ut(o,l)){var c=t.interleaved;c===null?(a.next=a,bd(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Kp(e,t,a,n),s!==null&&(a=Xe(),zt(s,e,n,a),xf(s,t,n))}}function pf(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function ff(e,t){aa=Ji=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xf(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,id(e,s)}}var Zi={readContext:Et,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},iy={readContext:Et,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:rm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ji(4194308,4,of.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var s=Wt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Wt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ny.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:sm,useDebugValue:Pd,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=sm(!1),t=e[0];return e=ry.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ke,a=Wt();if(je){if(s===void 0)throw Error(V(407));s=s()}else{if(s=t(),$e===null)throw Error(V(349));Rr&30||Zp(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,rm(tf.bind(null,n,i,e),[e]),n.flags|=2048,ka(9,ef.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(je){var s=cs,n=os;s=(n&~(1<<32-Bt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=ja++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=sy++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ly={readContext:Et,useCallback:df,useContext:Et,useEffect:Ed,useImperativeHandle:cf,useInsertionEffect:af,useLayoutEffect:lf,useMemo:uf,useReducer:to,useRef:nf,useState:function(){return to(Na)},useDebugValue:Pd,useDeferredValue:function(e){var t=Pt();return mf(t,Ae.memoizedState,e)},useTransition:function(){var e=to(Na)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Jp,useId:hf,unstable_isNewReconciler:!1},oy={readContext:Et,useCallback:df,useContext:Et,useEffect:Ed,useImperativeHandle:cf,useInsertionEffect:af,useLayoutEffect:lf,useMemo:uf,useReducer:so,useRef:nf,useState:function(){return so(Na)},useDebugValue:Pd,useDeferredValue:function(e){var t=Pt();return Ae===null?t.memoizedState=e:mf(t,Ae.memoizedState,e)},useTransition:function(){var e=so(Na)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Jp,useId:hf,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Go(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:_e({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yl={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Xe(),a=Ws(e),i=ds(n,a);i.payload=t,s!=null&&(i.callback=s),t=qs(e,i,a),t!==null&&(zt(t,e,a,n),bi(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Xe(),a=Ws(e),i=ds(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=qs(e,i,a),t!==null&&(zt(t,e,a,n),bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Xe(),n=Ws(e),a=ds(s,n);a.tag=2,t!=null&&(a.callback=t),t=qs(e,a,n),t!==null&&(zt(t,e,n,s),bi(t,e,n))}};function nm(e,t,s,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!xa(s,n)||!xa(a,i):!0}function gf(e,t,s){var n=!1,a=Xs,i=t.contextType;return typeof i=="object"&&i!==null?i=Et(i):(a=it(t)?Er:He.current,n=t.contextTypes,i=(n=n!=null)?bn(e,a):Xs),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function am(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Xo(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},wd(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Et(i):(i=it(t)?Er:He.current,a.context=bn(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Go(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yl.enqueueReplaceState(a,a.state,null),Gi(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kn(e,t){try{var s="",n=t;do s+=Fx(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ro(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var cy=typeof WeakMap=="function"?WeakMap:Map;function yf(e,t,s){s=ds(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){tl||(tl=!0,oc=n),Jo(e,t)},s}function vf(e,t,s){s=ds(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Jo(e,t),typeof n!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function im(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new cy;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=Ny.bind(null,e,t,s),t.then(e,e))}function lm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function om(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ds(-1,1),t.tag=2,qs(s,t,1))),s.lanes|=1),e)}var dy=xs.ReactCurrentOwner,nt=!1;function Ye(e,t,s,n){t.child=e===null?Qp(t,null,s,n):jn(t,e.child,s,n)}function cm(e,t,s,n,a){s=s.render;var i=t.ref;return nn(t,a),n=Sd(e,t,s,n,i,a),s=Cd(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(je&&s&&pd(t),t.flags|=1,Ye(e,t,n,a),t.child)}function dm(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Dd(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,bf(e,t,i,n,a)):(e=Si(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:xa,s(l,n)&&e.ref===t.ref)return fs(e,t,a)}return t.flags|=1,e=Hs(i,n),e.ref=t.ref,e.return=t,t.child=e}function bf(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(xa(i,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,fs(e,t,a)}return Zo(e,t,s,n,a)}function wf(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Zr,ut),ut|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Zr,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,ye(Zr,ut),ut|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,ye(Zr,ut),ut|=n;return Ye(e,t,a,s),t.child}function jf(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Zo(e,t,s,n,a){var i=it(s)?Er:He.current;return i=bn(t,i),nn(t,a),s=Sd(e,t,s,n,i,a),n=Cd(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fs(e,t,a)):(je&&n&&pd(t),t.flags|=1,Ye(e,t,s,a),t.child)}function um(e,t,s,n,a){if(it(s)){var i=!0;Wi(t)}else i=!1;if(nn(t,a),t.stateNode===null)Ni(e,t),gf(t,s,n),Xo(t,s,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Et(d):(d=it(s)?Er:He.current,d=bn(t,d));var p=s.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&am(t,l,n,d),ks=!1;var u=t.memoizedState;l.state=u,Gi(t,n,l,a),c=t.memoizedState,o!==n||u!==c||at.current||ks?(typeof p=="function"&&(Go(t,s,p,n),c=t.memoizedState),(o=ks||nm(t,s,o,n,u,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Yp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:At(t.type,o),l.props=d,m=t.pendingProps,u=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=it(s)?Er:He.current,c=bn(t,c));var v=s.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||u!==c)&&am(t,l,n,c),ks=!1,u=t.memoizedState,l.state=u,Gi(t,n,l,a);var y=t.memoizedState;o!==m||u!==y||at.current||ks?(typeof v=="function"&&(Go(t,s,v,n),y=t.memoizedState),(d=ks||nm(t,s,d,n,u,y,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return ec(e,t,s,n,i,a)}function ec(e,t,s,n,a,i){jf(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Gu(t,s,!1),fs(e,t,i);n=t.stateNode,dy.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=jn(t,e.child,null,i),t.child=jn(t,null,o,i)):Ye(e,t,o,i),t.memoizedState=n.state,a&&Gu(t,s,!0),t.child}function Nf(e){var t=e.stateNode;t.pendingContext?Yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yu(e,t.context,!1),jd(e,t.containerInfo)}function mm(e,t,s,n,a){return wn(),xd(a),t.flags|=256,Ye(e,t,s,n),t.child}var tc={dehydrated:null,treeContext:null,retryLane:0};function sc(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,t,s){var n=t.pendingProps,a=Ne.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Ne,a&1),e===null)return Ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=wl(l,n,0,null),e=Sr(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sc(s),t.memoizedState=tc,e):Rd(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return uy(e,t,l,n,o,a,s);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Hs(o,i):(i=Sr(i,l,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?sc(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~s,t.memoizedState=tc,n}return i=e.child,e=i.sibling,n=Hs(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Rd(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,s,n){return n!==null&&xd(n),jn(t,e.child,null,s),e=Rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uy(e,t,s,n,a,i,l){if(s)return t.flags&256?(t.flags&=-257,n=ro(Error(V(422))),ai(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=wl({mode:"visible",children:n.children},a,0,null),i=Sr(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&jn(t,e.child,null,l),t.child.memoizedState=sc(l),t.memoizedState=tc,i);if(!(t.mode&1))return ai(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(V(419)),n=ro(i,n,void 0),ai(e,t,l,n)}if(o=(l&e.childLanes)!==0,nt||o){if(n=$e,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ps(e,a),zt(n,e,a,-1))}return Fd(),n=ro(Error(V(421))),ai(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ky.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mt=Is(a.nextSibling),ht=t,je=!0,$t=null,e!==null&&(Nt[kt++]=os,Nt[kt++]=cs,Nt[kt++]=Pr,os=e.id,cs=e.overflow,Pr=t),t=Rd(t,n.children),t.flags|=4096,t)}function hm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yo(e.return,t,s)}function no(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function _f(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ye(e,t,n.children,s),n=Ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,s,t);else if(e.tag===19)hm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Ne,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Xi(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),no(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xi(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}no(t,!0,s,null,i);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Lr|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,s=Hs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Hs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function my(e,t,s){switch(t.tag){case 3:Nf(t),wn();break;case 5:Gp(t);break;case 1:it(t.type)&&Wi(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ye(Ki,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Ne,Ne.current&1),t.flags|=128,null):s&t.child.childLanes?kf(e,t,s):(ye(Ne,Ne.current&1),e=fs(e,t,s),e!==null?e.sibling:null);ye(Ne,Ne.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return _f(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Ne,Ne.current),n)break;return null;case 22:case 23:return t.lanes=0,wf(e,t,s)}return fs(e,t,s)}var Sf,rc,Cf,Ef;Sf=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};rc=function(){};Cf=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,hr(Xt.current);var i=null;switch(s){case"input":a=_o(e,a),n=_o(e,n),i=[];break;case"select":a=_e({},a,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":a=Eo(e,a),n=Eo(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qi)}Ro(s,n);var l;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ca.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ca.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&be("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ef=function(e,t,s,n){s!==n&&(t.flags|=4)};function In(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function hy(e,t,s){var n=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return it(t.type)&&Vi(),qe(t),null;case 3:return n=t.stateNode,Nn(),we(at),we(He),kd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(uc($t),$t=null))),rc(e,t),qe(t),null;case 5:Nd(t);var a=hr(wa.current);if(s=t.type,e!==null&&t.stateNode!=null)Cf(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return qe(t),null}if(e=hr(Xt.current),ri(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Yt]=t,n[va]=i,e=(t.mode&1)!==0,s){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(a=0;a<Xn.length;a++)be(Xn[a],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":ju(n,i),be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},be("invalid",n);break;case"textarea":ku(n,i),be("invalid",n)}Ro(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&si(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&si(n.textContent,o,e),a=["children",""+o]):ca.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&be("scroll",n)}switch(s){case"input":Ka(n),Nu(n,i,!0);break;case"textarea":Ka(n),_u(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qi)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[Yt]=t,e[va]=n,Sf(e,t,!1,!1),t.stateNode=e;e:{switch(l=Lo(s,n),s){case"dialog":be("cancel",e),be("close",e),a=n;break;case"iframe":case"object":case"embed":be("load",e),a=n;break;case"video":case"audio":for(a=0;a<Xn.length;a++)be(Xn[a],e);a=n;break;case"source":be("error",e),a=n;break;case"img":case"image":case"link":be("error",e),be("load",e),a=n;break;case"details":be("toggle",e),a=n;break;case"input":ju(e,n),a=_o(e,n),be("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=_e({},n,{value:void 0}),be("invalid",e);break;case"textarea":ku(e,n),a=Eo(e,n),be("invalid",e);break;default:a=n}Ro(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?np(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sp(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&da(e,c):typeof c=="number"&&da(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ca.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",e):c!=null&&ed(e,i,c,l))}switch(s){case"input":Ka(e),Nu(e,n,!1);break;case"textarea":Ka(e),_u(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?en(e,!!n.multiple,i,!1):n.defaultValue!=null&&en(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qi)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Ef(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(s=hr(wa.current),hr(Xt.current),ri(t)){if(n=t.stateNode,s=t.memoizedProps,n[Yt]=t,(i=n.nodeValue!==s)&&(e=ht,e!==null))switch(e.tag){case 3:si(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return qe(t),null;case 13:if(we(Ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&mt!==null&&t.mode&1&&!(t.flags&128))Wp(),wn(),t.flags|=98560,i=!1;else if(i=ri(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(V(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(V(317));i[Yt]=t}else wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else $t!==null&&(uc($t),$t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Oe===0&&(Oe=3):Fd())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Nn(),rc(e,t),e===null&&ga(t.stateNode.containerInfo),qe(t),null;case 10:return vd(t.type._context),qe(t),null;case 17:return it(t.type)&&Vi(),qe(t),null;case 19:if(we(Ne),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)In(i,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Xi(e),l!==null){for(t.flags|=128,In(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Ne,Ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>_n&&(t.flags|=128,n=!0,In(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xi(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),In(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!je)return qe(t),null}else 2*Ee()-i.renderingStartTime>_n&&s!==1073741824&&(t.flags|=128,n=!0,In(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(s=i.last,s!==null?s.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,s=Ne.current,ye(Ne,n?s&1|2:s&1),t):(qe(t),null);case 22:case 23:return Od(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ut&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function py(e,t){switch(fd(t),t.tag){case 1:return it(t.type)&&Vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),we(at),we(He),kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nd(t),null;case 13:if(we(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Ne),null;case 4:return Nn(),null;case 10:return vd(t.type._context),null;case 22:case 23:return Od(),null;case 24:return null;default:return null}}var ii=!1,Ve=!1,fy=typeof WeakSet=="function"?WeakSet:Set,X=null;function Jr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Ce(e,t,n)}else s.current=null}function nc(e,t,s){try{s()}catch(n){Ce(e,t,n)}}var pm=!1;function xy(e,t){if(Uo=zi,e=Tp(),hd(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,p=0,m=e,u=null;t:for(;;){for(var v;m!==s||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)u=m,m=v;for(;;){if(m===e)break t;if(u===s&&++d===a&&(o=l),u===i&&++p===n&&(c=l),(v=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=v}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Io={focusedElem:e,selectionRange:s},zi=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:At(t.type,b),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){Ce(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return y=pm,pm=!1,y}function ia(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&nc(t,s,i)}a=a.next}while(a!==n)}}function vl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function ac(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Pf(e){var t=e.alternate;t!==null&&(e.alternate=null,Pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[va],delete t[Wo],delete t[Jg],delete t[Zg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rf(e){return e.tag===5||e.tag===3||e.tag===4}function fm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ic(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=qi));else if(n!==4&&(e=e.child,e!==null))for(ic(e,t,s),e=e.sibling;e!==null;)ic(e,t,s),e=e.sibling}function lc(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lc(e,t,s),e=e.sibling;e!==null;)lc(e,t,s),e=e.sibling}var Be=null,Ft=!1;function bs(e,t,s){for(s=s.child;s!==null;)Lf(e,t,s),s=s.sibling}function Lf(e,t,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ul,s)}catch{}switch(s.tag){case 5:Ve||Jr(s,t);case 6:var n=Be,a=Ft;Be=null,bs(e,t,s),Be=n,Ft=a,Be!==null&&(Ft?(e=Be,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Be.removeChild(s.stateNode));break;case 18:Be!==null&&(Ft?(e=Be,s=s.stateNode,e.nodeType===8?Xl(e.parentNode,s):e.nodeType===1&&Xl(e,s),pa(e)):Xl(Be,s.stateNode));break;case 4:n=Be,a=Ft,Be=s.stateNode.containerInfo,Ft=!0,bs(e,t,s),Be=n,Ft=a;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&nc(s,t,l),a=a.next}while(a!==n)}bs(e,t,s);break;case 1:if(!Ve&&(Jr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){Ce(s,t,o)}bs(e,t,s);break;case 21:bs(e,t,s);break;case 22:s.mode&1?(Ve=(n=Ve)||s.memoizedState!==null,bs(e,t,s),Ve=n):bs(e,t,s);break;default:bs(e,t,s)}}function xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new fy),t.forEach(function(n){var a=_y.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Tt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,Ft=!1;break e;case 3:Be=o.stateNode.containerInfo,Ft=!0;break e;case 4:Be=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if(Be===null)throw Error(V(160));Lf(i,l,a),Be=null,Ft=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ce(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tf(t,e),t=t.sibling}function Tf(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),qt(e),n&4){try{ia(3,e,e.return),vl(3,e)}catch(b){Ce(e,e.return,b)}try{ia(5,e,e.return)}catch(b){Ce(e,e.return,b)}}break;case 1:Tt(t,e),qt(e),n&512&&s!==null&&Jr(s,s.return);break;case 5:if(Tt(t,e),qt(e),n&512&&s!==null&&Jr(s,s.return),e.flags&32){var a=e.stateNode;try{da(a,"")}catch(b){Ce(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=s!==null?s.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Zh(a,i),Lo(o,l);var d=Lo(o,i);for(l=0;l<c.length;l+=2){var p=c[l],m=c[l+1];p==="style"?np(a,m):p==="dangerouslySetInnerHTML"?sp(a,m):p==="children"?da(a,m):ed(a,p,m,d)}switch(o){case"input":So(a,i);break;case"textarea":ep(a,i);break;case"select":var u=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?en(a,!!i.multiple,v,!1):u!==!!i.multiple&&(i.defaultValue!=null?en(a,!!i.multiple,i.defaultValue,!0):en(a,!!i.multiple,i.multiple?[]:"",!1))}a[va]=i}catch(b){Ce(e,e.return,b)}}break;case 6:if(Tt(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(V(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Ce(e,e.return,b)}}break;case 3:if(Tt(t,e),qt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{pa(t.containerInfo)}catch(b){Ce(e,e.return,b)}break;case 4:Tt(t,e),qt(e);break;case 13:Tt(t,e),qt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ad=Ee())),n&4&&xm(e);break;case 22:if(p=s!==null&&s.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||p,Tt(t,e),Ve=d):Tt(t,e),qt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(X=e,p=e.child;p!==null;){for(m=X=p;X!==null;){switch(u=X,v=u.child,u.tag){case 0:case 11:case 14:case 15:ia(4,u,u.return);break;case 1:Jr(u,u.return);var y=u.stateNode;if(typeof y.componentWillUnmount=="function"){n=u,s=u.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Ce(n,s,b)}}break;case 5:Jr(u,u.return);break;case 22:if(u.memoizedState!==null){ym(m);continue}}v!==null?(v.return=u,X=v):ym(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=rp("display",l))}catch(b){Ce(e,e.return,b)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){Ce(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Tt(t,e),qt(e),n&4&&xm(e);break;case 21:break;default:Tt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Rf(s)){var n=s;break e}s=s.return}throw Error(V(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(da(a,""),n.flags&=-33);var i=fm(e);lc(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=fm(e);ic(e,o,l);break;default:throw Error(V(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gy(e,t,s){X=e,Af(e)}function Af(e,t,s){for(var n=(e.mode&1)!==0;X!==null;){var a=X,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||ii;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ve;o=ii;var d=Ve;if(ii=l,(Ve=c)&&!d)for(X=a;X!==null;)l=X,c=l.child,l.tag===22&&l.memoizedState!==null?vm(a):c!==null?(c.return=l,X=c):vm(a);for(;i!==null;)X=i,Af(i),i=i.sibling;X=a,ii=o,Ve=d}gm(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,X=i):gm(e)}}function gm(e){for(;X!==null;){var t=X;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||vl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ve)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:At(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tm(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}tm(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&pa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Ve||t.flags&512&&ac(t)}catch(u){Ce(t,t.return,u)}}if(t===e){X=null;break}if(s=t.sibling,s!==null){s.return=t.return,X=s;break}X=t.return}}function ym(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var s=t.sibling;if(s!==null){s.return=t.return,X=s;break}X=t.return}}function vm(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{vl(4,t)}catch(c){Ce(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ce(t,a,c)}}var i=t.return;try{ac(t)}catch(c){Ce(t,i,c)}break;case 5:var l=t.return;try{ac(t)}catch(c){Ce(t,l,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){X=null;break}var o=t.sibling;if(o!==null){o.return=t.return,X=o;break}X=t.return}}var yy=Math.ceil,el=xs.ReactCurrentDispatcher,Ld=xs.ReactCurrentOwner,Ct=xs.ReactCurrentBatchConfig,de=0,$e=null,Re=null,ze=0,ut=0,Zr=Zs(0),Oe=0,_a=null,Lr=0,bl=0,Td=0,la=null,rt=null,Ad=0,_n=1/0,ss=null,tl=!1,oc=null,Vs=null,li=!1,Ds=null,sl=0,oa=0,cc=null,ki=-1,_i=0;function Xe(){return de&6?Ee():ki!==-1?ki:ki=Ee()}function Ws(e){return e.mode&1?de&2&&ze!==0?ze&-ze:ty.transition!==null?(_i===0&&(_i=xp()),_i):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Np(e.type)),e):1}function zt(e,t,s,n){if(50<oa)throw oa=0,cc=null,Error(V(185));Da(e,s,n),(!(de&2)||e!==$e)&&(e===$e&&(!(de&2)&&(bl|=s),Oe===4&&Ss(e,ze)),lt(e,n),s===1&&de===0&&!(t.mode&1)&&(_n=Ee()+500,xl&&er()))}function lt(e,t){var s=e.callbackNode;tg(e,t);var n=Bi(e,e===$e?ze:0);if(n===0)s!==null&&Eu(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Eu(s),t===1)e.tag===0?ey(bm.bind(null,e)):Ip(bm.bind(null,e)),Gg(function(){!(de&6)&&er()}),s=null;else{switch(gp(n)){case 1:s=ad;break;case 4:s=pp;break;case 16:s=$i;break;case 536870912:s=fp;break;default:s=$i}s=Uf(s,Mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Mf(e,t){if(ki=-1,_i=0,de&6)throw Error(V(327));var s=e.callbackNode;if(an()&&e.callbackNode!==s)return null;var n=Bi(e,e===$e?ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=rl(e,n);else{t=n;var a=de;de|=2;var i=Ff();($e!==e||ze!==t)&&(ss=null,_n=Ee()+500,_r(e,t));do try{wy();break}catch(o){Of(e,o)}while(!0);yd(),el.current=i,de=a,Re!==null?t=0:($e=null,ze=0,t=Oe)}if(t!==0){if(t===2&&(a=Fo(e),a!==0&&(n=a,t=dc(e,a))),t===1)throw s=_a,_r(e,0),Ss(e,n),lt(e,Ee()),s;if(t===6)Ss(e,n);else{if(a=e.current.alternate,!(n&30)&&!vy(a)&&(t=rl(e,n),t===2&&(i=Fo(e),i!==0&&(n=i,t=dc(e,i))),t===1))throw s=_a,_r(e,0),Ss(e,n),lt(e,Ee()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:cr(e,rt,ss);break;case 3:if(Ss(e,n),(n&130023424)===n&&(t=Ad+500-Ee(),10<t)){if(Bi(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vo(cr.bind(null,e,rt,ss),t);break}cr(e,rt,ss);break;case 4:if(Ss(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Bt(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yy(n/1960))-n,10<n){e.timeoutHandle=Vo(cr.bind(null,e,rt,ss),n);break}cr(e,rt,ss);break;case 5:cr(e,rt,ss);break;default:throw Error(V(329))}}}return lt(e,Ee()),e.callbackNode===s?Mf.bind(null,e):null}function dc(e,t){var s=la;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=rl(e,t),e!==2&&(t=rt,rt=s,t!==null&&uc(t)),e}function uc(e){rt===null?rt=e:rt.push.apply(rt,e)}function vy(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!Ut(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~Td,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Bt(t),n=1<<s;e[s]=-1,t&=~n}}function bm(e){if(de&6)throw Error(V(327));an();var t=Bi(e,0);if(!(t&1))return lt(e,Ee()),null;var s=rl(e,t);if(e.tag!==0&&s===2){var n=Fo(e);n!==0&&(t=n,s=dc(e,n))}if(s===1)throw s=_a,_r(e,0),Ss(e,t),lt(e,Ee()),s;if(s===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,rt,ss),lt(e,Ee()),null}function Md(e,t){var s=de;de|=1;try{return e(t)}finally{de=s,de===0&&(_n=Ee()+500,xl&&er())}}function Tr(e){Ds!==null&&Ds.tag===0&&!(de&6)&&an();var t=de;de|=1;var s=Ct.transition,n=xe;try{if(Ct.transition=null,xe=1,e)return e()}finally{xe=n,Ct.transition=s,de=t,!(de&6)&&er()}}function Od(){ut=Zr.current,we(Zr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Yg(s)),Re!==null)for(s=Re.return;s!==null;){var n=s;switch(fd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vi();break;case 3:Nn(),we(at),we(He),kd();break;case 5:Nd(n);break;case 4:Nn();break;case 13:we(Ne);break;case 19:we(Ne);break;case 10:vd(n.type._context);break;case 22:case 23:Od()}s=s.return}if($e=e,Re=e=Hs(e.current,null),ze=ut=t,Oe=0,_a=null,Td=bl=Lr=0,rt=la=null,mr!==null){for(t=0;t<mr.length;t++)if(s=mr[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}s.pending=n}mr=null}return e}function Of(e,t){do{var s=Re;try{if(yd(),wi.current=Zi,Ji){for(var n=ke.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ji=!1}if(Rr=0,De=Ae=ke=null,aa=!1,ja=0,Ld.current=null,s===null||s.return===null){Oe=1,_a=t,Re=null;break}e:{var i=e,l=s.return,o=s,c=t;if(t=ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var u=p.alternate;u?(p.updateQueue=u.updateQueue,p.memoizedState=u.memoizedState,p.lanes=u.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=lm(l);if(v!==null){v.flags&=-257,om(v,l,o,i,t),v.mode&1&&im(i,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){im(i,d,t),Fd();break e}c=Error(V(426))}}else if(je&&o.mode&1){var w=lm(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),om(w,l,o,i,t),xd(kn(c,o));break e}}i=c=kn(c,o),Oe!==4&&(Oe=2),la===null?la=[i]:la.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=yf(i,c,t);em(i,g);break e;case 1:o=c;var h=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=vf(i,o,t);em(i,j);break e}}i=i.return}while(i!==null)}$f(s)}catch(P){t=P,Re===s&&s!==null&&(Re=s=s.return);continue}break}while(!0)}function Ff(){var e=el.current;return el.current=Zi,e===null?Zi:e}function Fd(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),$e===null||!(Lr&268435455)&&!(bl&268435455)||Ss($e,ze)}function rl(e,t){var s=de;de|=2;var n=Ff();($e!==e||ze!==t)&&(ss=null,_r(e,t));do try{by();break}catch(a){Of(e,a)}while(!0);if(yd(),de=s,el.current=n,Re!==null)throw Error(V(261));return $e=null,ze=0,Oe}function by(){for(;Re!==null;)Df(Re)}function wy(){for(;Re!==null&&!Hx();)Df(Re)}function Df(e){var t=zf(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?$f(e):Re=t,Ld.current=null}function $f(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=py(s,t),s!==null){s.flags&=32767,Re=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Re=null;return}}else if(s=hy(s,t,ut),s!==null){Re=s;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Oe===0&&(Oe=5)}function cr(e,t,s){var n=xe,a=Ct.transition;try{Ct.transition=null,xe=1,jy(e,t,s,n)}finally{Ct.transition=a,xe=n}return null}function jy(e,t,s,n){do an();while(Ds!==null);if(de&6)throw Error(V(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(sg(e,i),e===$e&&(Re=$e=null,ze=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||li||(li=!0,Uf($i,function(){return an(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var l=xe;xe=1;var o=de;de|=4,Ld.current=null,xy(e,s),Tf(s,e),Ig(Io),zi=!!Uo,Io=Uo=null,e.current=s,gy(s),Qx(),de=o,xe=l,Ct.transition=i}else e.current=s;if(li&&(li=!1,Ds=e,sl=a),i=e.pendingLanes,i===0&&(Vs=null),Gx(s.stateNode),lt(e,Ee()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(tl)throw tl=!1,e=oc,oc=null,e;return sl&1&&e.tag!==0&&an(),i=e.pendingLanes,i&1?e===cc?oa++:(oa=0,cc=e):oa=0,er(),null}function an(){if(Ds!==null){var e=gp(sl),t=Ct.transition,s=xe;try{if(Ct.transition=null,xe=16>e?16:e,Ds===null)var n=!1;else{if(e=Ds,Ds=null,sl=0,de&6)throw Error(V(331));var a=de;for(de|=4,X=e.current;X!==null;){var i=X,l=i.child;if(X.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(X=d;X!==null;){var p=X;switch(p.tag){case 0:case 11:case 15:ia(8,p,i)}var m=p.child;if(m!==null)m.return=p,X=m;else for(;X!==null;){p=X;var u=p.sibling,v=p.return;if(Pf(p),p===d){X=null;break}if(u!==null){u.return=v,X=u;break}X=v}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,X=l;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ia(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var h=e.current;for(X=h;X!==null;){l=X;var f=l.child;if(l.subtreeFlags&2064&&f!==null)f.return=l,X=f;else e:for(l=h;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vl(9,o)}}catch(P){Ce(o,o.return,P)}if(o===l){X=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,X=j;break e}X=o.return}}if(de=a,er(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ul,e)}catch{}n=!0}return n}finally{xe=s,Ct.transition=t}}return!1}function wm(e,t,s){t=kn(s,t),t=yf(e,t,1),e=qs(e,t,1),t=Xe(),e!==null&&(Da(e,1,t),lt(e,t))}function Ce(e,t,s){if(e.tag===3)wm(e,e,s);else for(;t!==null;){if(t.tag===3){wm(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vs===null||!Vs.has(n))){e=kn(s,e),e=vf(t,e,1),t=qs(t,e,1),e=Xe(),t!==null&&(Da(t,1,e),lt(t,e));break}}t=t.return}}function Ny(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(ze&s)===s&&(Oe===4||Oe===3&&(ze&130023424)===ze&&500>Ee()-Ad?_r(e,0):Td|=s),lt(e,t)}function Bf(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var s=Xe();e=ps(e,t),e!==null&&(Da(e,t,s),lt(e,s))}function ky(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Bf(e,s)}function _y(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),Bf(e,s)}var zf;zf=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)nt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return nt=!1,my(e,t,s);nt=!!(e.flags&131072)}else nt=!1,je&&t.flags&1048576&&qp(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ni(e,t),e=t.pendingProps;var a=bn(t,He.current);nn(t,s),a=Sd(null,t,n,e,a,s);var i=Cd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(i=!0,Wi(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,wd(t),a.updater=yl,t.stateNode=a,a._reactInternals=t,Xo(t,n,e,s),t=ec(null,t,n,!0,i,s)):(t.tag=0,je&&i&&pd(t),Ye(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Cy(n),e=At(n,e),a){case 0:t=Zo(null,t,n,e,s);break e;case 1:t=um(null,t,n,e,s);break e;case 11:t=cm(null,t,n,e,s);break e;case 14:t=dm(null,t,n,At(n.type,e),s);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),Zo(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),um(e,t,n,a,s);case 3:e:{if(Nf(t),e===null)throw Error(V(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Yp(e,t),Gi(t,n,null,s);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=kn(Error(V(423)),t),t=mm(e,t,n,s,a);break e}else if(n!==a){a=kn(Error(V(424)),t),t=mm(e,t,n,s,a);break e}else for(mt=Is(t.stateNode.containerInfo.firstChild),ht=t,je=!0,$t=null,s=Qp(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wn(),n===a){t=fs(e,t,s);break e}Ye(e,t,n,s)}t=t.child}return t;case 5:return Gp(t),e===null&&Ko(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,qo(n,a)?l=null:i!==null&&qo(n,i)&&(t.flags|=32),jf(e,t),Ye(e,t,l,s),t.child;case 6:return e===null&&Ko(t),null;case 13:return kf(e,t,s);case 4:return jd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=jn(t,null,n,s):Ye(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),cm(e,t,n,a,s);case 7:return Ye(e,t,t.pendingProps,s),t.child;case 8:return Ye(e,t,t.pendingProps.children,s),t.child;case 12:return Ye(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ye(Ki,n._currentValue),n._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===a.children&&!at.current){t=fs(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ds(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Yo(i.return,s,t),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(V(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),Yo(l,s,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ye(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,nn(t,s),a=Et(a),n=n(a),t.flags|=1,Ye(e,t,n,s),t.child;case 14:return n=t.type,a=At(n,t.pendingProps),a=At(n.type,a),dm(e,t,n,a,s);case 15:return bf(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:At(n,a),Ni(e,t),t.tag=1,it(n)?(e=!0,Wi(t)):e=!1,nn(t,s),gf(t,n,a),Xo(t,n,a,s),ec(null,t,n,!0,e,s);case 19:return _f(e,t,s);case 22:return wf(e,t,s)}throw Error(V(156,t.tag))};function Uf(e,t){return hp(e,t)}function Sy(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,s,n){return new Sy(e,t,s,n)}function Dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cy(e){if(typeof e=="function")return Dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sd)return 11;if(e===rd)return 14}return 2}function Hs(e,t){var s=e.alternate;return s===null?(s=St(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Si(e,t,s,n,a,i){var l=2;if(n=e,typeof e=="function")Dd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case qr:return Sr(s.children,a,i,t);case td:l=8,a|=8;break;case wo:return e=St(12,s,t,a|2),e.elementType=wo,e.lanes=i,e;case jo:return e=St(13,s,t,a),e.elementType=jo,e.lanes=i,e;case No:return e=St(19,s,t,a),e.elementType=No,e.lanes=i,e;case Gh:return wl(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kh:l=10;break e;case Yh:l=9;break e;case sd:l=11;break e;case rd:l=14;break e;case Ns:l=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=St(l,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Sr(e,t,s,n){return e=St(7,e,n,t),e.lanes=s,e}function wl(e,t,s,n){return e=St(22,e,n,t),e.elementType=Gh,e.lanes=s,e.stateNode={isHidden:!1},e}function ao(e,t,s){return e=St(6,e,null,t),e.lanes=s,e}function io(e,t,s){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ey(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $d(e,t,s,n,a,i,l,o,c){return e=new Ey(e,t,s,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=St(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(i),e}function Py(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function If(e){if(!e)return Xs;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var s=e.type;if(it(s))return Up(e,s,t)}return t}function qf(e,t,s,n,a,i,l,o,c){return e=$d(s,n,!0,e,a,i,l,o,c),e.context=If(null),s=e.current,n=Xe(),a=Ws(s),i=ds(n,a),i.callback=t??null,qs(s,i,a),e.current.lanes=a,Da(e,a,n),lt(e,n),e}function jl(e,t,s,n){var a=t.current,i=Xe(),l=Ws(a);return s=If(s),t.context===null?t.context=s:t.pendingContext=s,t=ds(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qs(a,t,l),e!==null&&(zt(e,a,l,i),bi(e,a,l)),l}function nl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Bd(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Ry(){return null}var Vf=typeof reportError=="function"?reportError:function(e){console.error(e)};function zd(e){this._internalRoot=e}Nl.prototype.render=zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));jl(e,t,null,null)};Nl.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){jl(null,e,null,null)}),t[hs]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bp();e={blockedOn:null,target:e,priority:t};for(var s=0;s<_s.length&&t!==0&&t<_s[s].priority;s++);_s.splice(s,0,e),s===0&&jp(e)}};function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nm(){}function Ly(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=nl(l);i.call(d)}}var l=qf(t,n,e,0,null,!1,!1,"",Nm);return e._reactRootContainer=l,e[hs]=l.current,ga(e.nodeType===8?e.parentNode:e),Tr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=nl(c);o.call(d)}}var c=$d(e,0,!1,null,null,!1,!1,"",Nm);return e._reactRootContainer=c,e[hs]=c.current,ga(e.nodeType===8?e.parentNode:e),Tr(function(){jl(t,c,s,n)}),c}function _l(e,t,s,n,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=nl(l);o.call(c)}}jl(t,l,e,a)}else l=Ly(s,t,e,a,n);return nl(l)}yp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Gn(t.pendingLanes);s!==0&&(id(t,s|1),lt(t,Ee()),!(de&6)&&(_n=Ee()+500,er()))}break;case 13:Tr(function(){var n=ps(e,1);if(n!==null){var a=Xe();zt(n,e,1,a)}}),Bd(e,1)}};ld=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var s=Xe();zt(t,e,134217728,s)}Bd(e,134217728)}};vp=function(e){if(e.tag===13){var t=Ws(e),s=ps(e,t);if(s!==null){var n=Xe();zt(s,e,t,n)}Bd(e,t)}};bp=function(){return xe};wp=function(e,t){var s=xe;try{return xe=e,t()}finally{xe=s}};Ao=function(e,t,s){switch(t){case"input":if(So(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=fl(n);if(!a)throw Error(V(90));Jh(n),So(n,a)}}}break;case"textarea":ep(e,s);break;case"select":t=s.value,t!=null&&en(e,!!s.multiple,t,!1)}};lp=Md;op=Tr;var Ty={usingClientEntryPoint:!1,Events:[Ba,Qr,fl,ap,ip,Md]},qn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ay={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=up(e),e===null?null:e.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||Ry,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{ul=oi.inject(Ay),Gt=oi}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;ft.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(t))throw Error(V(200));return Py(e,t,null,s)};ft.createRoot=function(e,t){if(!Ud(e))throw Error(V(299));var s=!1,n="",a=Vf;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$d(e,1,!1,null,null,s,!1,n,a),e[hs]=t.current,ga(e.nodeType===8?e.parentNode:e),new zd(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=up(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Tr(e)};ft.hydrate=function(e,t,s){if(!kl(t))throw Error(V(200));return _l(null,e,t,!0,s)};ft.hydrateRoot=function(e,t,s){if(!Ud(e))throw Error(V(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",l=Vf;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=qf(t,null,e,1,s??null,a,!1,i,l),e[hs]=t.current,ga(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Nl(t)};ft.render=function(e,t,s){if(!kl(t))throw Error(V(200));return _l(null,e,t,!1,s)};ft.unmountComponentAtNode=function(e){if(!kl(e))throw Error(V(40));return e._reactRootContainer?(Tr(function(){_l(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0):!1};ft.unstable_batchedUpdates=Md;ft.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!kl(s))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return _l(e,t,s,!1,n)};ft.version="18.3.1-next-f1338f8080-20240426";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),Vh.exports=ft;var My=Vh.exports,Hf,km=My;Hf=km.createRoot,km.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Sa.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const _m="popstate";function Oy(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return mc("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:al(a)}return Dy(t,s,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fy(){return Math.random().toString(36).substr(2,8)}function Sm(e,t){return{usr:e.state,key:e.key,idx:t}}function mc(e,t,s,n){return s===void 0&&(s=null),Sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rn(t):t,{state:s,key:t&&t.key||n||Fy()})}function al(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rn(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Dy(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=$s.Pop,c=null,d=p();d==null&&(d=0,l.replaceState(Sa({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function m(){o=$s.Pop;let w=p(),g=w==null?null:w-d;d=w,c&&c({action:o,location:b.location,delta:g})}function u(w,g){o=$s.Push;let h=mc(b.location,w,g);d=p()+1;let f=Sm(h,d),j=b.createHref(h);try{l.pushState(f,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(j)}i&&c&&c({action:o,location:b.location,delta:1})}function v(w,g){o=$s.Replace;let h=mc(b.location,w,g);d=p();let f=Sm(h,d),j=b.createHref(h);l.replaceState(f,"",j),i&&c&&c({action:o,location:b.location,delta:0})}function y(w){let g=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof w=="string"?w:al(w);return h=h.replace(/ $/,"%20"),Pe(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let b={get action(){return o},get location(){return e(a,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_m,m),c=w,()=>{a.removeEventListener(_m,m),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:u,replace:v,go(w){return l.go(w)}};return b}var Cm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cm||(Cm={}));function $y(e,t,s){return s===void 0&&(s="/"),By(e,t,s)}function By(e,t,s,n){let a=typeof t=="string"?Rn(t):t,i=Id(a.pathname||"/",s);if(i==null)return null;let l=Kf(e);zy(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Jy(i);o=Yy(l[c],d)}return o}function Kf(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Qs([n,c.relativePath]),p=s.concat(c);i.children&&i.children.length>0&&(Pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kf(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Qy(d,i.index),routesMeta:p})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Yf(i.path))a(i,l,c)}),t}function Yf(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Yf(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function zy(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Ky(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Uy=/^:[\w-]+$/,Iy=3,qy=2,Vy=1,Wy=10,Hy=-2,Em=e=>e==="*";function Qy(e,t){let s=e.split("/"),n=s.length;return s.some(Em)&&(n+=Hy),t&&(n+=qy),s.filter(a=>!Em(a)).reduce((a,i)=>a+(Uy.test(i)?Iy:i===""?Vy:Wy),n)}function Ky(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Yy(e,t,s){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",m=Gy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),u=c.route;if(!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:Qs([i,m.pathname]),pathnameBase:s1(Qs([i,m.pathnameBase])),route:u}),m.pathnameBase!=="/"&&(i=Qs([i,m.pathnameBase]))}return l}function Gy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Xy(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:u,isOptional:v}=p;if(u==="*"){let b=o[m]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[m];return v&&!y?d[u]=void 0:d[u]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Xy(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Qf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Jy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Id(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Zy(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?Rn(e):e;return{pathname:s?s.startsWith("/")?s:e1(s,t):t,search:r1(n),hash:n1(a)}}function e1(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function lo(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t1(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function qd(e,t){let s=t1(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Vd(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Rn(e):(a=Sa({},e),Pe(!a.pathname||!a.pathname.includes("?"),lo("?","pathname","search",a)),Pe(!a.pathname||!a.pathname.includes("#"),lo("#","pathname","hash",a)),Pe(!a.search||!a.search.includes("#"),lo("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=s;else{let m=t.length-1;if(!n&&l.startsWith("..")){let u=l.split("/");for(;u[0]==="..";)u.shift(),m-=1;a.pathname=u.join("/")}o=m>=0?t[m]:"/"}let c=Zy(a,o),d=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Qs=e=>e.join("/").replace(/\/\/+/g,"/"),s1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function a1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Gf=["post","put","patch","delete"];new Set(Gf);const i1=["get",...Gf];new Set(i1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ca.apply(this,arguments)}const Wd=x.createContext(null),l1=x.createContext(null),tr=x.createContext(null),Sl=x.createContext(null),gs=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Xf=x.createContext(null);function o1(e,t){let{relative:s}=t===void 0?{}:t;Ln()||Pe(!1);let{basename:n,navigator:a}=x.useContext(tr),{hash:i,pathname:l,search:o}=Zf(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:Qs([n,l])),a.createHref({pathname:c,search:o,hash:i})}function Ln(){return x.useContext(Sl)!=null}function $r(){return Ln()||Pe(!1),x.useContext(Sl).location}function Jf(e){x.useContext(tr).static||x.useLayoutEffect(e)}function ys(){let{isDataRoute:e}=x.useContext(gs);return e?w1():c1()}function c1(){Ln()||Pe(!1);let e=x.useContext(Wd),{basename:t,future:s,navigator:n}=x.useContext(tr),{matches:a}=x.useContext(gs),{pathname:i}=$r(),l=JSON.stringify(qd(a,s.v7_relativeSplatPath)),o=x.useRef(!1);return Jf(()=>{o.current=!0}),x.useCallback(function(d,p){if(p===void 0&&(p={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=Vd(d,JSON.parse(l),i,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Qs([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,i,e])}function Rt(){let{matches:e}=x.useContext(gs),t=e[e.length-1];return t?t.params:{}}function Zf(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=x.useContext(tr),{matches:a}=x.useContext(gs),{pathname:i}=$r(),l=JSON.stringify(qd(a,n.v7_relativeSplatPath));return x.useMemo(()=>Vd(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function d1(e,t){return u1(e,t)}function u1(e,t,s,n){Ln()||Pe(!1);let{navigator:a}=x.useContext(tr),{matches:i}=x.useContext(gs),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=$r(),p;if(t){var m;let w=typeof t=="string"?Rn(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Pe(!1),p=w}else p=d;let u=p.pathname||"/",v=u;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=$y(e,{pathname:v}),b=x1(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Qs([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Qs([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,s,n);return t&&b?x.createElement(Sl.Provider,{value:{location:Ca({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:$s.Pop}},b):b}function m1(){let e=b1(),t=a1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),s?x.createElement("pre",{style:a},s):null,null)}const h1=x.createElement(m1,null);class p1 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?x.createElement(gs.Provider,{value:this.props.routeContext},x.createElement(Xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f1(e){let{routeContext:t,match:s,children:n}=e,a=x.useContext(Wd);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(gs.Provider,{value:t},n)}function x1(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(a=s)==null?void 0:a.errors;if(o!=null){let p=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);p>=0||Pe(!1),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:u,errors:v}=s,y=m.route.loader&&u[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,m,u)=>{let v,y=!1,b=null,w=null;s&&(v=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||h1,c&&(d<0&&u===0?(j1("route-fallback"),y=!0,w=null):d===u&&(y=!0,w=m.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,u+1)),h=()=>{let f;return v?f=b:y?f=w:m.route.Component?f=x.createElement(m.route.Component,null):m.route.element?f=m.route.element:f=p,x.createElement(f1,{match:m,routeContext:{outlet:p,matches:g,isDataRoute:s!=null},children:f})};return s&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?x.createElement(p1,{location:s.location,revalidation:s.revalidation,component:b,error:v,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var e0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e0||{}),t0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(t0||{});function g1(e){let t=x.useContext(Wd);return t||Pe(!1),t}function y1(e){let t=x.useContext(l1);return t||Pe(!1),t}function v1(e){let t=x.useContext(gs);return t||Pe(!1),t}function s0(e){let t=v1(),s=t.matches[t.matches.length-1];return s.route.id||Pe(!1),s.route.id}function b1(){var e;let t=x.useContext(Xf),s=y1(),n=s0();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function w1(){let{router:e}=g1(e0.UseNavigateStable),t=s0(t0.UseNavigateStable),s=x.useRef(!1);return Jf(()=>{s.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ca({fromRouteId:t},i)))},[e,t])}const Pm={};function j1(e,t,s){Pm[e]||(Pm[e]=!0)}function N1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function il(e){let{to:t,replace:s,state:n,relative:a}=e;Ln()||Pe(!1);let{future:i,static:l}=x.useContext(tr),{matches:o}=x.useContext(gs),{pathname:c}=$r(),d=ys(),p=Vd(t,qd(o,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(p);return x.useEffect(()=>d(JSON.parse(m),{replace:s,state:n,relative:a}),[d,m,a,s,n]),null}function Te(e){Pe(!1)}function k1(e){let{basename:t="/",children:s=null,location:n,navigationType:a=$s.Pop,navigator:i,static:l=!1,future:o}=e;Ln()&&Pe(!1);let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:i,static:l,future:Ca({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Rn(n));let{pathname:p="/",search:m="",hash:u="",state:v=null,key:y="default"}=n,b=x.useMemo(()=>{let w=Id(p,c);return w==null?null:{location:{pathname:w,search:m,hash:u,state:v,key:y},navigationType:a}},[c,p,m,u,v,y,a]);return b==null?null:x.createElement(tr.Provider,{value:d},x.createElement(Sl.Provider,{children:s,value:b}))}function _1(e){let{children:t,location:s}=e;return d1(hc(t),s)}new Promise(()=>{});function hc(e,t){t===void 0&&(t=[]);let s=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){s.push.apply(s,hc(n.props.children,i));return}n.type!==Te&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=hc(n.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},pc.apply(this,arguments)}function S1(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function C1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E1(e,t){return e.button===0&&(!t||t==="_self")&&!C1(e)}function fc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(a=>[s,a]):[[s,n]])},[]))}function P1(e,t){let s=fc(e);return t&&t.forEach((n,a)=>{s.has(a)||t.getAll(a).forEach(i=>{s.append(a,i)})}),s}const R1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],L1="6";try{window.__reactRouterVersion=L1}catch{}const T1="startTransition",Rm=Nx[T1];function A1(e){let{basename:t,children:s,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=Oy({window:a,v5Compat:!0}));let l=i.current,[o,c]=x.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},p=x.useCallback(m=>{d&&Rm?Rm(()=>c(m)):c(m)},[c,d]);return x.useLayoutEffect(()=>l.listen(p),[l,p]),x.useEffect(()=>N1(n),[n]),x.createElement(k1,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const M1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=x.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:p,viewTransition:m}=t,u=S1(t,R1),{basename:v}=x.useContext(tr),y,b=!1;if(typeof d=="string"&&O1.test(d)&&(y=d,M1))try{let f=new URL(window.location.href),j=d.startsWith("//")?new URL(f.protocol+d):new URL(d),P=Id(j.pathname,v);j.origin===f.origin&&P!=null?d=P+j.search+j.hash:b=!0}catch{}let w=o1(d,{relative:a}),g=F1(d,{replace:l,state:o,target:c,preventScrollReset:p,relative:a,viewTransition:m});function h(f){n&&n(f),f.defaultPrevented||g(f)}return x.createElement("a",pc({},u,{href:y||w,onClick:b||i?n:h,ref:s,target:c}))});var Lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lm||(Lm={}));var Tm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tm||(Tm={}));function F1(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=ys(),d=$r(),p=Zf(e,{relative:l});return x.useCallback(m=>{if(E1(m,s)){m.preventDefault();let u=n!==void 0?n:al(d)===al(p);c(e,{replace:u,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,p,n,a,s,e,i,l,o])}function gt(e){let t=x.useRef(fc(e)),s=x.useRef(!1),n=$r(),a=x.useMemo(()=>P1(n.search,s.current?null:t.current),[n.search]),i=ys(),l=x.useCallback((o,c)=>{const d=fc(typeof o=="function"?o(a):o);s.current=!0,i("?"+d,c)},[i,a]);return[a,l]}var Tn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},D1={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Cs,Qc,jh,$1=(jh=class{constructor(){ee(this,Cs,D1);ee(this,Qc,!1)}setTimeoutProvider(e){Y(this,Cs,e)}setTimeout(e,t){return k(this,Cs).setTimeout(e,t)}clearTimeout(e){k(this,Cs).clearTimeout(e)}setInterval(e,t){return k(this,Cs).setInterval(e,t)}clearInterval(e){k(this,Cs).clearInterval(e)}},Cs=new WeakMap,Qc=new WeakMap,jh),pr=new $1;function B1(e){setTimeout(e,0)}var Ar=typeof window>"u"||"Deno"in globalThis;function Ge(){}function z1(e,t){return typeof e=="function"?e(t):e}function xc(e){return typeof e=="number"&&e>=0&&e!==1/0}function r0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ks(e,t){return typeof e=="function"?e(t):e}function jt(e,t){return typeof e=="function"?e(t):e}function Am(e,t){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==Hd(l,t.options))return!1}else if(!Ea(t.queryKey,l))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function Mm(e,t){const{exact:s,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Mr(t.options.mutationKey)!==Mr(i))return!1}else if(!Ea(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Hd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Mr)(e)}function Mr(e){return JSON.stringify(e,(t,s)=>gc(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function Ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Ea(e[s],t[s])):!1}var U1=Object.prototype.hasOwnProperty;function n0(e,t){if(e===t)return e;const s=Om(e)&&Om(t);if(!s&&!(gc(e)&&gc(t)))return t;const a=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),l=i.length,o=s?new Array(l):{};let c=0;for(let d=0;d<l;d++){const p=s?d:i[d],m=e[p],u=t[p];if(m===u){o[p]=m,(s?d<a:U1.call(e,p))&&c++;continue}if(m===null||u===null||typeof m!="object"||typeof u!="object"){o[p]=u;continue}const v=n0(m,u);o[p]=v,v===m&&c++}return a===l&&c===a?e:o}function ll(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Om(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gc(e){if(!Fm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Fm(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Fm(e){return Object.prototype.toString.call(e)==="[object Object]"}function I1(e){return new Promise(t=>{pr.setTimeout(t,e)})}function yc(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?n0(e,t):t}function q1(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function V1(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var Qd=Symbol();function a0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Qd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function i0(e,t){return typeof e=="function"?e(...t):!!e}var xr,Es,ln,Nh,W1=(Nh=class extends Tn{constructor(){super();ee(this,xr);ee(this,Es);ee(this,ln);Y(this,ln,t=>{if(!Ar&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){k(this,Es)||this.setEventListener(k(this,ln))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Es))==null||t.call(this),Y(this,Es,void 0))}setEventListener(t){var s;Y(this,ln,t),(s=k(this,Es))==null||s.call(this),Y(this,Es,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){k(this,xr)!==t&&(Y(this,xr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof k(this,xr)=="boolean"?k(this,xr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xr=new WeakMap,Es=new WeakMap,ln=new WeakMap,Nh),Kd=new W1;function vc(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function n(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},s.reject=a=>{n({status:"rejected",reason:a}),t(a)},s}var H1=B1;function Q1(){let e=[],t=0,s=o=>{o()},n=o=>{o()},a=H1;const i=o=>{t?e.push(o):a(()=>{s(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{s(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Me=Q1(),on,Ps,cn,kh,K1=(kh=class extends Tn{constructor(){super();ee(this,on,!0);ee(this,Ps);ee(this,cn);Y(this,cn,t=>{if(!Ar&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,Ps)||this.setEventListener(k(this,cn))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Ps))==null||t.call(this),Y(this,Ps,void 0))}setEventListener(t){var s;Y(this,cn,t),(s=k(this,Ps))==null||s.call(this),Y(this,Ps,t(this.setOnline.bind(this)))}setOnline(t){k(this,on)!==t&&(Y(this,on,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return k(this,on)}},on=new WeakMap,Ps=new WeakMap,cn=new WeakMap,kh),ol=new K1;function Y1(e){return Math.min(1e3*2**e,3e4)}function l0(e){return(e??"online")==="online"?ol.isOnline():!0}var bc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function o0(e){let t=!1,s=0,n;const a=vc(),i=()=>a.status!=="pending",l=b=>{var w;if(!i()){const g=new bc(b);u(g),(w=e.onCancel)==null||w.call(e,g)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>Kd.isFocused()&&(e.networkMode==="always"||ol.isOnline())&&e.canRun(),p=()=>l0(e.networkMode)&&e.canRun(),m=b=>{i()||(n==null||n(),a.resolve(b))},u=b=>{i()||(n==null||n(),a.reject(b))},v=()=>new Promise(b=>{var w;n=g=>{(i()||d())&&b(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const w=s===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(g){b=Promise.reject(g)}Promise.resolve(b).then(m).catch(g=>{var D;if(i())return;const h=e.retry??(Ar?0:3),f=e.retryDelay??Y1,j=typeof f=="function"?f(s,g):f,P=h===!0||typeof h=="number"&&s<h||typeof h=="function"&&h(s,g);if(t||!P){u(g);return}s++,(D=e.onFail)==null||D.call(e,s,g),I1(j).then(()=>d()?void 0:v()).then(()=>{t?u(g):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:p,start:()=>(p()?y():v().then(y),a)}}var gr,_h,c0=(_h=class{constructor(){ee(this,gr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xc(this.gcTime)&&Y(this,gr,pr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ar?1/0:5*60*1e3))}clearGcTimeout(){k(this,gr)&&(pr.clearTimeout(k(this,gr)),Y(this,gr,void 0))}},gr=new WeakMap,_h),yr,dn,wt,vr,Fe,La,br,Mt,es,Sh,G1=(Sh=class extends c0{constructor(t){super();ee(this,Mt);ee(this,yr);ee(this,dn);ee(this,wt);ee(this,vr);ee(this,Fe);ee(this,La);ee(this,br);Y(this,br,!1),Y(this,La,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,vr,t.client),Y(this,wt,k(this,vr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,yr,Dm(this.options)),this.state=t.state??k(this,yr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Fe))==null?void 0:t.promise}setOptions(t){if(this.options={...k(this,La),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Dm(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),Y(this,yr,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,wt).remove(this)}setData(t,s){const n=yc(this.state.data,t,this.options);return ie(this,Mt,es).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){ie(this,Mt,es).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,a;const s=(n=k(this,Fe))==null?void 0:n.promise;return(a=k(this,Fe))==null||a.cancel(t),s?s.then(Ge).catch(Ge):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,yr))}isActive(){return this.observers.some(t=>jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ks(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r0(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,Fe))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=k(this,Fe))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(k(this,Fe)&&(k(this,br)?k(this,Fe).cancel({revert:!0}):k(this,Fe).cancelRetry()),this.scheduleGc()),k(this,wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,Mt,es).call(this,{type:"invalidate"})}async fetch(t,s){var c,d,p,m,u,v,y,b,w,g,h,f;if(this.state.fetchStatus!=="idle"&&((c=k(this,Fe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(k(this,Fe))return k(this,Fe).continueRetry(),k(this,Fe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(P=>P.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Y(this,br,!0),n.signal)})},i=()=>{const j=a0(this.options,s),D=(()=>{const L={client:k(this,vr),queryKey:this.queryKey,meta:this.meta};return a(L),L})();return Y(this,br,!1),this.options.persister?this.options.persister(j,D,this):j(D)},o=(()=>{const j={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:k(this,vr),state:this.state,fetchFn:i};return a(j),j})();(d=this.options.behavior)==null||d.onFetch(o,this),Y(this,dn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=o.fetchOptions)==null?void 0:p.meta))&&ie(this,Mt,es).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta}),Y(this,Fe,o0({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof bc&&j.revert&&this.setState({...k(this,dn),fetchStatus:"idle"}),n.abort()},onFail:(j,P)=>{ie(this,Mt,es).call(this,{type:"failed",failureCount:j,error:P})},onPause:()=>{ie(this,Mt,es).call(this,{type:"pause"})},onContinue:()=>{ie(this,Mt,es).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await k(this,Fe).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(v=(u=k(this,wt).config).onSuccess)==null||v.call(u,j,this),(b=(y=k(this,wt).config).onSettled)==null||b.call(y,j,this.state.error,this),j}catch(j){if(j instanceof bc){if(j.silent)return k(this,Fe).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw ie(this,Mt,es).call(this,{type:"error",error:j}),(g=(w=k(this,wt).config).onError)==null||g.call(w,j,this),(f=(h=k(this,wt).config).onSettled)==null||f.call(h,this.state.data,j,this),j}finally{this.scheduleGc()}}},yr=new WeakMap,dn=new WeakMap,wt=new WeakMap,vr=new WeakMap,Fe=new WeakMap,La=new WeakMap,br=new WeakMap,Mt=new WeakSet,es=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...d0(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,dn,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),Me.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,wt).notify({query:this,type:"updated",action:t})})},Sh);function d0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Dm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var tt,oe,Ta,Qe,wr,un,ns,Rs,Aa,mn,hn,jr,Nr,Ls,pn,pe,Jn,wc,jc,Nc,kc,_c,Sc,Cc,u0,Ch,X1=(Ch=class extends Tn{constructor(t,s){super();ee(this,pe);ee(this,tt);ee(this,oe);ee(this,Ta);ee(this,Qe);ee(this,wr);ee(this,un);ee(this,ns);ee(this,Rs);ee(this,Aa);ee(this,mn);ee(this,hn);ee(this,jr);ee(this,Nr);ee(this,Ls);ee(this,pn,new Set);this.options=s,Y(this,tt,t),Y(this,Rs,null),Y(this,ns,vc()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,oe).addObserver(this),$m(k(this,oe),this.options)?ie(this,pe,Jn).call(this):this.updateResult(),ie(this,pe,kc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ec(k(this,oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ec(k(this,oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,pe,_c).call(this),ie(this,pe,Sc).call(this),k(this,oe).removeObserver(this)}setOptions(t){const s=this.options,n=k(this,oe);if(this.options=k(this,tt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jt(this.options.enabled,k(this,oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,pe,Cc).call(this),k(this,oe).setOptions(this.options),s._defaulted&&!ll(this.options,s)&&k(this,tt).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,oe),observer:this});const a=this.hasListeners();a&&Bm(k(this,oe),n,this.options,s)&&ie(this,pe,Jn).call(this),this.updateResult(),a&&(k(this,oe)!==n||jt(this.options.enabled,k(this,oe))!==jt(s.enabled,k(this,oe))||Ks(this.options.staleTime,k(this,oe))!==Ks(s.staleTime,k(this,oe)))&&ie(this,pe,wc).call(this);const i=ie(this,pe,jc).call(this);a&&(k(this,oe)!==n||jt(this.options.enabled,k(this,oe))!==jt(s.enabled,k(this,oe))||i!==k(this,Ls))&&ie(this,pe,Nc).call(this,i)}getOptimisticResult(t){const s=k(this,tt).getQueryCache().build(k(this,tt),t),n=this.createResult(s,t);return Z1(this,n)&&(Y(this,Qe,n),Y(this,un,this.options),Y(this,wr,k(this,oe).state)),n}getCurrentResult(){return k(this,Qe)}trackResult(t,s){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),s==null||s(a),a==="promise"&&!this.options.experimental_prefetchInRender&&k(this,ns).status==="pending"&&k(this,ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){k(this,pn).add(t)}getCurrentQuery(){return k(this,oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=k(this,tt).defaultQueryOptions(t),n=k(this,tt).getQueryCache().build(k(this,tt),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return ie(this,pe,Jn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,Qe)))}createResult(t,s){var Q;const n=k(this,oe),a=this.options,i=k(this,Qe),l=k(this,wr),o=k(this,un),d=t!==n?t.state:k(this,Ta),{state:p}=t;let m={...p},u=!1,v;if(s._optimisticResults){const B=this.hasListeners(),$=!B&&$m(t,s),E=B&&Bm(t,n,s,a);($||E)&&(m={...m,...d0(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=m;v=m.data;let g=!1;if(s.placeholderData!==void 0&&v===void 0&&w==="pending"){let B;i!=null&&i.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData)?(B=i.data,g=!0):B=typeof s.placeholderData=="function"?s.placeholderData((Q=k(this,hn))==null?void 0:Q.state.data,k(this,hn)):s.placeholderData,B!==void 0&&(w="success",v=yc(i==null?void 0:i.data,B,s),u=!0)}if(s.select&&v!==void 0&&!g)if(i&&v===(l==null?void 0:l.data)&&s.select===k(this,Aa))v=k(this,mn);else try{Y(this,Aa,s.select),v=s.select(v),v=yc(i==null?void 0:i.data,v,s),Y(this,mn,v),Y(this,Rs,null)}catch(B){Y(this,Rs,B)}k(this,Rs)&&(y=k(this,Rs),v=k(this,mn),b=Date.now(),w="error");const h=m.fetchStatus==="fetching",f=w==="pending",j=w==="error",P=f&&h,D=v!==void 0,R={status:w,fetchStatus:m.fetchStatus,isPending:f,isSuccess:w==="success",isError:j,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!f,isLoadingError:j&&!D,isPaused:m.fetchStatus==="paused",isPlaceholderData:u,isRefetchError:j&&D,isStale:Yd(t,s),refetch:this.refetch,promise:k(this,ns),isEnabled:jt(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const B=I=>{R.status==="error"?I.reject(R.error):R.data!==void 0&&I.resolve(R.data)},$=()=>{const I=Y(this,ns,R.promise=vc());B(I)},E=k(this,ns);switch(E.status){case"pending":t.queryHash===n.queryHash&&B(E);break;case"fulfilled":(R.status==="error"||R.data!==E.value)&&$();break;case"rejected":(R.status!=="error"||R.error!==E.reason)&&$();break}}return R}updateResult(){const t=k(this,Qe),s=this.createResult(k(this,oe),this.options);if(Y(this,wr,k(this,oe).state),Y(this,un,this.options),k(this,wr).data!==void 0&&Y(this,hn,k(this,oe)),ll(s,t))return;Y(this,Qe,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!k(this,pn).size)return!0;const l=new Set(i??k(this,pn));return this.options.throwOnError&&l.add("error"),Object.keys(k(this,Qe)).some(o=>{const c=o;return k(this,Qe)[c]!==t[c]&&l.has(c)})};ie(this,pe,u0).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,pe,kc).call(this)}},tt=new WeakMap,oe=new WeakMap,Ta=new WeakMap,Qe=new WeakMap,wr=new WeakMap,un=new WeakMap,ns=new WeakMap,Rs=new WeakMap,Aa=new WeakMap,mn=new WeakMap,hn=new WeakMap,jr=new WeakMap,Nr=new WeakMap,Ls=new WeakMap,pn=new WeakMap,pe=new WeakSet,Jn=function(t){ie(this,pe,Cc).call(this);let s=k(this,oe).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Ge)),s},wc=function(){ie(this,pe,_c).call(this);const t=Ks(this.options.staleTime,k(this,oe));if(Ar||k(this,Qe).isStale||!xc(t))return;const n=r0(k(this,Qe).dataUpdatedAt,t)+1;Y(this,jr,pr.setTimeout(()=>{k(this,Qe).isStale||this.updateResult()},n))},jc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,oe)):this.options.refetchInterval)??!1},Nc=function(t){ie(this,pe,Sc).call(this),Y(this,Ls,t),!(Ar||jt(this.options.enabled,k(this,oe))===!1||!xc(k(this,Ls))||k(this,Ls)===0)&&Y(this,Nr,pr.setInterval(()=>{(this.options.refetchIntervalInBackground||Kd.isFocused())&&ie(this,pe,Jn).call(this)},k(this,Ls)))},kc=function(){ie(this,pe,wc).call(this),ie(this,pe,Nc).call(this,ie(this,pe,jc).call(this))},_c=function(){k(this,jr)&&(pr.clearTimeout(k(this,jr)),Y(this,jr,void 0))},Sc=function(){k(this,Nr)&&(pr.clearInterval(k(this,Nr)),Y(this,Nr,void 0))},Cc=function(){const t=k(this,tt).getQueryCache().build(k(this,tt),this.options);if(t===k(this,oe))return;const s=k(this,oe);Y(this,oe,t),Y(this,Ta,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},u0=function(t){Me.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(k(this,Qe))}),k(this,tt).getQueryCache().notify({query:k(this,oe),type:"observerResultsUpdated"})})},Ch);function J1(e,t){return jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $m(e,t){return J1(e,t)||e.state.data!==void 0&&Ec(e,t,t.refetchOnMount)}function Ec(e,t,s){if(jt(t.enabled,e)!==!1&&Ks(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&Yd(e,t)}return!1}function Bm(e,t,s,n){return(e!==t||jt(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Yd(e,s)}function Yd(e,t){return jt(t.enabled,e)!==!1&&e.isStaleByTime(Ks(t.staleTime,e))}function Z1(e,t){return!ll(e.getCurrentResult(),t)}function zm(e){return{onFetch:(t,s)=>{var p,m,u,v,y;const n=t.options,a=(u=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:u.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},g=a0(t.options,t.fetchOptions),h=async(f,j,P)=>{if(b)return Promise.reject();if(j==null&&f.pages.length)return Promise.resolve(f);const L=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:j,direction:P?"backward":"forward",meta:t.options.meta};return w($),$})(),R=await g(L),{maxPages:Q}=t.options,B=P?V1:q1;return{pages:B(f.pages,R,Q),pageParams:B(f.pageParams,j,Q)}};if(a&&i.length){const f=a==="backward",j=f?ev:Um,P={pages:i,pageParams:l},D=j(n,P);o=await h(P,D,f)}else{const f=e??i.length;do{const j=c===0?l[0]??n.initialPageParam:Um(n,o);if(c>0&&j==null)break;o=await h(o,j),c++}while(c<f)}return o};t.options.persister?t.fetchFn=()=>{var b,w;return(w=(b=t.options).persister)==null?void 0:w.call(b,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function Um(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function ev(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Ma,Ht,Ke,kr,Qt,js,Eh,tv=(Eh=class extends c0{constructor(t){super();ee(this,Qt);ee(this,Ma);ee(this,Ht);ee(this,Ke);ee(this,kr);Y(this,Ma,t.client),this.mutationId=t.mutationId,Y(this,Ke,t.mutationCache),Y(this,Ht,[]),this.state=t.state||m0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Ht).includes(t)||(k(this,Ht).push(t),this.clearGcTimeout(),k(this,Ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Ht,k(this,Ht).filter(s=>s!==t)),this.scheduleGc(),k(this,Ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Ht).length||(this.state.status==="pending"?this.scheduleGc():k(this,Ke).remove(this))}continue(){var t;return((t=k(this,kr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,c,d,p,m,u,v,y,b,w,g,h,f,j,P,D,L,R,Q;const s=()=>{ie(this,Qt,js).call(this,{type:"continue"})},n={client:k(this,Ma),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,kr,o0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(B,$)=>{ie(this,Qt,js).call(this,{type:"failed",failureCount:B,error:$})},onPause:()=>{ie(this,Qt,js).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,Ke).canRun(this)}));const a=this.state.status==="pending",i=!k(this,kr).canStart();try{if(a)s();else{ie(this,Qt,js).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(l=k(this,Ke).config).onMutate)==null?void 0:o.call(l,t,this,n));const $=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));$!==this.state.context&&ie(this,Qt,js).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const B=await k(this,kr).start();return await((m=(p=k(this,Ke).config).onSuccess)==null?void 0:m.call(p,B,t,this.state.context,this,n)),await((v=(u=this.options).onSuccess)==null?void 0:v.call(u,B,t,this.state.context,n)),await((b=(y=k(this,Ke).config).onSettled)==null?void 0:b.call(y,B,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,B,null,t,this.state.context,n)),ie(this,Qt,js).call(this,{type:"success",data:B}),B}catch(B){try{throw await((f=(h=k(this,Ke).config).onError)==null?void 0:f.call(h,B,t,this.state.context,this,n)),await((P=(j=this.options).onError)==null?void 0:P.call(j,B,t,this.state.context,n)),await((L=(D=k(this,Ke).config).onSettled)==null?void 0:L.call(D,void 0,B,this.state.variables,this.state.context,this,n)),await((Q=(R=this.options).onSettled)==null?void 0:Q.call(R,void 0,B,t,this.state.context,n)),B}finally{ie(this,Qt,js).call(this,{type:"error",error:B})}}finally{k(this,Ke).runNext(this)}}},Ma=new WeakMap,Ht=new WeakMap,Ke=new WeakMap,kr=new WeakMap,Qt=new WeakSet,js=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Me.batch(()=>{k(this,Ht).forEach(n=>{n.onMutationUpdate(t)}),k(this,Ke).notify({mutation:this,type:"updated",action:t})})},Eh);function m0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var as,Ot,Oa,Ph,sv=(Ph=class extends Tn{constructor(t={}){super();ee(this,as);ee(this,Ot);ee(this,Oa);this.config=t,Y(this,as,new Set),Y(this,Ot,new Map),Y(this,Oa,0)}build(t,s,n){const a=new tv({client:t,mutationCache:this,mutationId:++Wa(this,Oa)._,options:t.defaultMutationOptions(s),state:n});return this.add(a),a}add(t){k(this,as).add(t);const s=ci(t);if(typeof s=="string"){const n=k(this,Ot).get(s);n?n.push(t):k(this,Ot).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,as).delete(t)){const s=ci(t);if(typeof s=="string"){const n=k(this,Ot).get(s);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&k(this,Ot).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=ci(t);if(typeof s=="string"){const n=k(this,Ot).get(s),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const s=ci(t);if(typeof s=="string"){const a=(n=k(this,Ot).get(s))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Me.batch(()=>{k(this,as).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,as).clear(),k(this,Ot).clear()})}getAll(){return Array.from(k(this,as))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>Mm(s,n))}findAll(t={}){return this.getAll().filter(s=>Mm(t,s))}notify(t){Me.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Me.batch(()=>Promise.all(t.map(s=>s.continue().catch(Ge))))}},as=new WeakMap,Ot=new WeakMap,Oa=new WeakMap,Ph);function ci(e){var t;return(t=e.options.scope)==null?void 0:t.id}var is,Ts,st,ls,us,Ci,Pc,Rh,rv=(Rh=class extends Tn{constructor(s,n){super();ee(this,us);ee(this,is);ee(this,Ts);ee(this,st);ee(this,ls);Y(this,is,s),this.setOptions(n),this.bindMethods(),ie(this,us,Ci).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const n=this.options;this.options=k(this,is).defaultMutationOptions(s),ll(this.options,n)||k(this,is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,st),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Mr(n.mutationKey)!==Mr(this.options.mutationKey)?this.reset():((a=k(this,st))==null?void 0:a.state.status)==="pending"&&k(this,st).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=k(this,st))==null||s.removeObserver(this)}onMutationUpdate(s){ie(this,us,Ci).call(this),ie(this,us,Pc).call(this,s)}getCurrentResult(){return k(this,Ts)}reset(){var s;(s=k(this,st))==null||s.removeObserver(this),Y(this,st,void 0),ie(this,us,Ci).call(this),ie(this,us,Pc).call(this)}mutate(s,n){var a;return Y(this,ls,n),(a=k(this,st))==null||a.removeObserver(this),Y(this,st,k(this,is).getMutationCache().build(k(this,is),this.options)),k(this,st).addObserver(this),k(this,st).execute(s)}},is=new WeakMap,Ts=new WeakMap,st=new WeakMap,ls=new WeakMap,us=new WeakSet,Ci=function(){var n;const s=((n=k(this,st))==null?void 0:n.state)??m0();Y(this,Ts,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Pc=function(s){Me.batch(()=>{var n,a,i,l,o,c,d,p;if(k(this,ls)&&this.hasListeners()){const m=k(this,Ts).variables,u=k(this,Ts).context,v={client:k(this,is),meta:this.options.meta,mutationKey:this.options.mutationKey};(s==null?void 0:s.type)==="success"?((a=(n=k(this,ls)).onSuccess)==null||a.call(n,s.data,m,u,v),(l=(i=k(this,ls)).onSettled)==null||l.call(i,s.data,null,m,u,v)):(s==null?void 0:s.type)==="error"&&((c=(o=k(this,ls)).onError)==null||c.call(o,s.error,m,u,v),(p=(d=k(this,ls)).onSettled)==null||p.call(d,void 0,s.error,m,u,v))}this.listeners.forEach(m=>{m(k(this,Ts))})})},Rh),Kt,Lh,nv=(Lh=class extends Tn{constructor(t={}){super();ee(this,Kt);this.config=t,Y(this,Kt,new Map)}build(t,s,n){const a=s.queryKey,i=s.queryHash??Hd(a,s);let l=this.get(i);return l||(l=new G1({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){k(this,Kt).has(t.queryHash)||(k(this,Kt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=k(this,Kt).get(t.queryHash);s&&(t.destroy(),s===t&&k(this,Kt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Me.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,Kt).get(t)}getAll(){return[...k(this,Kt).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>Am(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>Am(t,n)):s}notify(t){Me.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Me.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Me.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kt=new WeakMap,Lh),Se,As,Ms,fn,xn,Os,gn,yn,Th,av=(Th=class{constructor(e={}){ee(this,Se);ee(this,As);ee(this,Ms);ee(this,fn);ee(this,xn);ee(this,Os);ee(this,gn);ee(this,yn);Y(this,Se,e.queryCache||new nv),Y(this,As,e.mutationCache||new sv),Y(this,Ms,e.defaultOptions||{}),Y(this,fn,new Map),Y(this,xn,new Map),Y(this,Os,0)}mount(){Wa(this,Os)._++,k(this,Os)===1&&(Y(this,gn,Kd.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Se).onFocus())})),Y(this,yn,ol.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,Se).onOnline())})))}unmount(){var e,t;Wa(this,Os)._--,k(this,Os)===0&&((e=k(this,gn))==null||e.call(this),Y(this,gn,void 0),(t=k(this,yn))==null||t.call(this),Y(this,yn,void 0))}isFetching(e){return k(this,Se).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=k(this,Se).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=k(this,Se).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Ks(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return k(this,Se).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),a=k(this,Se).get(n.queryHash),i=a==null?void 0:a.state.data,l=z1(t,i);if(l!==void 0)return k(this,Se).build(this,n).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return Me.batch(()=>k(this,Se).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=k(this,Se).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=k(this,Se);Me.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=k(this,Se);return Me.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=Me.batch(()=>k(this,Se).findAll(e).map(a=>a.cancel(s)));return Promise.all(n).then(Ge).catch(Ge)}invalidateQueries(e,t={}){return Me.batch(()=>(k(this,Se).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=Me.batch(()=>k(this,Se).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(Ge)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ge)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=k(this,Se).build(this,t);return s.isStaleByTime(Ks(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ge).catch(Ge)}fetchInfiniteQuery(e){return e.behavior=zm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ge).catch(Ge)}ensureInfiniteQueryData(e){return e.behavior=zm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ol.isOnline()?k(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Se)}getMutationCache(){return k(this,As)}getDefaultOptions(){return k(this,Ms)}setDefaultOptions(e){Y(this,Ms,e)}setQueryDefaults(e,t){k(this,fn).set(Mr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,fn).values()],s={};return t.forEach(n=>{Ea(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){k(this,xn).set(Mr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,xn).values()],s={};return t.forEach(n=>{Ea(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Hd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Qd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,Se).clear(),k(this,As).clear()}},Se=new WeakMap,As=new WeakMap,Ms=new WeakMap,fn=new WeakMap,xn=new WeakMap,Os=new WeakMap,gn=new WeakMap,yn=new WeakMap,Th),h0=x.createContext(void 0),sr=e=>{const t=x.useContext(h0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iv=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(h0.Provider,{value:e,children:t})),p0=x.createContext(!1),lv=()=>x.useContext(p0);p0.Provider;function ov(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cv=x.createContext(ov()),dv=()=>x.useContext(cv),uv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mv=e=>{x.useEffect(()=>{e.clearReset()},[e])},hv=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||i0(s,[e.error,n])),pv=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>s(n(...a)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fv=(e,t)=>e.isLoading&&e.isFetching&&!t,xv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Im=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function gv(e,t,s){var m,u,v,y,b;const n=lv(),a=dv(),i=sr(),l=i.defaultQueryOptions(e);(u=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||u.call(m,l),l._optimisticResults=n?"isRestoring":"optimistic",pv(l),uv(l,a),mv(a);const o=!i.getQueryCache().get(l.queryHash),[c]=x.useState(()=>new t(i,l)),d=c.getOptimisticResult(l),p=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(w=>{const g=p?c.subscribe(Me.batchCalls(w)):Ge;return c.updateResult(),g},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(l)},[l,c]),xv(l,d))throw Im(l,c,a);if(hv({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((y=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,l,d),l.experimental_prefetchInRender&&!Ar&&fv(d,n)){const w=o?Im(l,c,a):(b=i.getQueryCache().get(l.queryHash))==null?void 0:b.promise;w==null||w.catch(Ge).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ve(e,t){return gv(e,X1)}function fe(e,t){const s=sr(),[n]=x.useState(()=>new rv(s,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(l=>n.subscribe(Me.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((l,o)=>{n.mutate(l,o).catch(Ge)},[n]);if(a.error&&i0(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const qm=e=>{let t;const s=new Set,n=(d,p)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const u=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),s.forEach(v=>v(t,u))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(s.add(d),()=>s.delete(d))},c=t=e(n,a,o);return o},yv=e=>e?qm(e):qm,vv=e=>e;function bv(e,t=vv){const s=Ur.useSyncExternalStore(e.subscribe,Ur.useCallback(()=>t(e.getState()),[e,t]),Ur.useCallback(()=>t(e.getInitialState()),[e,t]));return Ur.useDebugValue(s),s}const wv=e=>{const t=yv(e),s=n=>bv(t,n);return Object.assign(s,t),s},jv=e=>wv;function Nv(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=s.getItem(a))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(a,i)=>s.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>s.removeItem(a)}}const Rc=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return Rc(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Rc(n)(s)}}}},kv=(e,t)=>(s,n,a)=>{let i={storage:Nv(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...t},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},n,a);const p=()=>{const b=i.partialize({...n()});return d.setItem(i.name,{state:b,version:i.version})},m=a.setState;a.setState=(b,w)=>(m(b,w),p());const u=e((...b)=>(s(...b),p()),n,a);a.getInitialState=()=>u;let v;const y=()=>{var b,w;if(!d)return;l=!1,o.forEach(h=>{var f;return h((f=n())!=null?f:u)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(b=n())!=null?b:u))||void 0;return Rc(d.getItem.bind(d))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate){const f=i.migrate(h.state,h.version);return f instanceof Promise?f.then(j=>[!0,j]):[!0,f]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var f;const[j,P]=h;if(v=i.merge(P,(f=n())!=null?f:u),s(v,!0),j)return p()}).then(()=>{g==null||g(v,void 0),v=n(),l=!0,c.forEach(h=>h(v))}).catch(h=>{g==null||g(void 0,h)})};return a.persist={setOptions:b=>{i={...i,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||y(),v||u},_v=kv;function f0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Sv}=Object.prototype,{getPrototypeOf:Gd}=Object,{iterator:Cl,toStringTag:x0}=Symbol,El=(e=>t=>{const s=Sv.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>El(t)===e),Pl=e=>t=>typeof t===e,{isArray:An}=Array,Sn=Pl("undefined");function Ua(e){return e!==null&&!Sn(e)&&e.constructor!==null&&!Sn(e.constructor)&&ot(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const g0=It("ArrayBuffer");function Cv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&g0(e.buffer),t}const Ev=Pl("string"),ot=Pl("function"),y0=Pl("number"),Ia=e=>e!==null&&typeof e=="object",Pv=e=>e===!0||e===!1,Ei=e=>{if(El(e)!=="object")return!1;const t=Gd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(x0 in e)&&!(Cl in e)},Rv=e=>{if(!Ia(e)||Ua(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Lv=It("Date"),Tv=It("File"),Av=It("Blob"),Mv=It("FileList"),Ov=e=>Ia(e)&&ot(e.pipe),Fv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ot(e.append)&&((t=El(e))==="formdata"||t==="object"&&ot(e.toString)&&e.toString()==="[object FormData]"))},Dv=It("URLSearchParams"),[$v,Bv,zv,Uv]=["ReadableStream","Request","Response","Headers"].map(It),Iv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qa(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),An(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ua(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function v0(e,t){if(Ua(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const fr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,b0=e=>!Sn(e)&&e!==fr;function Lc(){const{caseless:e,skipUndefined:t}=b0(this)&&this||{},s={},n=(a,i)=>{const l=e&&v0(s,i)||i;Ei(s[l])&&Ei(a)?s[l]=Lc(s[l],a):Ei(a)?s[l]=Lc({},a):An(a)?s[l]=a.slice():(!t||!Sn(a))&&(s[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&qa(arguments[a],n);return s}const qv=(e,t,s,{allOwnKeys:n}={})=>(qa(t,(a,i)=>{s&&ot(a)?e[i]=f0(a,s):e[i]=a},{allOwnKeys:n}),e),Vv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wv=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Hv=(e,t,s,n)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&Gd(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Qv=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Kv=e=>{if(!e)return null;if(An(e))return e;let t=e.length;if(!y0(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Yv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gd(Uint8Array)),Gv=(e,t)=>{const n=(e&&e[Cl]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Xv=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Jv=It("HTMLFormElement"),Zv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),Vm=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),e2=It("RegExp"),w0=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};qa(s,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},t2=e=>{w0(e,(t,s)=>{if(ot(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(ot(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},s2=(e,t)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return An(e)?n(e):n(String(e).split(t)),s},r2=()=>{},n2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function a2(e){return!!(e&&ot(e.append)&&e[x0]==="FormData"&&e[Cl])}const i2=e=>{const t=new Array(10),s=(n,a)=>{if(Ia(n)){if(t.indexOf(n)>=0)return;if(Ua(n))return n;if(!("toJSON"in n)){t[a]=n;const i=An(n)?[]:{};return qa(n,(l,o)=>{const c=s(l,a+1);!Sn(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return s(e,0)},l2=It("AsyncFunction"),o2=e=>e&&(Ia(e)||ot(e))&&ot(e.then)&&ot(e.catch),j0=((e,t)=>e?setImmediate:t?((s,n)=>(fr.addEventListener("message",({source:a,data:i})=>{a===fr&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),fr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ot(fr.postMessage)),c2=typeof queueMicrotask<"u"?queueMicrotask.bind(fr):typeof process<"u"&&process.nextTick||j0,d2=e=>e!=null&&ot(e[Cl]),T={isArray:An,isArrayBuffer:g0,isBuffer:Ua,isFormData:Fv,isArrayBufferView:Cv,isString:Ev,isNumber:y0,isBoolean:Pv,isObject:Ia,isPlainObject:Ei,isEmptyObject:Rv,isReadableStream:$v,isRequest:Bv,isResponse:zv,isHeaders:Uv,isUndefined:Sn,isDate:Lv,isFile:Tv,isBlob:Av,isRegExp:e2,isFunction:ot,isStream:Ov,isURLSearchParams:Dv,isTypedArray:Yv,isFileList:Mv,forEach:qa,merge:Lc,extend:qv,trim:Iv,stripBOM:Vv,inherits:Wv,toFlatObject:Hv,kindOf:El,kindOfTest:It,endsWith:Qv,toArray:Kv,forEachEntry:Gv,matchAll:Xv,isHTMLForm:Jv,hasOwnProperty:Vm,hasOwnProp:Vm,reduceDescriptors:w0,freezeMethods:t2,toObjectSet:s2,toCamelCase:Zv,noop:r2,toFiniteNumber:n2,findKey:v0,global:fr,isContextDefined:b0,isSpecCompliantForm:a2,toJSONObject:i2,isAsyncFn:l2,isThenable:o2,setImmediate:j0,asap:c2,isIterable:d2};function ae(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const N0=ae.prototype,k0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{k0[e]={value:e}});Object.defineProperties(ae,k0);Object.defineProperty(N0,"isAxiosError",{value:!0});ae.from=(e,t,s,n,a,i)=>{const l=Object.create(N0);T.toFlatObject(e,l,function(p){return p!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ae.call(l,o,c,s,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const u2=null;function Tc(e){return T.isPlainObject(e)||T.isArray(e)}function _0(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Wm(e,t,s){return e?e.concat(t).map(function(a,i){return a=_0(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function m2(e){return T.isArray(e)&&!e.some(Tc)}const h2=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Rl(e,t,s){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=T.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!T.isUndefined(w[b])});const n=s.metaTokens,a=s.visitor||p,i=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(T.isDate(y))return y.toISOString();if(T.isBoolean(y))return y.toString();if(!c&&T.isBlob(y))throw new ae("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(y)||T.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function p(y,b,w){let g=y;if(y&&!w&&typeof y=="object"){if(T.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(T.isArray(y)&&m2(y)||(T.isFileList(y)||T.endsWith(b,"[]"))&&(g=T.toArray(y)))return b=_0(b),g.forEach(function(f,j){!(T.isUndefined(f)||f===null)&&t.append(l===!0?Wm([b],j,i):l===null?b:b+"[]",d(f))}),!1}return Tc(y)?!0:(t.append(Wm(w,b,i),d(y)),!1)}const m=[],u=Object.assign(h2,{defaultVisitor:p,convertValue:d,isVisitable:Tc});function v(y,b){if(!T.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(y),T.forEach(y,function(g,h){(!(T.isUndefined(g)||g===null)&&a.call(t,g,T.isString(h)?h.trim():h,b,u))===!0&&v(g,b?b.concat(h):[h])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Hm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xd(e,t){this._pairs=[],e&&Rl(e,this,t)}const S0=Xd.prototype;S0.append=function(t,s){this._pairs.push([t,s])};S0.toString=function(t){const s=t?function(n){return t.call(this,n,Hm)}:Hm;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function p2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function C0(e,t,s){if(!t)return e;const n=s&&s.encode||p2;T.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=T.isURLSearchParams(t)?t.toString():new Xd(t,s).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Qm{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const E0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f2=typeof URLSearchParams<"u"?URLSearchParams:Xd,x2=typeof FormData<"u"?FormData:null,g2=typeof Blob<"u"?Blob:null,y2={isBrowser:!0,classes:{URLSearchParams:f2,FormData:x2,Blob:g2},protocols:["http","https","file","blob","url","data"]},Jd=typeof window<"u"&&typeof document<"u",Ac=typeof navigator=="object"&&navigator||void 0,v2=Jd&&(!Ac||["ReactNative","NativeScript","NS"].indexOf(Ac.product)<0),b2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w2=Jd&&window.location.href||"http://localhost",j2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jd,hasStandardBrowserEnv:v2,hasStandardBrowserWebWorkerEnv:b2,navigator:Ac,origin:w2},Symbol.toStringTag,{value:"Module"})),We={...j2,...y2};function N2(e,t){return Rl(e,new We.classes.URLSearchParams,{visitor:function(s,n,a,i){return We.isNode&&T.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function k2(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _2(e){const t={},s=Object.keys(e);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],t[i]=e[i];return t}function P0(e){function t(s,n,a,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=s.length;return l=!l&&T.isArray(a)?a.length:l,c?(T.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!T.isObject(a[l]))&&(a[l]=[]),t(s,n,a[l],i)&&T.isArray(a[l])&&(a[l]=_2(a[l])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const s={};return T.forEachEntry(e,(n,a)=>{t(k2(n),a,s,0)}),s}return null}function S2(e,t,s){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Va={transitional:E0,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=T.isObject(t);if(i&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(P0(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return N2(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rl(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),S2(t)):t}],transformResponse:[function(t){const s=this.transitional||Va.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?ae.from(o,ae.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Va.headers[e]={}});const C2=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),E2=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!s||t[s]&&C2[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Km=Symbol("internals");function Vn(e){return e&&String(e).trim().toLowerCase()}function Pi(e){return e===!1||e==null?e:T.isArray(e)?e.map(Pi):String(e)}function P2(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const R2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function oo(e,t,s,n,a){if(T.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function L2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function T2(e,t){const s=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function i(o,c,d){const p=Vn(c);if(!p)throw new Error("header name must be a non-empty string");const m=T.findKey(a,p);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Pi(o))}const l=(o,c)=>T.forEach(o,(d,p)=>i(d,p,c));if(T.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(T.isString(t)&&(t=t.trim())&&!R2(t))l(E2(t),s);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,d;for(const p of t){if(!T.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[d=p[0]]=(c=o[d])?T.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}l(o,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=Vn(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return P2(a);if(T.isFunction(s))return s.call(this,a,n);if(T.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Vn(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||oo(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function i(l){if(l=Vn(l),l){const o=T.findKey(n,l);o&&(!s||oo(n,n[o],o,s))&&(delete n[o],a=!0)}}return T.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!t||oo(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,n={};return T.forEach(this,(a,i)=>{const l=T.findKey(n,i);if(l){s[l]=Pi(a),delete s[i];return}const o=t?L2(i):String(i).trim();o!==i&&delete s[i],s[o]=Pi(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&T.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Km]=this[Km]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Vn(l);n[o]||(T2(a,l),n[o]=!0)}return T.isArray(t)?t.forEach(i):i(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(ct.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});T.freezeMethods(ct);function co(e,t){const s=this||Va,n=t||s,a=ct.from(n.headers);let i=n.data;return T.forEach(e,function(o){i=o.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function R0(e){return!!(e&&e.__CANCEL__)}function Mn(e,t,s){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,s),this.name="CanceledError"}T.inherits(Mn,ae,{__CANCEL__:!0});function L0(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new ae("Request failed with status code "+s.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function A2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function M2(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),p=n[i];l||(l=d),s[a]=c,n[a]=d;let m=i,u=0;for(;m!==a;)u+=s[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-l<t)return;const v=p&&d-p;return v?Math.round(u*1e3/v):void 0}}function O2(e,t){let s=0,n=1e3/t,a,i;const l=(d,p=Date.now())=>{s=p,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const p=Date.now(),m=p-s;m>=n?l(d,p):(a=d,i||(i=setTimeout(()=>{i=null,l(a)},n-m)))},()=>a&&l(a)]}const cl=(e,t,s=3)=>{let n=0;const a=M2(50,250);return O2(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,d=a(c),p=l<=o;n=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&p?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},s)},Ym=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Gm=e=>(...t)=>T.asap(()=>e(...t)),F2=We.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,We.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,D2=We.hasStandardBrowserEnv?{write(e,t,s,n,a,i){const l=[e+"="+encodeURIComponent(t)];T.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),T.isString(n)&&l.push("path="+n),T.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $2(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B2(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function T0(e,t,s){let n=!$2(t);return e&&(n||s==!1)?B2(e,t):t}const Xm=e=>e instanceof ct?{...e}:e;function Or(e,t){t=t||{};const s={};function n(d,p,m,u){return T.isPlainObject(d)&&T.isPlainObject(p)?T.merge.call({caseless:u},d,p):T.isPlainObject(p)?T.merge({},p):T.isArray(p)?p.slice():p}function a(d,p,m,u){if(T.isUndefined(p)){if(!T.isUndefined(d))return n(void 0,d,m,u)}else return n(d,p,m,u)}function i(d,p){if(!T.isUndefined(p))return n(void 0,p)}function l(d,p){if(T.isUndefined(p)){if(!T.isUndefined(d))return n(void 0,d)}else return n(void 0,p)}function o(d,p,m){if(m in t)return n(d,p);if(m in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,p,m)=>a(Xm(d),Xm(p),m,!0)};return T.forEach(Object.keys({...e,...t}),function(p){const m=c[p]||a,u=m(e[p],t[p],p);T.isUndefined(u)&&m!==o||(s[p]=u)}),s}const A0=e=>{const t=Or({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=ct.from(l),t.url=C0(T0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(s)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(T.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([p,m])=>{d.includes(p.toLowerCase())&&l.set(p,m)})}}if(We.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&F2(t.url))){const c=a&&i&&D2.read(i);c&&l.set(a,c)}return t},z2=typeof XMLHttpRequest<"u",U2=z2&&function(e){return new Promise(function(s,n){const a=A0(e);let i=a.data;const l=ct.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,p,m,u,v,y;function b(){v&&v(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function g(){if(!w)return;const f=ct.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),P={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:f,config:e,request:w};L0(function(L){s(L),b()},function(L){n(L),b()},P),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new ae("Request aborted",ae.ECONNABORTED,e,w)),w=null)},w.onerror=function(j){const P=j&&j.message?j.message:"Network Error",D=new ae(P,ae.ERR_NETWORK,e,w);D.event=j||null,n(D),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const P=a.transitional||E0;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ae(j,P.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,w)),w=null},i===void 0&&l.setContentType(null),"setRequestHeader"in w&&T.forEach(l.toJSON(),function(j,P){w.setRequestHeader(P,j)}),T.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([u,y]=cl(d,!0),w.addEventListener("progress",u)),c&&w.upload&&([m,v]=cl(c),w.upload.addEventListener("progress",m),w.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(p=f=>{w&&(n(!f||f.type?new Mn(null,e,w):f),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const h=A2(a.url);if(h&&We.protocols.indexOf(h)===-1){n(new ae("Unsupported protocol "+h+":",ae.ERR_BAD_REQUEST,e));return}w.send(i||null)})},I2=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const i=function(d){if(!a){a=!0,o();const p=d instanceof Error?d:this.reason;n.abort(p instanceof ae?p:new Mn(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,i(new ae(`timeout ${t} of ms exceeded`,ae.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>T.asap(o),c}},q2=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},V2=async function*(e,t){for await(const s of W2(e))yield*q2(s,t)},W2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Jm=(e,t,s,n)=>{const a=V2(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:p}=await a.next();if(d){o(),c.close();return}let m=p.byteLength;if(s){let u=i+=m;s(u)}c.enqueue(new Uint8Array(p))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Zm=64*1024,{isFunction:di}=T,H2=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:eh,TextEncoder:th}=T.global,sh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Q2=e=>{e=T.merge.call({skipUndefined:!0},H2,e);const{fetch:t,Request:s,Response:n}=e,a=t?di(t):typeof fetch=="function",i=di(s),l=di(n);if(!a)return!1;const o=a&&di(eh),c=a&&(typeof th=="function"?(y=>b=>y.encode(b))(new th):async y=>new Uint8Array(await new s(y).arrayBuffer())),d=i&&o&&sh(()=>{let y=!1;const b=new s(We.origin,{body:new eh,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),p=l&&o&&sh(()=>T.isReadableStream(new n("").body)),m={stream:p&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(b,w)=>{let g=b&&b[y];if(g)return g.call(b);throw new ae(`Response type '${y}' is not supported`,ae.ERR_NOT_SUPPORT,w)})});const u=async y=>{if(y==null)return 0;if(T.isBlob(y))return y.size;if(T.isSpecCompliantForm(y))return(await new s(We.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(T.isArrayBufferView(y)||T.isArrayBuffer(y))return y.byteLength;if(T.isURLSearchParams(y)&&(y=y+""),T.isString(y))return(await c(y)).byteLength},v=async(y,b)=>{const w=T.toFiniteNumber(y.getContentLength());return w??u(b)};return async y=>{let{url:b,method:w,data:g,signal:h,cancelToken:f,timeout:j,onDownloadProgress:P,onUploadProgress:D,responseType:L,headers:R,withCredentials:Q="same-origin",fetchOptions:B}=A0(y),$=t||fetch;L=L?(L+"").toLowerCase():"text";let E=I2([h,f&&f.toAbortSignal()],j),I=null;const G=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let te;try{if(D&&d&&w!=="get"&&w!=="head"&&(te=await v(R,g))!==0){let C=new s(b,{method:"POST",body:g,duplex:"half"}),_;if(T.isFormData(g)&&(_=C.headers.get("content-type"))&&R.setContentType(_),C.body){const[S,q]=Ym(te,cl(Gm(D)));g=Jm(C.body,Zm,S,q)}}T.isString(Q)||(Q=Q?"include":"omit");const J=i&&"credentials"in s.prototype,he={...B,signal:E,method:w.toUpperCase(),headers:R.normalize().toJSON(),body:g,duplex:"half",credentials:J?Q:void 0};I=i&&new s(b,he);let N=await(i?$(I,B):$(b,he));const A=p&&(L==="stream"||L==="response");if(p&&(P||A&&G)){const C={};["status","statusText","headers"].forEach(re=>{C[re]=N[re]});const _=T.toFiniteNumber(N.headers.get("content-length")),[S,q]=P&&Ym(_,cl(Gm(P),!0))||[];N=new n(Jm(N.body,Zm,S,()=>{q&&q(),G&&G()}),C)}L=L||"text";let U=await m[T.findKey(m,L)||"text"](N,y);return!A&&G&&G(),await new Promise((C,_)=>{L0(C,_,{data:U,headers:ct.from(N.headers),status:N.status,statusText:N.statusText,config:y,request:I})})}catch(J){throw G&&G(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,y,I),{cause:J.cause||J}):ae.from(J,J&&J.code,y,I)}}},K2=new Map,M0=e=>{let t=e?e.env:{};const{fetch:s,Request:n,Response:a}=t,i=[n,a,s];let l=i.length,o=l,c,d,p=K2;for(;o--;)c=i[o],d=p.get(c),d===void 0&&p.set(c,d=o?new Map:Q2(t)),p=d;return d};M0();const Mc={http:u2,xhr:U2,fetch:{get:M0}};T.forEach(Mc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rh=e=>`- ${e}`,Y2=e=>T.isFunction(e)||e===null||e===!1,O0={getAdapter:(e,t)=>{e=T.isArray(e)?e:[e];const{length:s}=e;let n,a;const i={};for(let l=0;l<s;l++){n=e[l];let o;if(a=n,!Y2(n)&&(a=Mc[(o=String(n)).toLowerCase()],a===void 0))throw new ae(`Unknown adapter '${o}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(rh).join(`
`):" "+rh(l[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Mc};function uo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mn(null,e)}function nh(e){return uo(e),e.headers=ct.from(e.headers),e.data=co.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),O0.getAdapter(e.adapter||Va.adapter,e)(e).then(function(n){return uo(e),n.data=co.call(e,e.transformResponse,n),n.headers=ct.from(n.headers),n},function(n){return R0(n)||(uo(e),n&&n.response&&(n.response.data=co.call(e,e.transformResponse,n.response),n.response.headers=ct.from(n.response.headers))),Promise.reject(n)})}const F0="1.12.2",Ll={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ll[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ah={};Ll.transitional=function(t,s,n){function a(i,l){return"[Axios v"+F0+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new ae(a(l," has been removed"+(s?" in "+s:"")),ae.ERR_DEPRECATED);return s&&!ah[l]&&(ah[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,o):!0}};Ll.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function G2(e,t,s){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new ae("option "+i+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new ae("Unknown option "+i,ae.ERR_BAD_OPTION)}}const Ri={assertOptions:G2,validators:Ll},Vt=Ri.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qm,response:new Qm}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Or(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&Ri.assertOptions(n,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),a!=null&&(T.isFunction(a)?s.paramsSerializer={serialize:a}:Ri.assertOptions(a,{encode:Vt.function,serialize:Vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ri.assertOptions(s,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&T.merge(i.common,i[s.method]);i&&T.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),s.headers=ct.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let p,m=0,u;if(!c){const y=[nh.bind(this),void 0];for(y.unshift(...o),y.push(...d),u=y.length,p=Promise.resolve(s);m<u;)p=p.then(y[m++],y[m++]);return p}u=o.length;let v=s;for(;m<u;){const y=o[m++],b=o[m++];try{v=y(v)}catch(w){b.call(this,w);break}}try{p=nh.call(this,v)}catch(y){return Promise.reject(y)}for(m=0,u=d.length;m<u;)p=p.then(d[m++],d[m++]);return p}getUri(t){t=Or(this.defaults,t);const s=T0(t.baseURL,t.url,t.allowAbsoluteUrls);return C0(s,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(s,n){return this.request(Or(n||{},{method:t,url:s,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function s(n){return function(i,l,o){return this.request(Or(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Cr.prototype[t]=s(),Cr.prototype[t+"Form"]=s(!0)});let X2=class D0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new Mn(i,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new D0(function(a){t=a}),cancel:t}}};function J2(e){return function(s){return e.apply(null,s)}}function Z2(e){return T.isObject(e)&&e.isAxiosError===!0}const Oc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oc).forEach(([e,t])=>{Oc[t]=e});function $0(e){const t=new Cr(e),s=f0(Cr.prototype.request,t);return T.extend(s,Cr.prototype,t,{allOwnKeys:!0}),T.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return $0(Or(e,a))},s}const W=$0(Va);W.Axios=Cr;W.CanceledError=Mn;W.CancelToken=X2;W.isCancel=R0;W.VERSION=F0;W.toFormData=Rl;W.AxiosError=ae;W.Cancel=W.CanceledError;W.all=function(t){return Promise.all(t)};W.spread=J2;W.isAxiosError=Z2;W.mergeConfig=Or;W.AxiosHeaders=ct;W.formToJSON=e=>P0(T.isHTMLForm(e)?new FormData(e):e);W.getAdapter=O0.getAdapter;W.HttpStatusCode=Oc;W.default=W;const{Axios:Qj,AxiosError:Kj,CanceledError:Yj,isCancel:Gj,CancelToken:Xj,VERSION:Jj,all:Zj,Cancel:eN,isAxiosError:tN,spread:sN,toFormData:rN,AxiosHeaders:nN,HttpStatusCode:aN,formToJSON:iN,getAdapter:lN,mergeConfig:oN}=W,Zt=Object.create(null);Zt.open="0";Zt.close="1";Zt.ping="2";Zt.pong="3";Zt.message="4";Zt.upgrade="5";Zt.noop="6";const Li=Object.create(null);Object.keys(Zt).forEach(e=>{Li[Zt[e]]=e});const Fc={type:"error",data:"parser error"},B0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z0=typeof ArrayBuffer=="function",U0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Zd=({type:e,data:t},s,n)=>B0&&t instanceof Blob?s?n(t):ih(t,n):z0&&(t instanceof ArrayBuffer||U0(t))?s?n(t):ih(new Blob([t]),n):n(Zt[e]+(t||"")),ih=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function lh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let mo;function eb(e,t){if(B0&&e.data instanceof Blob)return e.data.arrayBuffer().then(lh).then(t);if(z0&&(e.data instanceof ArrayBuffer||U0(e.data)))return t(lh(e.data));Zd(e,!1,s=>{mo||(mo=new TextEncoder),t(mo.encode(s))})}const oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<oh.length;e++)Zn[oh.charCodeAt(e)]=e;const tb=e=>{let t=e.length*.75,s=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),p=new Uint8Array(d);for(n=0;n<s;n+=4)i=Zn[e.charCodeAt(n)],l=Zn[e.charCodeAt(n+1)],o=Zn[e.charCodeAt(n+2)],c=Zn[e.charCodeAt(n+3)],p[a++]=i<<2|l>>4,p[a++]=(l&15)<<4|o>>2,p[a++]=(o&3)<<6|c&63;return d},sb=typeof ArrayBuffer=="function",eu=(e,t)=>{if(typeof e!="string")return{type:"message",data:I0(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:rb(e.substring(1),t)}:Li[s]?e.length>1?{type:Li[s],data:e.substring(1)}:{type:Li[s]}:Fc},rb=(e,t)=>{if(sb){const s=tb(e);return I0(s,t)}else return{base64:!0,data:e}},I0=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},q0="",nb=(e,t)=>{const s=e.length,n=new Array(s);let a=0;e.forEach((i,l)=>{Zd(i,!1,o=>{n[l]=o,++a===s&&t(n.join(q0))})})},ab=(e,t)=>{const s=e.split(q0),n=[];for(let a=0;a<s.length;a++){const i=eu(s[a],t);if(n.push(i),i.type==="error")break}return n};function ib(){return new TransformStream({transform(e,t){eb(e,s=>{const n=s.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(s)})}})}let ho;function ui(e){return e.reduce((t,s)=>t+s.length,0)}function mi(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)s[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function lb(e,t){ho||(ho=new TextDecoder);const s=[];let n=0,a=-1,i=!1;return new TransformStream({transform(l,o){for(s.push(l);;){if(n===0){if(ui(s)<1)break;const c=mi(s,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(ui(s)<2)break;const c=mi(s,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ui(s)<8)break;const c=mi(s,8),d=new DataView(c.buffer,c.byteOffset,c.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){o.enqueue(Fc);break}a=p*Math.pow(2,32)+d.getUint32(4),n=3}else{if(ui(s)<a)break;const c=mi(s,a);o.enqueue(eu(i?c:ho.decode(c),t)),n=0}if(a===0||a>e){o.enqueue(Fc);break}}}})}const V0=4;function Le(e){if(e)return ob(e)}function ob(e){for(var t in Le.prototype)e[t]=Le.prototype[t];return e}Le.prototype.on=Le.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Le.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Le.prototype.off=Le.prototype.removeListener=Le.prototype.removeAllListeners=Le.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<s.length;a++)if(n=s[a],n===t||n.fn===t){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Le.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,a=s.length;n<a;++n)s[n].apply(this,t)}return this};Le.prototype.emitReserved=Le.prototype.emit;Le.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Le.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Tl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),_t=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),cb="arraybuffer";function W0(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const db=_t.setTimeout,ub=_t.clearTimeout;function Al(e,t){t.useNativeTimers?(e.setTimeoutFn=db.bind(_t),e.clearTimeoutFn=ub.bind(_t)):(e.setTimeoutFn=_t.setTimeout.bind(_t),e.clearTimeoutFn=_t.clearTimeout.bind(_t))}const mb=1.33;function hb(e){return typeof e=="string"?pb(e):Math.ceil((e.byteLength||e.size)*mb)}function pb(e){let t=0,s=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function H0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fb(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function xb(e){let t={},s=e.split("&");for(let n=0,a=s.length;n<a;n++){let i=s[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class gb extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class tu extends Le{constructor(t){super(),this.writable=!1,Al(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new gb(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=eu(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=fb(t);return s.length?"?"+s:""}}class yb extends tu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ab(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,nb(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=H0()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let Q0=!1;try{Q0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const vb=Q0;function bb(){}class wb extends yb{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class Jt extends Le{constructor(t,s,n){super(),this.createRequest=t,Al(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=W0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Jt.requestsCount++,Jt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=bb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Jt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Jt.requestsCount=0;Jt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ch);else if(typeof addEventListener=="function"){const e="onpagehide"in _t?"pagehide":"unload";addEventListener(e,ch,!1)}}function ch(){for(let e in Jt.requests)Jt.requests.hasOwnProperty(e)&&Jt.requests[e].abort()}const jb=function(){const e=K0({xdomain:!1});return e&&e.responseType!==null}();class Nb extends wb{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=jb&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Jt(K0,this.uri(),t)}}function K0(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||vb))return new XMLHttpRequest}catch{}if(!t)try{return new _t[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Y0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class kb extends tu{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=Y0?{}:W0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;Zd(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Tl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=H0()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const po=_t.WebSocket||_t.MozWebSocket;class _b extends kb{createSocket(t,s,n){return Y0?new po(t,s,n):s?new po(t,s):new po(t)}doWrite(t,s){this.ws.send(s)}}class Sb extends tu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=lb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),a=ib();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;this._writer.write(n).then(()=>{a&&Tl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Cb={websocket:_b,webtransport:Sb,polling:Nb},Eb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Pb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dc(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let a=Eb.exec(e||""),i={},l=14;for(;l--;)i[Pb[l]]=a[l]||"";return s!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Rb(i,i.path),i.queryKey=Lb(i,i.query),i}function Rb(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Lb(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(s[a]=i)}),s}const $c=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ti=[];$c&&addEventListener("offline",()=>{Ti.forEach(e=>e())},!1);class Ys extends Le{constructor(t,s){if(super(),this.binaryType=cb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=Dc(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Dc(s.host).host);Al(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xb(this.opts.query)),$c&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ti.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=V0,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ys.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Ys.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(s+=hb(a)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Tl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,a){if(typeof s=="function"&&(a=s,s=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:s,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ys.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$c&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Ti.indexOf(this._offlineEventListener);n!==-1&&Ti.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Ys.protocol=V0;class Tb extends Ys{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Ys.priorWebsocketSuccess=!1;const a=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ys.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const u=new Error("probe error");u.transport=s.name,this.emitReserved("upgradeError",u)}}))};function i(){n||(n=!0,p(),s.close(),s=null)}const l=m=>{const u=new Error("probe error: "+m);u.transport=s.name,i(),this.emitReserved("upgradeError",u)};function o(){l("transport closed")}function c(){l("socket closed")}function d(m){s&&m.name!==s.name&&i()}const p=()=>{s.removeListener("open",a),s.removeListener("error",l),s.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};s.once("open",a),s.once("error",l),s.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let Ab=class extends Tb{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>Cb[a]).filter(a=>!!a)),super(t,n)}};function Mb(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Dc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const Ob=typeof ArrayBuffer=="function",Fb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,G0=Object.prototype.toString,Db=typeof Blob=="function"||typeof Blob<"u"&&G0.call(Blob)==="[object BlobConstructor]",$b=typeof File=="function"||typeof File<"u"&&G0.call(File)==="[object FileConstructor]";function su(e){return Ob&&(e instanceof ArrayBuffer||Fb(e))||Db&&e instanceof Blob||$b&&e instanceof File}function Ai(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Ai(e[s]))return!0;return!1}if(su(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ai(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Ai(e[s]))return!0;return!1}function Bb(e){const t=[],s=e.data,n=e;return n.data=Bc(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Bc(e,t){if(!e)return e;if(su(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Bc(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Bc(e[n],t));return s}return e}function zb(e,t){return e.data=zc(e.data,t),delete e.attachments,e}function zc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=zc(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=zc(e[s],t));return e}const Ub=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ib=5;var ce;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ce||(ce={}));class qb{constructor(t){this.replacer=t}encode(t){return(t.type===ce.EVENT||t.type===ce.ACK)&&Ai(t)?this.encodeAsBinary({type:t.type===ce.EVENT?ce.BINARY_EVENT:ce.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===ce.BINARY_EVENT||t.type===ce.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Bb(t),n=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(n),a}}function dh(e){return Object.prototype.toString.call(e)==="[object Object]"}class ru extends Le{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===ce.BINARY_EVENT;n||s.type===ce.BINARY_ACK?(s.type=n?ce.EVENT:ce.ACK,this.reconstructor=new Vb(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(su(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(ce[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ce.BINARY_EVENT||n.type===ce.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(i,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(i,s)}else n.nsp="/";const a=t.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}n.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(ru.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case ce.CONNECT:return dh(s);case ce.DISCONNECT:return s===void 0;case ce.CONNECT_ERROR:return typeof s=="string"||dh(s);case ce.EVENT:case ce.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Ub.indexOf(s[0])===-1);case ce.ACK:case ce.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vb{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=zb(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ru,Encoder:qb,get PacketType(){return ce},protocol:Ib},Symbol.toStringTag,{value:"Module"}));function Dt(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const Hb=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class X0 extends Le{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Dt(t,"open",this.onopen.bind(this)),Dt(t,"packet",this.onpacket.bind(this)),Dt(t,"error",this.onerror.bind(this)),Dt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,a,i;if(Hb.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:ce.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const p=this.ids++,m=s.pop();this._registerAckCallback(p,m),l.id=p}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},a),l=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,o)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((n,a)=>{const i=(l,o)=>l?a(l):n(o);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ce.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ce.EVENT:case ce.BINARY_EVENT:this.onevent(t);break;case ce.ACK:case ce.BINARY_ACK:this.onack(t);break;case ce.DISCONNECT:this.ondisconnect();break;case ce.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...a){n||(n=!0,s.packet({type:ce.ACK,id:t,data:a}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function On(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}On.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};On.prototype.reset=function(){this.attempts=0};On.prototype.setMin=function(e){this.ms=e};On.prototype.setMax=function(e){this.max=e};On.prototype.setJitter=function(e){this.jitter=e};class Uc extends Le{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Al(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new On({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const a=s.parser||Wb;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ab(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Dt(s,"open",function(){n.onopen(),t&&t()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},l=Dt(s,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Dt(t,"ping",this.onping.bind(this)),Dt(t,"data",this.ondata.bind(this)),Dt(t,"error",this.onerror.bind(this)),Dt(t,"close",this.onclose.bind(this)),Dt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Tl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new X0(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Wn={};function Mi(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Mb(e,t.path||"/socket.io"),n=s.source,a=s.id,i=s.path,l=Wn[a]&&i in Wn[a].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let c;return o?c=new Uc(n,t):(Wn[a]||(Wn[a]=new Uc(n,t)),c=Wn[a]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(Mi,{Manager:Uc,Socket:X0,io:Mi,connect:Mi});const uh=()=>Math.random().toString(36).substr(2,9),ar=()=>"https://123ad-performance.launchpulse.ai",mh=async(e,t=3,s=1e3)=>{var n;for(let a=0;a<t;a++)try{return await e()}catch(i){const l=a===t-1,o=((n=i.response)==null?void 0:n.status)>=500||i.code==="ECONNABORTED"||!i.response;if(l||!o)throw i;console.warn(`Request failed, retrying in ${s}ms... (attempt ${a+1}/${t})`),await new Promise(c=>setTimeout(c,s*(a+1)))}};W.defaults.timeout=3e4;W.defaults.headers.common["Content-Type"]="application/json";W.defaults.headers.common.Accept="application/json";W.defaults.withCredentials=!0;W.interceptors.request.use(e=>{var s,n;const t=localStorage.getItem("pulsedeck-app-storage");if(t)try{const a=JSON.parse(t),i=(n=(s=a==null?void 0:a.state)==null?void 0:s.authentication_state)==null?void 0:n.auth_token;i&&(e.headers.Authorization=`Bearer ${i}`)}catch(a){console.warn("Failed to parse stored auth token:",a)}return e},e=>Promise.reject(e));W.interceptors.response.use(e=>e,e=>{var t,s,n,a,i;if(console.error("API Error:",{message:e.message,status:(t=e.response)==null?void 0:t.status,statusText:(s=e.response)==null?void 0:s.statusText,data:(n=e.response)==null?void 0:n.data,url:(a=e.config)==null?void 0:a.url,method:(i=e.config)==null?void 0:i.method}),e.response){const{status:l,data:o}=e.response;return l===401?(localStorage.removeItem("pulsedeck-app-storage"),window.location.href="/signin",Promise.reject(new Error("Session expired. Please sign in again."))):l===403?Promise.reject(new Error((o==null?void 0:o.message)||"Access denied")):l===429?Promise.reject(new Error("Too many requests. Please wait a moment and try again.")):l>=500?Promise.reject(new Error("Server error. Please try again later.")):l===502||l===503||l===504?Promise.reject(new Error("Service temporarily unavailable. Please try again in a few moments.")):Promise.reject(new Error((o==null?void 0:o.message)||`Request failed with status ${l}`))}else return e.request?e.code==="ECONNABORTED"?Promise.reject(new Error("Request timeout. Please try again.")):Promise.reject(new Error("Network error. Please check your connection and try again.")):Promise.reject(new Error(e.message||"An unexpected error occurred"))});const H=jv()(_v((e,t)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},current_workspace:null,date_range_filter:{date_from:null,date_to:null,date_preset:"last_30_days",comparison_mode:null},platform_filter:{selected_platforms:[],selected_accounts:[]},notification_state:{alerts:[],toast_notifications:[]},upload_state:{active_uploads:[],recent_uploads:[]},socket:null,is_connected:!1,login_user:async(s,n)=>{e(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{await mh(async()=>{if(!(await W.get(`${ar()}/api/status`,{timeout:5e3})).data.success)throw new Error("API status check failed")},2,1e3);const a=await mh(async()=>await W.post(`${ar()}/api/auth/login`,{email:s,password:n},{headers:{"Content-Type":"application/json"},timeout:15e3}),3,1e3),{user:i,token:l,workspace:o}=a.data;if(!i||!l)throw new Error("Invalid response from server");e(()=>({authentication_state:{current_user:i,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},current_workspace:o?{id:o.id,name:o.name,role:"owner",created_at:o.created_at}:null})),t().connect_websocket()}catch(a){console.error("Login error:",a);let i="Login failed";throw a.message.includes("Network error")||a.message.includes("timeout")?i="Connection failed. Please check your internet connection and try again.":a.message.includes("Service temporarily unavailable")?i="Service is temporarily unavailable. Please try again in a few moments.":a.message&&(i=a.message),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:i}})),new Error(i)}},register_user:async(s,n,a)=>{var i,l;e(o=>({authentication_state:{...o.authentication_state,authentication_status:{...o.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const o=await W.post(`${ar()}/api/auth/register`,{email:s,password:n,name:a},{headers:{"Content-Type":"application/json"}}),{user:c,token:d,workspace:p}=o.data;e(()=>({authentication_state:{current_user:c,auth_token:d,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null},current_workspace:p?{id:p.id,name:p.name,role:"owner",created_at:p.created_at}:null})),t().connect_websocket()}catch(o){const c=((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||o.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:c}})),new Error(c)}},initialize_auth:async()=>{const{authentication_state:s}=t(),n=s.auth_token;if(!n){e(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!1}}}));return}try{await W.get(`${ar()}/api/status`,{timeout:5e3});const i=(await W.get(`${ar()}/api/auth/me`,{headers:{Authorization:`Bearer ${n}`},timeout:1e4})).data;if(!i||!i.id)throw new Error("Invalid user data received");e(()=>({authentication_state:{current_user:i,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),t().connect_websocket()}catch(a){console.warn("Auth initialization failed:",a),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},current_workspace:null}))}},logout_user:()=>{t().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},current_workspace:null,notification_state:{alerts:[],toast_notifications:[]},upload_state:{active_uploads:[],recent_uploads:[]}}))},clear_auth_error:()=>{e(s=>({authentication_state:{...s.authentication_state,error_message:null}}))},update_user_profile:s=>{e(n=>({authentication_state:{...n.authentication_state,current_user:n.authentication_state.current_user?{...n.authentication_state.current_user,...s}:null}}))},switch_workspace:async s=>{var i,l;const{authentication_state:n}=t(),a=n.auth_token;if(!a)throw new Error("No authentication token available");try{const c=(await W.get(`${ar()}/api/workspaces/${s}`,{headers:{Authorization:`Bearer ${a}`}})).data;e(()=>({current_workspace:{id:c.id,name:c.name,role:"member",created_at:c.created_at}})),t().disconnect_websocket(),t().connect_websocket()}catch(o){const c=((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||o.message||"Failed to switch workspace";throw new Error(c)}},update_workspace_context:s=>{e(()=>({current_workspace:s}))},clear_workspace:()=>{e(()=>({current_workspace:null}))},update_date_range:(s,n,a)=>{e(i=>({date_range_filter:{...i.date_range_filter,date_from:s,date_to:n,date_preset:a||(s&&n?"custom":i.date_range_filter.date_preset)}}))},update_comparison_mode:s=>{e(n=>({date_range_filter:{...n.date_range_filter,comparison_mode:s}}))},update_platform_filter:(s,n=[])=>{e(()=>({platform_filter:{selected_platforms:s,selected_accounts:n}}))},clear_filters:()=>{e(()=>({date_range_filter:{date_from:null,date_to:null,date_preset:"last_30_days",comparison_mode:null},platform_filter:{selected_platforms:[],selected_accounts:[]}}))},add_alert_notification:s=>{const n={...s,id:uh()};e(a=>({notification_state:{...a.notification_state,alerts:[n,...a.notification_state.alerts]}}))},add_toast_notification:s=>{const n={...s,id:uh()};e(a=>({notification_state:{...a.notification_state,toast_notifications:[n,...a.notification_state.toast_notifications]}})),s.auto_dismiss&&setTimeout(()=>{t().remove_toast_notification(n.id)},5e3)},mark_alert_as_read:s=>{e(n=>({notification_state:{...n.notification_state,alerts:n.notification_state.alerts.map(a=>a.id===s?{...a,is_read:!0}:a)}}))},remove_toast_notification:s=>{e(n=>({notification_state:{...n.notification_state,toast_notifications:n.notification_state.toast_notifications.filter(a=>a.id!==s)}}))},clear_all_notifications:()=>{e(()=>({notification_state:{alerts:[],toast_notifications:[]}}))},add_active_upload:s=>{e(n=>({upload_state:{...n.upload_state,active_uploads:[s,...n.upload_state.active_uploads]}}))},update_upload_progress:(s,n,a)=>{e(i=>({upload_state:{...i.upload_state,active_uploads:i.upload_state.active_uploads.map(l=>l.id===s?{...l,progress:n,status:a}:l)}}))},complete_upload:(s,n)=>{const{upload_state:a}=t(),i=a.active_uploads.find(l=>l.id===s);if(i){const l={id:i.id,filename:i.filename,status:n,completed_at:new Date().toISOString()};e(o=>({upload_state:{active_uploads:o.upload_state.active_uploads.filter(c=>c.id!==s),recent_uploads:[l,...o.upload_state.recent_uploads.slice(0,4)]}}))}},remove_active_upload:s=>{e(n=>({upload_state:{...n.upload_state,active_uploads:n.upload_state.active_uploads.filter(a=>a.id!==s)}}))},connect_websocket:()=>{const{authentication_state:s,current_workspace:n,socket:a}=t();if(!(!s.auth_token||a!=null&&a.connected))try{const i=Mi(ar(),{auth:{token:s.auth_token,workspace_id:n==null?void 0:n.id},transports:["websocket"]});i.on("connect",()=>{e(()=>({is_connected:!0})),n!=null&&n.id&&i.emit("join_workspace",n.id)}),i.on("disconnect",()=>{e(()=>({is_connected:!1}))}),i.on("upload_progress",l=>{t().handle_upload_progress(l)}),i.on("notification",l=>{t().handle_notification(l)}),i.on("alert_triggered",l=>{t().add_alert_notification({type:"alert",message:l.message,created_at:l.triggered_at,is_read:!1})}),e({socket:i})}catch(i){console.error("WebSocket connection failed:",i)}},disconnect_websocket:()=>{const{socket:s}=t();s&&(s.disconnect(),e({socket:null,is_connected:!1}))},handle_upload_progress:s=>{const{id:n,progress:a,status:i}=s;i==="completed"||i==="failed"?t().complete_upload(n,i):t().update_upload_progress(n,a,i)},handle_notification:s=>{const{type:n,message:a,auto_dismiss:i=!0}=s;t().add_toast_notification({type:n,message:a,auto_dismiss:i})}}),{name:"pulsedeck-app-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},current_workspace:e.current_workspace,date_range_filter:e.date_range_filter,platform_filter:e.platform_filter})})),Qb=()=>{const[e,t]=x.useState(!1),[s,n]=x.useState(!1),[a,i]=x.useState(!1),[l,o]=x.useState(!1),[c,d]=x.useState(!1),p=H(S=>S.authentication_state.current_user),m=H(S=>S.authentication_state.auth_token),u=H(S=>S.current_workspace),v=H(S=>S.date_range_filter),y=H(S=>S.platform_filter),b=H(S=>S.logout_user),w=H(S=>S.switch_workspace),g=H(S=>S.update_date_range),h=H(S=>S.update_comparison_mode),f=H(S=>S.update_platform_filter),j=sr(),P="https://123ad-performance.launchpulse.ai",{data:D=[],isLoading:L}=ve({queryKey:["workspaces"],queryFn:async()=>(await W.get(`${P}/api/workspaces`,{headers:{Authorization:`Bearer ${m}`}})).data,enabled:!!m,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:R,refetch:Q}=ve({queryKey:["notifications",u==null?void 0:u.id],queryFn:async()=>{if(!(u!=null&&u.id))throw new Error("No workspace selected");return(await W.get(`${P}/api/workspaces/${u.id}/notifications`,{headers:{Authorization:`Bearer ${m}`},params:{limit:5,sort_by:"created_at",sort_order:"desc"}})).data},enabled:!!m&&!!(u!=null&&u.id),staleTime:3e4,refetchOnWindowFocus:!1,retry:1}),B=fe({mutationFn:async S=>{await w(S)},onSuccess:()=>{n(!1),j.invalidateQueries({queryKey:["notifications"]})}}),$=fe({mutationFn:async({notificationId:S})=>{if(!(u!=null&&u.id))throw new Error("No workspace selected");await W.put(`${P}/api/workspaces/${u.id}/notifications/${S}`,{is_read:!0,read_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${m}`}})},onSuccess:()=>{Q()}}),E=(R==null?void 0:R.data.filter(S=>!S.is_read).length)||0,I=(R==null?void 0:R.data)||[],G=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 7 days",value:"last_7_days"},{label:"Last 30 days",value:"last_30_days"},{label:"Last 90 days",value:"last_90_days"},{label:"Month to date",value:"mtd"},{label:"Quarter to date",value:"qtd"},{label:"Year to date",value:"ytd"}],te=[{id:"tiktok",name:"TikTok",color:"bg-black text-white"},{id:"facebook",name:"Meta",color:"bg-blue-600 text-white"},{id:"snapchat",name:"Snapchat",color:"bg-yellow-400 text-black"}],J=S=>{B.mutate(S)},he=S=>{var q;(q=I.find(re=>re.id===S))!=null&&q.is_read||$.mutate({notificationId:S})},N=S=>{const q=new Date;let re=null,F=null;switch(S){case"today":re=F=q.toISOString().split("T")[0];break;case"yesterday":{const K=new Date(q);K.setDate(K.getDate()-1),re=F=K.toISOString().split("T")[0];break}case"last_7_days":{const K=new Date(q);K.setDate(K.getDate()-7),re=K.toISOString().split("T")[0],F=q.toISOString().split("T")[0];break}case"last_30_days":{const K=new Date(q);K.setDate(K.getDate()-30),re=K.toISOString().split("T")[0],F=q.toISOString().split("T")[0];break}case"last_90_days":{const K=new Date(q);K.setDate(K.getDate()-90),re=K.toISOString().split("T")[0],F=q.toISOString().split("T")[0];break}}g(re,F,S),o(!1)},A=S=>{const q=y.selected_platforms,re=q.includes(S)?q.filter(F=>F!==S):[...q,S];f(re,y.selected_accounts)},U=()=>{b(),t(!1)};x.useEffect(()=>{const S=()=>{t(!1),n(!1),i(!1),o(!1),d(!1)};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[]);const C=S=>S.split(" ").map(q=>q[0]).join("").toUpperCase().slice(0,2),_=()=>{if(v.date_preset&&v.date_preset!=="custom"){const S=G.find(q=>q.value===v.date_preset);return(S==null?void 0:S.label)||"Last 30 days"}return v.date_from&&v.date_to?`${v.date_from} - ${v.date_to}`:"Last 30 days"};return r.jsx(r.Fragment,{children:r.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(se,{to:u?`/w/${u.id}`:"/",className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"PD"})}),r.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900 hidden sm:block",children:"PulseDeck"})]}),r.jsxs("div",{className:"relative",onClick:S=>S.stopPropagation(),children:[r.jsxs("button",{onClick:()=>n(!s),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",disabled:L,children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-medium",children:(u==null?void 0:u.name.charAt(0).toUpperCase())||"W"})}),r.jsx("span",{className:"text-sm font-medium text-gray-900 hidden md:block",children:(u==null?void 0:u.name)||"Select Workspace"}),r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&r.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Switch Workspace"})}),L?r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"animate-pulse flex space-x-2",children:[r.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"})]})}):D.map(S=>r.jsxs("button",{onClick:()=>J(S.workspace.id),className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-md flex items-center justify-center",children:r.jsx("span",{className:"text-white text-xs font-medium",children:S.workspace.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.workspace.name}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:S.membership.role})]}),(u==null?void 0:u.id)===S.workspace.id&&r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},S.workspace.id)),r.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:r.jsxs(se,{to:"/w/new",className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors text-blue-600",onClick:()=>n(!1),children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{className:"text-sm font-medium",children:"Create New Workspace"})]})})]})]})]}),r.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",onClick:S=>S.stopPropagation(),children:[r.jsxs("button",{onClick:()=>o(!l),className:"flex items-center space-x-2 px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("span",{className:"text-sm text-gray-700",children:_()}),r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&r.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Date Range"})}),G.map(S=>r.jsx("button",{onClick:()=>N(S.value),className:`w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors ${v.date_preset===S.value?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:r.jsx("span",{className:"text-sm",children:S.label})},S.value)),r.jsxs("div",{className:"border-t border-gray-200 mt-2 pt-2 px-4",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:"Compare to:"}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"comparison",checked:v.comparison_mode==="vs_previous_period",onChange:()=>h("vs_previous_period"),className:"w-3 h-3 text-blue-600"}),r.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"Previous period"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"comparison",checked:v.comparison_mode==="vs_same_period_last_year",onChange:()=>h("vs_same_period_last_year"),className:"w-3 h-3 text-blue-600"}),r.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"Same period last year"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"comparison",checked:!v.comparison_mode,onChange:()=>h(null),className:"w-3 h-3 text-blue-600"}),r.jsx("span",{className:"ml-2 text-xs text-gray-700",children:"No comparison"})]})]})]})]})]}),r.jsxs("div",{className:"relative",onClick:S=>S.stopPropagation(),children:[r.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:"flex -space-x-1",children:y.selected_platforms.length>0?y.selected_platforms.slice(0,3).map(S=>{const q=te.find(re=>re.id===S);return r.jsx("div",{className:`w-5 h-5 rounded-full ${(q==null?void 0:q.color)||"bg-gray-400"} flex items-center justify-center text-xs font-medium border-2 border-white`,children:q==null?void 0:q.name.charAt(0)},S)}):r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),r.jsx("span",{className:"text-sm text-gray-700",children:y.selected_platforms.length>0?`${y.selected_platforms.length} platform${y.selected_platforms.length>1?"s":""}`:"All platforms"}),r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&r.jsxs("div",{className:"absolute left-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[r.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Platforms"})}),te.map(S=>r.jsxs("button",{onClick:()=>A(S.id),className:"w-full flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[r.jsx("div",{className:`w-5 h-5 rounded-full ${S.color} flex items-center justify-center text-xs font-medium`,children:S.name.charAt(0)}),r.jsx("span",{className:"flex-1 text-left text-sm text-gray-700",children:S.name}),y.selected_platforms.includes(S.id)&&r.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},S.id))]})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",onClick:S=>S.stopPropagation(),children:[r.jsxs("button",{onClick:()=>i(!a),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),E>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:E>9?"9+":E})]}),a&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[r.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),r.jsx(se,{to:u?`/w/${u.id}/alerts`:"/alerts",className:"text-xs text-blue-600 hover:text-blue-700",onClick:()=>i(!1),children:"View all"})]}),I.length===0?r.jsxs("div",{className:"px-4 py-6 text-center",children:[r.jsx("svg",{className:"w-8 h-8 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),r.jsx("p",{className:"text-sm text-gray-500",children:"No notifications"})]}):I.map(S=>r.jsx("button",{onClick:()=>he(S.id),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-l-4 ${S.is_read?"border-transparent":S.priority==="urgent"?"border-red-500":S.priority==="high"?"border-orange-500":"border-blue-500"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.is_read?"bg-gray-300":"bg-blue-500"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`text-sm ${S.is_read?"text-gray-600":"text-gray-900 font-medium"}`,children:S.title}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:S.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(S.created_at).toLocaleDateString()})]})]})},S.id))]})]}),r.jsxs("div",{className:"relative",onClick:S=>S.stopPropagation(),children:[r.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:p?C(p.name):"U"})}),r.jsx("svg",{className:"w-4 h-4 text-gray-500 hidden sm:block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:p==null?void 0:p.name}),r.jsx("p",{className:"text-xs text-gray-500",children:p==null?void 0:p.email}),u&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.name,"  ",u.role]})]}),r.jsxs("div",{className:"py-1",children:[r.jsxs(se,{to:u?`/w/${u.id}/settings`:"/settings",className:"flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 transition-colors text-gray-700",onClick:()=>t(!1),children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),r.jsx("span",{className:"text-sm",children:"Profile Settings"})]}),r.jsxs(se,{to:u?`/w/${u.id}/settings`:"/settings",className:"flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 transition-colors text-gray-700",onClick:()=>t(!1),children:[r.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),r.jsx("span",{className:"text-sm",children:"Workspace Settings"})]}),r.jsxs("a",{href:"#",className:"flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 transition-colors text-gray-700",onClick:S=>{S.preventDefault(),t(!1)},children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{className:"text-sm",children:"Help & Documentation"})]})]}),r.jsx("div",{className:"border-t border-gray-200 pt-1",children:r.jsxs("button",{onClick:U,className:"flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 transition-colors text-red-600 w-full text-left",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),r.jsx("span",{className:"text-sm",children:"Sign out"})]})})]})]})]})]}),r.jsxs("div",{className:"lg:hidden border-t border-gray-200 px-4 py-3 space-y-3",children:[r.jsx("div",{className:"relative",onClick:S=>S.stopPropagation(),children:r.jsxs("button",{onClick:()=>o(!l),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("span",{className:"text-sm text-gray-700",children:_()})]}),r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),r.jsx("div",{className:"relative",onClick:S=>S.stopPropagation(),children:r.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex -space-x-1",children:y.selected_platforms.length>0?y.selected_platforms.slice(0,3).map(S=>{const q=te.find(re=>re.id===S);return r.jsx("div",{className:`w-5 h-5 rounded-full ${(q==null?void 0:q.color)||"bg-gray-400"} flex items-center justify-center text-xs font-medium border-2 border-white`,children:q==null?void 0:q.name.charAt(0)},S)}):r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}),r.jsx("span",{className:"text-sm text-gray-700",children:y.selected_platforms.length>0?`${y.selected_platforms.length} platform${y.selected_platforms.length>1?"s":""}`:"All platforms"})]}),r.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]})]})})};function Kb({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const J0=x.forwardRef(Kb);function Yb({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const hh=x.forwardRef(Yb);function Gb({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const Xb=x.forwardRef(Gb);function Jb({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Z0=x.forwardRef(Jb);function Zb({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const ew=x.forwardRef(Zb);function tw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const sw=x.forwardRef(tw);function rw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const ex=x.forwardRef(rw);function nw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const aw=x.forwardRef(nw);function iw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const lw=x.forwardRef(iw);function ow({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Pa=x.forwardRef(ow);function cw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ir=x.forwardRef(cw);function dw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uw=x.forwardRef(dw);function mw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const hw=x.forwardRef(mw);function pw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const fw=x.forwardRef(pw);function xw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const gw=x.forwardRef(xw);function yw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vw=x.forwardRef(yw);function bw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ww=x.forwardRef(bw);function jw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const tx=x.forwardRef(jw);function Nw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ra=x.forwardRef(Nw);function kw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const ph=x.forwardRef(kw);function _w({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const fh=x.forwardRef(_w);function Sw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Cw=x.forwardRef(Sw);function Ew({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Pw=x.forwardRef(Ew);function Rw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const Lw=x.forwardRef(Rw);function Tw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Aw=x.forwardRef(Tw);function Mw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const xh=x.forwardRef(Mw);function Ow({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const fo=x.forwardRef(Ow);function Fw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const Dw=x.forwardRef(Fw);function $w({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Bw=x.forwardRef($w);function zw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const Uw=x.forwardRef(zw);function Iw({title:e,titleId:t,...s},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},s),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ts=x.forwardRef(Iw),qw=()=>{var g;const[e,t]=x.useState(!1),[s,n]=x.useState(!1),[a,i]=x.useState(!1),l=$r(),{workspace_id:o}=Rt(),c=H(h=>h.current_workspace),d=H(h=>h.authentication_state.auth_token),m=(()=>{const h=l.pathname;return h.includes("/channels")?"channels":h.includes("/campaigns")?"campaigns":h.includes("/creatives")?"creatives":h.includes("/uploads")||h.includes("/upload")?"uploads":h.includes("/alerts")?"alerts":h.includes("/settings")?"settings":"overview"})(),{data:u}=ve({queryKey:["alertCount",o],queryFn:async()=>{if(!o||!d)throw new Error("Missing workspace or auth token");return(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${o}/alert-triggers`,{params:{is_resolved:"false",limit:1},headers:{Authorization:`Bearer ${d}`}})).data},enabled:!!o&&!!d,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),v=((g=u==null?void 0:u.pagination)==null?void 0:g.total)||0,y=[{name:"Overview",href:`/w/${o}`,icon:Cw,active:m==="overview",description:"Dashboard and KPI overview"},{name:"Channels",href:`/w/${o}/channels`,icon:Pa,active:m==="channels",description:"Cross-platform comparison"},{name:"Campaigns",href:`/w/${o}/campaigns`,icon:Lw,active:m==="campaigns",description:"Campaign management"},{name:"Creatives",href:`/w/${o}/creatives`,icon:Aw,active:m==="creatives",description:"Creative performance"},{name:"Uploads",href:`/w/${o}/uploads`,icon:Xb,active:m==="uploads",description:"Data upload management"},{name:"Alerts",href:`/w/${o}/alerts`,icon:ex,active:m==="alerts",description:"Alert rules and notifications",badge:v>0?v:null},{name:"Settings",href:`/w/${o}/settings`,icon:ww,active:m==="settings",description:"Workspace and user settings"}],b=()=>{t(!e)},w=()=>{i(!a)};return x.useEffect(()=>{i(!1)},[l.pathname]),x.useEffect(()=>{const h=()=>{s&&n(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[s]),r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:r.jsx("button",{onClick:w,className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors","aria-label":"Toggle navigation menu",children:a?r.jsx(ts,{className:"h-6 w-6"}):r.jsx(sw,{className:"h-6 w-6"})})}),a&&r.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:w}),r.jsxs("div",{className:`hidden lg:flex lg:flex-col lg:fixed lg:inset-y-0 lg:z-50 bg-white border-r border-gray-200 transition-all duration-300 ${e?"lg:w-16":"lg:w-60"}`,children:[r.jsx("div",{className:"flex items-center px-4 py-4 border-b border-gray-200",children:r.jsxs(se,{to:`/w/${o}`,className:"flex items-center space-x-3 text-gray-900 hover:text-blue-600 transition-colors",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"P"})}),!e&&r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg font-bold",children:"PulseDeck"}),c&&r.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:c.name})]})]})}),r.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:y.map(h=>{const f=h.icon;return r.jsxs(se,{to:h.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${h.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,title:e?h.description:void 0,children:[r.jsxs("div",{className:"relative",children:[r.jsx(f,{className:`flex-shrink-0 h-5 w-5 ${h.active?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),h.badge&&r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h.badge>99?"99+":h.badge})]}),!e&&r.jsxs("div",{className:"ml-3 flex items-center justify-between w-full",children:[r.jsx("span",{children:h.name}),h.badge&&r.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full",children:h.badge>99?"99+":h.badge})]})]},h.name)})}),r.jsx("div",{className:"px-2 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!s),className:`group flex items-center w-full px-2 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors ${e?"justify-center":""}`,title:e?"Help & Support":void 0,children:[r.jsx(fo,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500"}),!e&&r.jsx("span",{className:"ml-3",children:"Help & Support"})]}),s&&!e&&r.jsxs("div",{className:"absolute bottom-full left-0 w-full mb-1 bg-white border border-gray-200 rounded-md shadow-lg py-1",children:[r.jsx("a",{href:"https://docs.pulsedeck.com",target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Documentation"}),r.jsx("a",{href:"mailto:support@pulsedeck.com",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Contact Support"}),r.jsx("a",{href:"https://feedback.pulsedeck.com",target:"_blank",rel:"noopener noreferrer",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Feature Request"})]})]})}),r.jsx("div",{className:"px-2 pb-4",children:r.jsx("button",{onClick:b,className:"group flex items-center w-full px-2 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?r.jsx(fw,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-500"}):r.jsxs(r.Fragment,{children:[r.jsx(hw,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-500"}),r.jsx("span",{className:"ml-3",children:"Collapse"})]})})})]}),r.jsxs("div",{className:`lg:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ${a?"translate-x-0":"-translate-x-full"}`,children:[r.jsx("div",{className:"flex items-center px-4 py-4 border-b border-gray-200",children:r.jsxs(se,{to:`/w/${o}`,className:"flex items-center space-x-3 text-gray-900",onClick:w,children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"P"})}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-lg font-bold",children:"PulseDeck"}),c&&r.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:c.name})]})]})}),r.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:y.map(h=>{const f=h.icon;return r.jsxs(se,{to:h.href,onClick:w,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${h.active?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(f,{className:`flex-shrink-0 h-5 w-5 ${h.active?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),h.badge&&r.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h.badge>99?"99+":h.badge})]}),r.jsxs("div",{className:"ml-3 flex items-center justify-between w-full",children:[r.jsx("span",{children:h.name}),h.badge&&r.jsx("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full",children:h.badge>99?"99+":h.badge})]})]},h.name)})}),r.jsxs("div",{className:"px-2 py-4 border-t border-gray-200 space-y-1",children:[r.jsxs("a",{href:"https://docs.pulsedeck.com",target:"_blank",rel:"noopener noreferrer",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors",children:[r.jsx(fo,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500"}),r.jsx("span",{className:"ml-3",children:"Documentation"})]}),r.jsxs("a",{href:"mailto:support@pulsedeck.com",className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-colors",children:[r.jsx(fo,{className:"flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-gray-500"}),r.jsx("span",{className:"ml-3",children:"Contact Support"})]})]})]}),r.jsx("div",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40",children:r.jsx("div",{className:"grid grid-cols-4 gap-1 px-2 py-2",children:y.slice(0,4).map(h=>{const f=h.icon;return r.jsxs(se,{to:h.href,className:`flex flex-col items-center p-2 text-xs font-medium rounded-md transition-colors ${h.active?"text-blue-700 bg-blue-50":"text-gray-700 hover:text-gray-900 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx(f,{className:`h-5 w-5 ${h.active?"text-blue-500":"text-gray-400"}`}),h.badge&&r.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h.badge>9?"9+":h.badge})]}),r.jsx("span",{className:"mt-1 truncate",children:h.name})]},h.name)})})}),r.jsx("div",{className:"sm:hidden h-16"})]})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sx=(...e)=>e.filter((t,s,n)=>!!t&&n.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>x.createElement("svg",{ref:c,...Ww,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:sx("lucide",a),...o},[...l.map(([d,p])=>x.createElement(d,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const s=x.forwardRef(({className:n,...a},i)=>x.createElement(Hw,{ref:i,iconNode:t,className:sx(`lucide-${Vw(e)}`,n),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ue("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ue("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ue("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ax=()=>{const e=H(d=>d.authentication_state.authentication_status.is_authenticated),t=H(d=>d.authentication_state.auth_token),[s,n]=x.useState({status:"unknown",last_check:"",response_time:0}),[a]=x.useState({version:"1.0.0",build:"development",release_date:"2024-01-15"}),{data:i}=ve({queryKey:["api-status-check"],queryFn:async()=>{var p;const d=performance.now();try{const m=await W.get("https://123ad-performance.launchpulse.ai/api/auth/me",{headers:t?{Authorization:`Bearer ${t}`}:{},timeout:1e4}),u=performance.now()-d;return{status:m.status===200?"operational":"degraded",response_time:Math.round(u),last_check:new Date().toISOString()}}catch(m){const u=performance.now()-d;return W.isAxiosError(m)&&((p=m.response)==null?void 0:p.status)===401&&!t?{status:"operational",response_time:Math.round(u),last_check:new Date().toISOString()}:{status:"degraded",response_time:Math.round(u),last_check:new Date().toISOString()}}},refetchInterval:5*60*1e3,staleTime:4*60*1e3,retry:1,refetchOnWindowFocus:!1});x.useEffect(()=>{i&&n(i)},[i]);const l=d=>{window.open(d,"_blank","noopener,noreferrer")},c=(()=>{switch(s.status){case"operational":return{color:"text-green-600",bgColor:"bg-green-100",dotColor:"bg-green-600",text:"Operational"};case"degraded":return{color:"text-yellow-600",bgColor:"bg-yellow-100",dotColor:"bg-yellow-600",text:"Degraded"};default:return{color:"text-gray-600",bgColor:"bg-gray-100",dotColor:"bg-gray-600",text:"Unknown"}}})();return r.jsx(r.Fragment,{children:r.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider",children:"Support"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://docs.pulsedeck.com"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Help Center",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("mailto:support@pulsedeck.com"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Contact Support",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://feedback.pulsedeck.com"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Feature Requests",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://status.pulsedeck.com"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["System Status",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider",children:"Legal"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://pulsedeck.com/privacy"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Privacy Policy",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://pulsedeck.com/terms"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Terms of Service",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://pulsedeck.com/cookies"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Cookie Policy",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://pulsedeck.com/gdpr"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["GDPR Information",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider",children:"Application"}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(nx,{className:"h-4 w-4 mr-2 text-blue-600"}),r.jsxs("span",{children:["Version ",a.version]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ic,{className:"h-4 w-4 mr-2 text-gray-500"}),r.jsxs("span",{children:["Released ",a.release_date]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${c.dotColor}`}),r.jsxs("span",{className:c.color,children:["API ",c.text]})]}),s.response_time>0&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Response: ",s.response_time,"ms"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider",children:"Resources"}),r.jsxs("ul",{className:"space-y-3",children:[r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://docs.pulsedeck.com/api"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["API Documentation",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://community.pulsedeck.com"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Community Forum",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://github.com/pulsedeck"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Developer Resources",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),r.jsx("li",{children:r.jsxs("button",{onClick:()=>l("https://twitter.com/pulsedeck"),className:"text-gray-600 hover:text-gray-900 text-sm flex items-center group transition-colors",children:["Follow Updates",r.jsx(yt,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})})]})]})]}),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center space-y-4 md:space-y-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx("span",{children:" 2024 PulseDeck Analytics."}),r.jsx("span",{className:"hidden sm:inline",children:"All rights reserved."}),r.jsx(ej,{className:"h-4 w-4 text-red-500 ml-1"})]}),e&&r.jsxs("div",{className:"text-xs text-gray-500 space-x-3",children:[r.jsxs("span",{children:["Build: ",a.build]}),s.last_check&&r.jsxs("span",{children:["Last health check: ",new Date(s.last_check).toLocaleTimeString()]})]})]})})]})})})},dj=()=>{const e=H(u=>u.notification_state.toast_notifications),t=H(u=>u.notification_state.alerts),s=H(u=>u.upload_state.active_uploads),n=H(u=>u.current_workspace),a=H(u=>u.authentication_state.auth_token),i=H(u=>u.remove_toast_notification),l=H(u=>u.mark_alert_as_read),o=fe({mutationFn:async({workspaceId:u,notificationId:v})=>(await W.put(`https://123ad-performance.launchpulse.ai/api/workspaces/${u}/notifications/${v}`,{is_read:!0,read_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data});x.useEffect(()=>{e.forEach(u=>{if(u.auto_dismiss){const y=setTimeout(()=>{i(u.id)},5e3);return()=>clearTimeout(y)}})},[e,i]);const c=x.useCallback(u=>{i(u)},[i]),d=x.useCallback(async u=>{if(l(u),n!=null&&n.id)try{await o.mutateAsync({workspaceId:n.id,notificationId:u})}catch(v){console.error("Failed to mark notification as read:",v)}},[l,n,o]),p=(u,v)=>{const y="h-5 w-5";switch(u){case"success":return r.jsx(et,{className:`${y} text-green-500`});case"error":return r.jsx(Yw,{className:`${y} text-red-500`});case"warning":return r.jsx(Wc,{className:`${y} text-yellow-500`});case"alert":return r.jsx(Wc,{className:`${y} text-blue-500`});default:return r.jsx(tj,{className:`${y} text-blue-500`})}},m=(u,v)=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"alert":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:e.map(u=>r.jsx("div",{className:`
              transform transition-all duration-300 ease-in-out
              bg-white rounded-lg shadow-lg border-l-4 p-4
              ${u.type==="success"?"border-l-green-500":""}
              ${u.type==="error"?"border-l-red-500":""}
              ${u.type==="warning"?"border-l-yellow-500":""}
              ${u.type==="info"?"border-l-blue-500":""}
              animate-slide-in-right
            `,role:"alert","aria-live":"polite",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0 pt-0.5",children:p(u.type)}),r.jsx("div",{className:"ml-3 flex-1",children:r.jsx("p",{className:"text-sm text-gray-600",children:u.message})}),r.jsx("div",{className:"ml-4 flex-shrink-0",children:r.jsx("button",{onClick:()=>c(u.id),className:"rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Dismiss notification",children:r.jsx(dr,{className:"h-4 w-4"})})})]})},u.id))}),t.filter(u=>!u.is_read).length>0&&r.jsx("div",{className:"fixed top-16 left-0 right-0 z-40",children:t.filter(u=>!u.is_read).slice(0,3).map(u=>r.jsx("div",{className:`
                  ${m(u.type)} 
                  border-b px-4 py-3 sm:px-6 lg:px-8
                `,role:"alert","aria-live":"assertive",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:p(u.type)}),r.jsx("div",{className:"ml-3",children:r.jsx("p",{className:"text-sm font-medium",children:u.message})})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>d(u.id),className:"rounded-md inline-flex text-current hover:text-opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current","aria-label":"Dismiss alert",children:r.jsx(dr,{className:"h-4 w-4"})})})]})},u.id))}),s.length>0&&r.jsx("div",{className:"fixed top-4 right-4 z-40 space-y-2 max-w-sm w-full",style:{marginTop:`${e.length*80+16}px`},children:s.map(u=>r.jsx("div",{className:"bg-white rounded-lg shadow-lg border p-4 animate-slide-in-right",role:"status","aria-live":"polite",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Processing ",u.platform," data"]}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:u.filename}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[r.jsx("span",{children:u.status}),r.jsxs("span",{children:[u.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300 ease-out",style:{width:`${u.progress}%`}})})]})]})]})},u.id))}),r.jsx("style",{children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out;
        }
      `})]})},uj=()=>{const e=ys(),t=H(d=>d.authentication_state.auth_token),[s,n]=x.useState(null),a=[{name:"Sarah Chen",company:"Growth Marketing Agency",testimonial:"PulseDeck reduced our reporting time from hours to minutes. The cross-platform insights are game-changing.",avatar_url:"https://picsum.photos/64/64?random=1"},{name:"Marcus Johnson",company:"E-commerce Startup",testimonial:"Finally, a tool that gives us unified analytics across TikTok, Meta, and Snapchat. ROI visibility has never been clearer.",avatar_url:"https://picsum.photos/64/64?random=2"},{name:"Emily Rodriguez",company:"Digital Agency",testimonial:"The automated insights save us so much time. We can focus on optimization instead of data compilation.",avatar_url:"https://picsum.photos/64/64?random=3"}],i=[{name:"TikTok",logo_url:"https://picsum.photos/80/80?random=tiktok",description:"TikTok Ads Manager"},{name:"Meta",logo_url:"https://picsum.photos/80/80?random=meta",description:"Facebook & Instagram Ads"},{name:"Snapchat",logo_url:"https://picsum.photos/80/80?random=snapchat",description:"Snapchat Ads Manager"}],l=fe({mutationFn:async()=>(await W.post("https://123ad-performance.launchpulse.ai/api/workspaces",{name:"Demo Workspace",default_currency:"USD",timezone:"UTC",data_retention_days:730},{headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}})).data,onSuccess:d=>{n(null),e(`/w/${d.workspace.id}`)},onError:d=>{var m,u;const p=((u=(m=d.response)==null?void 0:m.data)==null?void 0:u.message)||d.message||"Failed to create demo workspace";n(p)}}),o=()=>{n(null),l.mutate()},c=()=>{n(null)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 overflow-hidden",children:[r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsx("div",{className:"relative z-10 pb-8 bg-gradient-to-br from-blue-50 to-indigo-100 sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:r.jsx("div",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:r.jsxs("div",{className:"sm:text-center lg:text-left",children:[r.jsxs("h1",{className:"text-4xl tracking-tight font-bold text-gray-900 sm:text-5xl md:text-6xl",children:[r.jsx("span",{className:"block xl:inline",children:"Cross-platform ad"}),r.jsx("span",{className:"block text-blue-600 xl:inline",children:" analytics made simple"})]}),r.jsx("p",{className:"mt-3 text-base text-gray-600 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0 leading-relaxed",children:"Get unified analytics across TikTok, Meta, and Snapchat in under 60 seconds. Automated insights, cross-platform comparison, and proactive alerts  all in one dashboard."}),r.jsxs("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[r.jsx("div",{className:"rounded-md shadow",children:r.jsx(se,{to:"/signup",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200 md:py-4 md:text-lg md:px-10 shadow-lg hover:shadow-xl",children:"Start Free Today"})}),r.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:r.jsx("button",{onClick:o,disabled:l.isPending,className:"w-full flex items-center justify-center px-8 py-3 border border-gray-300 text-base font-medium rounded-lg text-gray-900 bg-white hover:bg-gray-50 transition-all duration-200 md:py-4 md:text-lg md:px-10 disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating demo..."]}):"View Live Demo"})})]}),s&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm",children:s}),r.jsx("button",{onClick:c,className:"ml-2 text-red-500 hover:text-red-700",children:r.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsxs("div",{className:"mt-6 text-sm text-gray-500 sm:text-center lg:text-left",children:["Already have an account?",r.jsx(se,{to:"/signin",className:"ml-1 text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})]})})})}),r.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2",children:r.jsx("div",{className:"h-56 w-full bg-gray-100 sm:h-72 md:h-96 lg:w-full lg:h-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-32 h-32 bg-blue-600 rounded-xl mx-auto mb-4 flex items-center justify-center",children:r.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("p",{className:"text-gray-600 font-medium",children:"Dashboard Preview"})]})})})]}),r.jsx("div",{className:"py-12 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"lg:text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Everything you need to optimize cross-platform campaigns"}),r.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-600 lg:mx-auto leading-relaxed",children:"Stop switching between platforms. Get unified analytics, automated insights, and proactive alerts in one place."})]}),r.jsx("div",{className:"mt-10",children:r.jsxs("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-3 md:gap-x-8 md:gap-y-10",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("dt",{children:[r.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-lg bg-blue-600 text-white",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),r.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Unified Analytics"})]}),r.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-600",children:"Connect TikTok, Meta, and Snapchat data in one dashboard. No more manual exports or spreadsheet juggling."})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("dt",{children:[r.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-lg bg-blue-600 text-white",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Automated Insights"})]}),r.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-600",children:"AI-powered insights highlight performance anomalies, optimization opportunities, and winning creative patterns."})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("dt",{children:[r.jsx("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-lg bg-blue-600 text-white",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:"Time Savings"})]}),r.jsx("dd",{className:"mt-2 ml-16 text-base text-gray-600",children:"From upload to insights in under 60 seconds. Spend time optimizing campaigns, not compiling reports."})]})]})})]})}),r.jsx("div",{className:"py-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"lg:text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Seamless platform integration"}),r.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-600 lg:mx-auto leading-relaxed",children:"Simply export your campaign data and upload to PulseDeck. We handle the rest."})]}),r.jsxs("div",{className:"mt-10",children:[r.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-3",children:i.map((d,p)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("img",{className:"h-20 w-20 rounded-xl shadow-lg",src:d.logo_url,alt:d.name})}),r.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:d.name}),r.jsx("p",{className:"mt-2 text-base text-gray-600",children:d.description}),p<i.length-1&&r.jsx("div",{className:"hidden sm:block mt-6",children:r.jsx("svg",{className:"mx-auto h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]},d.name))}),r.jsx("div",{className:"mt-10 text-center",children:r.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-blue-600 rounded-lg",children:[r.jsx("svg",{className:"h-8 w-8 text-white mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),r.jsx("span",{className:"text-white font-medium text-lg",children:"PulseDeck Dashboard"})]})})]})]})}),r.jsx("div",{className:"py-12 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"lg:text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Trusted by marketing teams worldwide"}),r.jsx("p",{className:"mt-4 max-w-2xl text-xl text-gray-600 lg:mx-auto leading-relaxed",children:"Join hundreds of marketers who have transformed their cross-platform analytics workflow."})]}),r.jsx("div",{className:"mt-10",children:r.jsx("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:a.map(d=>r.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 shadow-lg border border-gray-100",children:[r.jsxs("p",{className:"text-gray-900 leading-relaxed",children:['"',d.testimonial,'"']}),r.jsxs("div",{className:"mt-6 flex items-center",children:[r.jsx("img",{className:"h-12 w-12 rounded-full",src:d.avatar_url,alt:d.name}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.name}),r.jsx("p",{className:"text-sm text-gray-600",children:d.company})]})]})]},d.name))})}),r.jsx("div",{className:"mt-10 text-center",children:r.jsxs("div",{className:"flex justify-center items-center space-x-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"500+"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Users"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"10M+"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Ad Spend Analyzed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"99.9%"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Uptime"})]})]})})]})}),r.jsx("div",{className:"bg-blue-600",children:r.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[r.jsxs("h2",{className:"text-3xl font-bold text-white sm:text-4xl",children:[r.jsx("span",{className:"block",children:"Ready to transform your"}),r.jsx("span",{className:"block",children:"ad analytics workflow?"})]}),r.jsx("p",{className:"mt-4 text-lg leading-6 text-blue-200",children:"Start free today. No credit card required. Set up in under 5 minutes."}),r.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(se,{to:"/signup",className:"inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-lg text-blue-600 bg-white hover:bg-gray-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Started Free"}),r.jsx("button",{onClick:o,disabled:l.isPending,className:"inline-flex items-center justify-center px-8 py-3 border border-white text-base font-medium rounded-lg text-white bg-transparent hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l.isPending?"Creating demo...":"Try Live Demo"})]})]})}),r.jsx("div",{className:"py-12 bg-gray-50",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"lg:text-center",children:r.jsx("h2",{className:"text-3xl font-bold text-gray-900 sm:text-4xl",children:"Frequently asked questions"})}),r.jsxs("div",{className:"mt-10 space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"How secure is my campaign data?"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Your data is encrypted at rest and in transit. We use industry-standard security practices and never store your platform credentials. Data is processed locally and deleted after analysis."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Which platforms do you support?"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Currently we support TikTok Ads Manager, Meta Ads Manager (Facebook & Instagram), and Snapchat Ads Manager. More platforms coming soon."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"How long does setup take?"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Setup takes under 5 minutes. Simply export your campaign data from each platform and upload to PulseDeck. Our intelligent mapping handles the rest automatically."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Can I customize the analytics dashboard?"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Yes! You can customize metrics, date ranges, comparison periods, and create custom alerts based on your specific KPIs and performance thresholds."})]})]})]})})]})},mj=e=>{const t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),numbers:/\d/.test(e)},s=Object.values(t).filter(Boolean).length;let n="Weak";return s>=4?n="Strong":s>=3?n="Good":s>=2&&(n="Fair"),{score:s,requirements:t,strength_label:n}},vh=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),hj=()=>{const[e,t]=x.useState({email:"",name:"",password:""}),[s,n]=x.useState({}),[a,i]=x.useState({score:0,requirements:{length:!1,uppercase:!1,lowercase:!1,numbers:!1},strength_label:"Weak"}),[l,o]=x.useState(!1),[c,d]=x.useState(!1),[p,m]=x.useState(!1),[u,v]=x.useState(null),y=H(R=>R.authentication_state.authentication_status.is_loading),b=H(R=>R.authentication_state.error_message),w=H(R=>R.register_user),g=H(R=>R.clear_auth_error),h=x.useCallback(async R=>{var Q;if(!R||!vh(R)){v(null);return}m(!0);try{await W.get("https://123ad-performance.launchpulse.ai/api/users/check-email",{params:{email:R}}),v(!1),n(B=>({...B,email:"Email address is already registered"}))}catch(B){((Q=B.response)==null?void 0:Q.status)===404?(v(!0),n($=>({...$,email:void 0}))):v(null)}finally{m(!1)}},[]);x.useEffect(()=>{const R=setTimeout(()=>{e.email&&h(e.email)},500);return()=>clearTimeout(R)},[e.email,h]),x.useEffect(()=>{if(e.password){const R=mj(e.password);i(R)}else i({score:0,requirements:{length:!1,uppercase:!1,lowercase:!1,numbers:!1},strength_label:"Weak"})},[e.password]);const f=(R,Q)=>{t(B=>({...B,[R]:Q})),n(B=>({...B,[R]:void 0,general:void 0})),g()},j=()=>{const R={};return e.email?vh(e.email)?u===!1&&(R.email="Email address is already registered"):R.email="Please enter a valid email address":R.email="Email address is required",e.name.trim()?e.name.trim().length<2&&(R.name="Name must be at least 2 characters long"):R.name="Full name is required",e.password?a.score<3&&(R.password="Password is too weak. Please meet more requirements."):R.password="Password is required",c||(R.general="You must accept the Terms of Service and Privacy Policy"),n(R),Object.keys(R).length===0},P=async R=>{if(R.preventDefault(),!!j())try{await w(e.email,e.password,e.name)}catch(Q){console.error("Registration error:",Q)}},D=()=>{console.log("Google sign up clicked")},L=()=>{console.log("GitHub sign up clicked")};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Create your account"}),r.jsx("p",{className:"mt-2 text-gray-600 leading-relaxed",children:"Join thousands of marketers optimizing their ad performance"})]})}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white shadow-lg shadow-gray-200/50 rounded-xl border border-gray-100 py-8 px-6 lg:px-8",children:[r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("button",{type:"button",onClick:D,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("button",{type:"button",onClick:L,className:"w-full flex justify-center items-center px-4 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Continue with GitHub"]})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[(b||s.general)&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsx("p",{className:"text-sm",children:b||s.general})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-2",children:"Email address"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:R=>f("email",R.target.value),className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 focus:outline-none ${s.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":u===!0?"border-green-300 focus:border-green-500 focus:ring-4 focus:ring-green-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Enter your email"}),p&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})}),u===!0&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx(Hn,{className:"h-4 w-4 text-green-600"})}),u===!1&&r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx(dr,{className:"h-4 w-4 text-red-600"})})]}),s.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-2",children:"Full name"}),r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:e.name,onChange:R=>f("name",R.target.value),className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 focus:outline-none ${s.name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Enter your full name"}),s.name&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:R=>f("password",R.target.value),className:`w-full px-4 py-3 pr-12 rounded-lg border-2 transition-all duration-200 focus:outline-none ${s.password?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`,placeholder:"Create a strong password"}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:l?r.jsx(Xw,{className:"h-5 w-5"}):r.jsx(Jw,{className:"h-5 w-5"})})]}),e.password&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Password strength:"}),r.jsx("span",{className:`text-sm font-medium ${a.score>=4?"text-green-600":a.score>=3?"text-yellow-600":a.score>=2?"text-orange-600":"text-red-600"}`,children:a.strength_label})]}),r.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(R=>r.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors duration-200 ${R<=a.score?a.score>=4?"bg-green-500":a.score>=3?"bg-yellow-500":a.score>=2?"bg-orange-500":"bg-red-500":"bg-gray-200"}`},R))}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("div",{className:`flex items-center ${a.requirements.length?"text-green-600":"text-gray-400"}`,children:[a.requirements.length?r.jsx(Hn,{className:"h-3 w-3 mr-1"}):r.jsx(dr,{className:"h-3 w-3 mr-1"}),"8+ characters"]}),r.jsxs("div",{className:`flex items-center ${a.requirements.uppercase?"text-green-600":"text-gray-400"}`,children:[a.requirements.uppercase?r.jsx(Hn,{className:"h-3 w-3 mr-1"}):r.jsx(dr,{className:"h-3 w-3 mr-1"}),"Uppercase letter"]}),r.jsxs("div",{className:`flex items-center ${a.requirements.lowercase?"text-green-600":"text-gray-400"}`,children:[a.requirements.lowercase?r.jsx(Hn,{className:"h-3 w-3 mr-1"}):r.jsx(dr,{className:"h-3 w-3 mr-1"}),"Lowercase letter"]}),r.jsxs("div",{className:`flex items-center ${a.requirements.numbers?"text-green-600":"text-gray-400"}`,children:[a.requirements.numbers?r.jsx(Hn,{className:"h-3 w-3 mr-1"}):r.jsx(dr,{className:"h-3 w-3 mr-1"}),"Number"]})]})]}),s.password&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-start",children:[r.jsx("input",{type:"checkbox",checked:c,onChange:R=>d(R.target.checked),className:"mt-1 h-4 w-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-4 focus:ring-blue-100 focus:border-blue-500"}),r.jsxs("span",{className:"ml-3 text-sm text-gray-600 leading-relaxed",children:["I accept the"," ",r.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Privacy Policy"})]})]})}),r.jsx("button",{type:"submit",disabled:y||!c,className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-xl",children:y?r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[r.jsx(Vc,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Secure"})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[r.jsx(Hc,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Trusted by 10K+"})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[r.jsx(nx,{className:"h-5 w-5 text-yellow-600"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Quick Setup"})]})]})}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",r.jsx(se,{to:"/signin",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Sign in"})]})})]})}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Vc,{className:"h-5 w-5 text-blue-600 mt-0.5"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Email verification required"}),r.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"After creating your account, we'll send you a verification email to confirm your email address and activate your account."})]})]})})})]})})},pj=()=>{const[e,t]=x.useState({email:"",password:""}),[s,n]=x.useState(!1),[a,i]=x.useState(0),[l,o]=x.useState(!1),[c]=gt(),d=ys(),p=c.get("redirect"),m=H(P=>P.authentication_state.authentication_status.is_loading),u=H(P=>P.authentication_state.error_message),v=H(P=>P.authentication_state.authentication_status.is_authenticated),y=H(P=>P.current_workspace),b=H(P=>P.login_user),w=H(P=>P.clear_auth_error);x.useEffect(()=>{v&&(p?d(p,{replace:!0}):y?d(`/w/${y.id}`,{replace:!0}):d("/w/default",{replace:!0}))},[v,y,p,d]),x.useEffect(()=>{u&&w()},[e.email,e.password,w,u]);const g=async P=>{if(P.preventDefault(),w(),!(!e.email||!e.password))try{await b(e.email,e.password),i(0)}catch{i(D=>D+1)}},h=P=>D=>{t(L=>({...L,[P]:D.target.value}))},f=()=>{window.location.href="https://123ad-performance.launchpulse.ai/api/auth/google"},j=()=>{window.location.href="https://123ad-performance.launchpulse.ai/api/auth/github"};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-xl bg-blue-600 mb-6",children:r.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),r.jsx("p",{className:"text-gray-600",children:"Sign in to your PulseDeck account to access your analytics dashboard"})]}),r.jsxs("div",{className:"bg-white shadow-lg shadow-gray-200/50 rounded-xl border border-gray-100 p-8",children:[u&&r.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-800 px-4 py-3 rounded-lg",role:"alert",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"h-5 w-5 text-red-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:u}),u.includes("Invalid credentials")&&r.jsx("p",{className:"text-xs mt-1",children:"Please check your email and password and try again."}),u.includes("not verified")&&r.jsx("p",{className:"text-xs mt-1",children:"Please check your email for a verification link."})]})]})}),a>=3&&r.jsx("div",{className:"mb-6 bg-yellow-50 border-2 border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg",role:"alert",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"h-5 w-5 text-yellow-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:"Multiple failed attempts detected"}),r.jsx("p",{className:"text-xs mt-1",children:"For security, your account may be temporarily locked after additional failed attempts."})]})]})}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-center px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 font-medium",children:[r.jsxs("svg",{className:"h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[r.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),r.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),r.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),r.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),r.jsxs("button",{type:"button",onClick:j,className:"w-full flex items-center justify-center px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 font-medium",children:[r.jsx("svg",{className:"h-5 w-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"Continue with GitHub"]})]}),r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-gray-200"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"Or continue with email"})})]}),r.jsxs("form",{className:"space-y-6",onSubmit:g,children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-2",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h("email"),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your email address",disabled:m})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:l?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:h("password"),className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your password",disabled:m}),r.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:l?r.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414l-1.414-1.414M14.12 14.12l1.415 1.415m0 0l1.414-1.414m-1.414 1.414l-1.415-1.415"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:s,onChange:P=>n(P.target.checked),className:"h-4 w-4 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",disabled:m}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsx(se,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Forgot your password?"})})]}),r.jsx("button",{type:"submit",disabled:m||!e.email||!e.password,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:m?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in to your account"})]})]}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",r.jsx(se,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200",children:"Sign up for free"})]})}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-xs text-gray-500 max-w-sm mx-auto",children:"By signing in, you agree to our data protection practices. Your information is secure and encrypted."})})]})})})},fj=()=>{const[e]=gt(),t=ys(),s=e.get("token"),[n,a]=x.useState({status:"pending",message:null}),[i,l]=x.useState(5),[o,c]=x.useState(0),d=H(g=>g.authentication_state.current_user),p=H(g=>g.update_user_profile),m="https://123ad-performance.launchpulse.ai",u=fe({mutationFn:async g=>(await W.post(`${m}/api/auth/verify-email`,{token:g},{headers:{"Content-Type":"application/json"}})).data,onSuccess:g=>{a({status:"success",message:g.message||"Email verified successfully! Redirecting..."}),g.user&&p({email_verified:!0,updated_at:g.user.updated_at}),l(5)},onError:g=>{var j,P;const h=((P=(j=g.response)==null?void 0:j.data)==null?void 0:P.message)||g.message||"Verification failed",f=h.toLowerCase().includes("expired")||h.toLowerCase().includes("expire");a({status:f?"expired":"failed",message:h})}}),v=fe({mutationFn:async g=>(await W.post(`${m}/api/auth/verify-email`,{email:g},{headers:{"Content-Type":"application/json"}})).data,onSuccess:g=>{a({status:"pending",message:g.message||"Verification email sent! Please check your inbox."}),c(60)},onError:g=>{var f,j;const h=((j=(f=g.response)==null?void 0:f.data)==null?void 0:j.message)||g.message||"Failed to send verification email";a({status:"failed",message:h})}});x.useEffect(()=>{s?(a({status:"verifying",message:null}),u.mutate(s)):a({status:"failed",message:"No verification token provided. Please check your email for the verification link."})},[s,u]),x.useEffect(()=>{if(n.status==="success"&&i>0){const g=setTimeout(()=>{l(h=>h-1)},1e3);return()=>clearTimeout(g)}else n.status==="success"&&i===0&&t("/")},[n.status,i,t]),x.useEffect(()=>{if(o>0){const g=setTimeout(()=>{c(h=>h-1)},1e3);return()=>clearTimeout(g)}},[o]);const y=x.useCallback(()=>{d!=null&&d.email&&o===0&&v.mutate(d.email)},[d==null?void 0:d.email,o,v]),b=()=>{switch(n.status){case"verifying":return r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-6"});case"success":return r.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:r.jsx("svg",{className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"failed":case"expired":return r.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:r.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})});default:return r.jsx("div",{className:"mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:r.jsx("svg",{className:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})})}},w=()=>{switch(n.status){case"verifying":return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Verifying Your Email"}),r.jsx("p",{className:"text-lg text-gray-600 text-center mb-8",children:"Please wait while we verify your email address..."})]});case"success":return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Email Verified Successfully!"}),r.jsx("p",{className:"text-lg text-gray-600 text-center mb-6",children:"Welcome to PulseDeck! Your account has been activated and you're ready to start analyzing your ad performance."}),n.message&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-green-700 text-center text-sm",children:n.message})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsxs("p",{className:"text-blue-700 mb-2",children:["Redirecting to dashboard in ",i," seconds..."]}),r.jsx(se,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Go to Dashboard Now"})]})]});case"expired":return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Verification Link Expired"}),r.jsx("p",{className:"text-lg text-gray-600 text-center mb-6",children:"Your verification link has expired for security reasons. Don't worry, we can send you a new one!"}),n.message&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700 text-center text-sm",children:n.message})}),(d==null?void 0:d.email)&&r.jsxs("div",{className:"text-center",children:[r.jsx("button",{onClick:y,disabled:o>0||v.isPending,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):o>0?`Resend in ${o}s`:"Send New Verification Email"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["We'll send a new verification link to ",d.email]})]})]});case"failed":return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Verification Failed"}),r.jsx("p",{className:"text-lg text-gray-600 text-center mb-6",children:"We couldn't verify your email with the provided link. This might be due to an invalid or expired token."}),n.message&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:r.jsx("p",{className:"text-red-700 text-center text-sm",children:n.message})}),r.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.email)&&r.jsxs("div",{className:"text-center",children:[r.jsx("button",{onClick:y,disabled:o>0||v.isPending,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):o>0?`Resend in ${o}s`:"Send New Verification Email"}),r.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["We'll send a new verification link to ",d.email]})]}),r.jsx("div",{className:"text-center",children:r.jsx(se,{to:"/signin",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to Sign In"})})]})]});default:return r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Email Verification"}),r.jsx("p",{className:"text-lg text-gray-600 text-center mb-6",children:"Please check your email for the verification link."})]})}};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg shadow-gray-200/50 sm:rounded-xl sm:px-10 border border-gray-100",children:[b(),w(),r.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Need help with verification?"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(se,{to:"/signup",className:"block text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Create a new account"}),r.jsx("a",{href:"mailto:support@pulsedeck.com",className:"block text-sm text-gray-600 hover:text-gray-700 transition-colors",children:"Contact support"})]})]})})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(se,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:" Back to PulseDeck"})})]})})})},xj=(e,t)=>{const s=e.length>=8,n=/[A-Z]/.test(e),a=/[a-z]/.test(e),i=/\d/.test(e),l=/[!@#$%^&*(),.?":{}|<>]/.test(e),o=[s,n,a,i,l].filter(Boolean).length,c=o>=4&&s,d=e===t&&t.length>0;return{strength_score:o,matches_confirmation:d,requirements_met:c,criteria:{hasMinLength:s,hasUppercase:n,hasLowercase:a,hasNumbers:i,hasSpecialChar:l}}},gj=()=>{const e=ys(),[t]=gt(),s=t.get("token"),n=H($=>$.authentication_state.authentication_status.is_authenticated),a=H($=>$.authentication_state.authentication_status.is_loading),i=x.useMemo(()=>s?"reset":"request",[s]),[l,o]=x.useState({email:""}),[c,d]=x.useState({password:"",confirm_password:""}),[p,m]=x.useState({status:"idle",message:null}),[u,v]=x.useState({is_valid:!0,is_expired:!1,error_message:null}),[y,b]=x.useState(!1),[w,g]=x.useState(!1),h=x.useMemo(()=>xj(c.password,c.confirm_password),[c.password,c.confirm_password]);x.useEffect(()=>{!a&&n&&e("/w/default/settings",{replace:!0})},[n,a,e]);const f=()=>"https://123ad-performance.launchpulse.ai",j=fe({mutationFn:async $=>(await W.post(`${f()}/api/auth/forgot-password`,$,{headers:{"Content-Type":"application/json"}})).data,onMutate:()=>{m({status:"sending",message:null})},onSuccess:$=>{m({status:"sent",message:$.message||"Password reset instructions have been sent to your email."})},onError:$=>{var I,G;const E=((G=(I=$.response)==null?void 0:I.data)==null?void 0:G.message)||$.message||"Failed to send password reset email. Please try again.";m({status:"failed",message:E})}}),P=fe({mutationFn:async $=>(await W.post(`${f()}/api/auth/reset-password`,$,{headers:{"Content-Type":"application/json"}})).data,onMutate:()=>{m({status:"resetting",message:null})},onSuccess:$=>{m({status:"success",message:$.message||"Your password has been successfully reset."}),setTimeout(()=>{e("/signin?message=Password reset successful. Please sign in with your new password.",{replace:!0})},2e3)},onError:$=>{var I,G,te,J;const E=((G=(I=$.response)==null?void 0:I.data)==null?void 0:G.message)||$.message||"Failed to reset password. Please try again.";(((te=$.response)==null?void 0:te.status)===400||((J=$.response)==null?void 0:J.status)===401)&&v({is_valid:!1,is_expired:!0,error_message:"This reset link has expired or is invalid. Please request a new password reset."}),m({status:"failed",message:E})}}),D=$=>{if($.preventDefault(),!l.email){m({status:"failed",message:"Please enter your email address."});return}j.mutate({email:l.email})},L=$=>{if($.preventDefault(),!h.requirements_met){m({status:"failed",message:"Please ensure your password meets all requirements."});return}if(!h.matches_confirmation){m({status:"failed",message:"Passwords do not match."});return}if(!s){m({status:"failed",message:"Invalid reset token."});return}P.mutate({token:s,password:c.password})},R=$=>{o({email:$.target.value}),p.status==="failed"&&m({status:"idle",message:null})},Q=$=>{d(E=>({...E,password:$.target.value})),p.status==="failed"&&m({status:"idle",message:null})},B=$=>{d(E=>({...E,confirm_password:$.target.value})),p.status==="failed"&&m({status:"idle",message:null})};return a?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(Bw,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"ml-2 text-2xl font-bold text-gray-900",children:"PulseDeck"})]})}),i==="request"&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Reset your password"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),i==="reset"&&r.jsxs(r.Fragment,{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Set new password"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Create a strong password for your account."})]})]}),r.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:r.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg shadow-gray-200/50 sm:rounded-xl sm:px-10 border border-gray-100",children:[p.status==="success"&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:r.jsx(ir,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i==="request"?"Email sent!":"Password reset successfully!"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:p.message}),i==="request"&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex",children:[r.jsx(vw,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"text-blue-700 font-medium",children:"What happens next?"}),r.jsxs("ul",{className:"text-blue-600 mt-1 space-y-1",children:[r.jsx("li",{children:" Check your email inbox for reset instructions"}),r.jsx("li",{children:" Click the reset link within 1 hour"}),r.jsx("li",{children:" The link can only be used once for security"})]})]})]})}),r.jsx("div",{className:"space-y-3",children:i==="request"?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>m({status:"idle",message:null}),className:"w-full flex justify-center py-3 px-4 border border-blue-300 rounded-lg text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Send another email"}),r.jsx(se,{to:"/signin",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back to sign in"})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to sign in page..."})})]}),u.error_message&&r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:r.jsx(Ra,{className:"h-6 w-6 text-red-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Link expired"}),r.jsx("p",{className:"text-sm text-gray-600 mb-6",children:u.error_message}),r.jsx(se,{to:"/reset-password",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Request new reset link"})]}),i==="request"&&p.status!=="success"&&r.jsxs("form",{className:"space-y-6",onSubmit:D,children:[p.message&&p.status==="failed"&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex",children:[r.jsx(ts,{className:"h-5 w-5 text-red-400 mr-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:p.message})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:R,placeholder:"Enter your email address",className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Security information"}),r.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[r.jsx("li",{children:" Reset links expire after 1 hour for security"}),r.jsx("li",{children:" Each link can only be used once"}),r.jsx("li",{children:" Check your spam folder if you don't see the email"})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:p.status==="sending",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:p.status==="sending"?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending email..."]}):"Send reset email"})}),r.jsx("div",{className:"text-center",children:r.jsx(se,{to:"/signin",className:"text-blue-600 hover:text-blue-500 text-sm font-medium transition-colors",children:"Back to sign in"})})]}),i==="reset"&&p.status!=="success"&&!u.error_message&&r.jsxs("form",{className:"space-y-6",onSubmit:L,children:[p.message&&p.status==="failed"&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:r.jsxs("div",{className:"flex",children:[r.jsx(ts,{className:"h-5 w-5 text-red-400 mr-2 flex-shrink-0"}),r.jsx("p",{className:"text-sm",children:p.message})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:y?"text":"password",autoComplete:"new-password",required:!0,value:c.password,onChange:Q,placeholder:"Create a strong password",className:"block w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-lg placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),r.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:y?r.jsx(ph,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(fh,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),c.password&&r.jsxs("div",{className:"mt-3 bg-gray-50 border border-gray-200 rounded-lg p-3",children:[r.jsx("h4",{className:"text-xs font-medium text-gray-900 mb-2",children:"Password requirements:"}),r.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs",children:[r.jsxs("div",{className:`flex items-center ${h.criteria.hasMinLength?"text-green-600":"text-red-600"}`,children:[h.criteria.hasMinLength?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),"At least 8 characters"]}),r.jsxs("div",{className:`flex items-center ${h.criteria.hasUppercase?"text-green-600":"text-red-600"}`,children:[h.criteria.hasUppercase?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),"One uppercase letter"]}),r.jsxs("div",{className:`flex items-center ${h.criteria.hasLowercase?"text-green-600":"text-red-600"}`,children:[h.criteria.hasLowercase?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),"One lowercase letter"]}),r.jsxs("div",{className:`flex items-center ${h.criteria.hasNumbers?"text-green-600":"text-red-600"}`,children:[h.criteria.hasNumbers?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),"One number"]}),r.jsxs("div",{className:`flex items-center ${h.criteria.hasSpecialChar?"text-green-600":"text-red-600"}`,children:[h.criteria.hasSpecialChar?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),"One special character"]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Strength:"}),r.jsx("span",{className:`text-xs font-medium ${h.strength_score<=2?"text-red-600":h.strength_score<=3?"text-yellow-600":"text-green-600"}`,children:h.strength_score<=2?"Weak":h.strength_score<=3?"Medium":"Strong"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:`h-1.5 rounded-full transition-all ${h.strength_score<=2?"bg-red-500":h.strength_score<=3?"bg-yellow-500":"bg-green-500"}`,style:{width:`${h.strength_score/5*100}%`}})})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm new password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirm_password",name:"confirm_password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:c.confirm_password,onChange:B,placeholder:"Confirm your password",className:"block w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-lg placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),r.jsx("button",{type:"button",onClick:()=>g(!w),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:w?r.jsx(ph,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):r.jsx(fh,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),c.confirm_password&&r.jsxs("div",{className:`mt-2 flex items-center text-xs ${h.matches_confirmation?"text-green-600":"text-red-600"}`,children:[h.matches_confirmation?r.jsx(ir,{className:"h-3 w-3 mr-1"}):r.jsx(ts,{className:"h-3 w-3 mr-1"}),h.matches_confirmation?"Passwords match":"Passwords do not match"]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:p.status==="resetting"||!h.requirements_met||!h.matches_confirmation,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:p.status==="resetting"?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating password..."]}):"Update password"})}),r.jsx("div",{className:"text-center",children:r.jsx(se,{to:"/signin",className:"text-blue-600 hover:text-blue-500 text-sm font-medium transition-colors",children:"Back to sign in"})})]})]})})]})})},yj=()=>{const e=ys(),{workspace_id:t}=Rt(),[s,n]=x.useState(!1),a=H(m=>m.authentication_state.current_user),i=H(m=>m.authentication_state.auth_token),l=H(m=>m.update_workspace_context),o=H(m=>m.add_toast_notification),c=fe({mutationFn:async()=>(await W.post("https://123ad-performance.launchpulse.ai/api/workspaces",{name:`${(a==null?void 0:a.name)||"Demo"} Workspace`,default_currency:"USD",timezone:"UTC",data_retention_days:730},{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}})).data,onSuccess:m=>{l({id:m.workspace.id,name:m.workspace.name,role:"owner",created_at:new Date().toISOString()}),o({type:"success",message:"Demo workspace created successfully! Exploring sample data...",auto_dismiss:!0}),e(`/w/${m.workspace.id}`)},onError:m=>{var u,v;console.error("Demo workspace creation failed:",m),o({type:"error",message:((v=(u=m.response)==null?void 0:u.data)==null?void 0:v.message)||"Failed to create demo workspace. Please try again.",auto_dismiss:!0}),n(!1)}}),d=async()=>{n(!0),c.mutate()},p=m=>{const v={tiktok:`Date,Campaign Name,Ad Group,Ad Name,Impressions,Clicks,Spend,Conversions,Revenue
2023-11-01,Black Friday Campaign,Audience 1,Video Ad 1,50000,2500,250.00,125,1250.00
2023-11-02,Black Friday Campaign,Audience 1,Video Ad 1,45000,2200,220.00,110,1100.00`,meta:`Date,Campaign Name,Ad Set Name,Ad Name,Impressions,Clicks,Amount Spent,Purchases,Purchase ROAS
2023-11-01,Holiday Sale,Interest Targeting,Carousel Ad,60000,3000,300.00,150,1500.00
2023-11-02,Holiday Sale,Interest Targeting,Carousel Ad,55000,2750,275.00,140,1400.00`,snapchat:`Date,Campaign,Ad Squad,Ad,Impressions,Swipes,Spend,Purchases,Revenue
2023-11-01,Winter Collection,Lookalike Audience,Story Ad,40000,2000,200.00,100,1000.00
2023-11-02,Winter Collection,Lookalike Audience,Story Ad,38000,1900,190.00,95,950.00`}[m],y=new Blob([v],{type:"text/csv"}),b=URL.createObjectURL(y),w=document.createElement("a");w.href=b,w.download=`sample_${m}_data.csv`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(b),o({type:"success",message:`Sample ${m.charAt(0).toUpperCase()+m.slice(1)} data downloaded!`,auto_dismiss:!0})};return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[r.jsx("div",{className:"relative overflow-hidden",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Welcome to PulseDeck,"," ",r.jsxs("span",{className:"text-blue-600",children:[(a==null?void 0:a.name)||"there","!"]})]}),r.jsx("p",{className:"mt-6 text-xl md:text-2xl text-gray-600 leading-relaxed max-w-4xl mx-auto",children:"Your unified cross-platform analytics dashboard is ready. Get insights from TikTok, Meta, and Snapchat campaigns all in one place."}),r.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unified Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Compare performance across all platforms in one dashboard"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Real-time Insights"}),r.jsx("p",{className:"text-gray-600",children:"Get automated insights and anomaly detection"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Save Time & Money"}),r.jsx("p",{className:"text-gray-600",children:"Zero-to-insights in under 60 seconds"})]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Upload Your First File"}),r.jsx("p",{className:"text-gray-600",children:"Import your campaign data and start analyzing performance"})]}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 mb-6 bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop your files here"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Supports CSV, XLSX files up to 50MB"})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Supported Platforms:"}),r.jsxs("div",{className:"flex justify-center space-x-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-black rounded-lg flex items-center justify-center mb-2",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"T"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"TikTok"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center mb-2",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"f"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"Meta"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-400 rounded-lg flex items-center justify-center mb-2",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),r.jsx("p",{className:"text-xs text-gray-600",children:"Snapchat"})]})]})]}),r.jsx(se,{to:`/w/${t||"default"}/upload`,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-xl text-center block",children:"Start Upload Process"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:r.jsxs("div",{className:"p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Load Demo Workspace"}),r.jsx("p",{className:"text-gray-600",children:"Explore PulseDeck with realistic sample data"})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"90 Days of Realistic Data"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Complete campaign performance history"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Multi-Platform Campaigns"}),r.jsx("p",{className:"text-xs text-gray-600",children:"TikTok, Meta, and Snapchat data"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Seasonal Variations"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Black Friday, holiday trends included"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mt-0.5",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ready-to-Explore Insights"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Anomalies, trends, and recommendations"})]})]})]}),r.jsx("button",{onClick:d,disabled:s,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Demo Workspace..."]}):"Load Demo Workspace"})]})})]})}),r.jsx("div",{className:"bg-white py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Getting Started in 3 Easy Steps"}),r.jsx("p",{className:"text-xl text-gray-600",children:"From zero to insights in under 60 seconds"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"1"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Upload or Demo"}),r.jsx("p",{className:"text-gray-600",children:"Choose to upload your own data or explore with our demo workspace"}),r.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"~ 30 seconds"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"2"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Review & Map"}),r.jsx("p",{className:"text-gray-600",children:"Our intelligent system maps your data columns automatically"}),r.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"~ 15 seconds"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-blue-600 text-white rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"3"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analyze & Optimize"}),r.jsx("p",{className:"text-gray-600",children:"Get instant insights, comparisons, and performance recommendations"}),r.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"~ 15 seconds"})]})]})]})}),r.jsx("div",{className:"bg-gray-50 py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Download Sample Files"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Test PulseDeck with example data from each platform"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-black rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"TikTok Sample"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Example TikTok Ads Manager export with campaign, ad group, and performance data"}),r.jsx("button",{onClick:()=>p("tiktok"),className:"bg-black text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-800 transition-colors",children:"Download CSV"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"f"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Meta Sample"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Example Facebook/Instagram Ads Manager export with complete metrics"}),r.jsx("button",{onClick:()=>p("meta"),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors",children:"Download CSV"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-400 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-white font-bold text-2xl",children:"S"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Snapchat Sample"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Example Snapchat Ads Manager export with campaign and performance data"}),r.jsx("button",{onClick:()=>p("snapchat"),className:"bg-yellow-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-yellow-600 transition-colors",children:"Download CSV"})]})]})]})}),r.jsx("div",{className:"bg-white py-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Need Help Getting Started?"}),r.jsx("p",{className:"text-xl text-gray-600",children:"We're here to support your analytics journey"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("a",{href:"#",className:"bg-gray-50 rounded-lg p-6 text-center hover:shadow-md transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Documentation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Complete guides and tutorials"})]}),r.jsxs("a",{href:"#",className:"bg-gray-50 rounded-lg p-6 text-center hover:shadow-md transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Video Tutorials"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Step-by-step video guides"})]}),r.jsxs("a",{href:"#",className:"bg-gray-50 rounded-lg p-6 text-center hover:shadow-md transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Live Chat"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Real-time support chat"})]}),r.jsxs("a",{href:"#",className:"bg-gray-50 rounded-lg p-6 text-center hover:shadow-md transition-all duration-200 hover:scale-105",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Email Support"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Get help via email"})]})]})]})})]})})},vj=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),n=H(C=>C.authentication_state.current_user),a=H(C=>C.authentication_state.auth_token),i=H(C=>C.current_workspace),l=H(C=>C.date_range_filter),o=H(C=>C.platform_filter),c=H(C=>C.update_date_range),d=H(C=>C.update_comparison_mode),p=H(C=>C.update_platform_filter),m=H(C=>C.add_toast_notification),[u,v]=x.useState(["spend","revenue","roas"]),[y,b]=x.useState(!0),[w,g]=x.useState("overview");x.useEffect(()=>{const C=t.get("date_from"),_=t.get("date_to"),S=t.get("date_preset"),q=t.get("comparison_mode"),re=t.get("platforms");if((C||_||S)&&c(C,_,S),q&&d(q),re){const F=re.split(",").filter(Boolean);p(F)}},[t,c,d,p]);const h=x.useMemo(()=>{const C=new URLSearchParams;return l.date_from&&C.append("date_from",l.date_from),l.date_to&&C.append("date_to",l.date_to),l.date_preset&&C.append("date_preset",l.date_preset),l.comparison_mode&&C.append("comparison_mode",l.comparison_mode),o.selected_platforms.length>0&&C.append("platforms",o.selected_platforms.join(",")),o.selected_accounts.length>0&&C.append("accounts",o.selected_accounts.join(",")),C.toString()},[l,o]),{data:f,isLoading:j,error:P}=ve({queryKey:["overview-metrics",e,h],queryFn:async()=>(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/metrics/overview?${h}`,{headers:{Authorization:`Bearer ${a}`}})).data,enabled:!!e&&!!a,staleTime:5*60*1e3,select:C=>({...C,spend:Number(C.spend||0),revenue:Number(C.revenue||0),roas:Number(C.roas||0),cpa:Number(C.cpa||0),ctr:Number(C.ctr||0),cpm:Number(C.cpm||0),cvr:Number(C.cvr||0),mer:Number(C.mer||0)})}),{data:D,isLoading:L}=ve({queryKey:["metrics-trends",e,h,u],queryFn:async()=>(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/metrics/trends?${h}&metrics=${u.join(",")}`,{headers:{Authorization:`Bearer ${a}`}})).data,enabled:!!e&&!!a&&u.length>0,staleTime:5*60*1e3}),{data:R}=ve({queryKey:["anomalies",e,h],queryFn:async()=>(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/anomalies?${h}&is_reviewed=false`,{headers:{Authorization:`Bearer ${a}`}})).data.data,enabled:!!e&&!!a,staleTime:2*60*1e3}),{data:Q,isLoading:B}=ve({queryKey:["platform-comparison",e,h],queryFn:async()=>(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/metrics/comparison?${h}`,{headers:{Authorization:`Bearer ${a}`}})).data,enabled:!!e&&!!a,staleTime:5*60*1e3}),$=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 7 days",value:"last_7_days"},{label:"Last 30 days",value:"last_30_days"},{label:"Last 90 days",value:"last_90_days"},{label:"Month to date",value:"mtd"},{label:"Quarter to date",value:"qtd"},{label:"Year to date",value:"ytd"}],E=[{key:"spend",label:"Spend",format:"currency",color:"blue"},{key:"revenue",label:"Revenue",format:"currency",color:"green"},{key:"roas",label:"ROAS",format:"decimal",color:"purple",suffix:"x"},{key:"cpa",label:"CPA",format:"currency",color:"orange"},{key:"ctr",label:"CTR",format:"percentage",color:"blue"},{key:"cpm",label:"CPM",format:"currency",color:"indigo"},{key:"cvr",label:"CVR",format:"percentage",color:"green"},{key:"mer",label:"MER",format:"decimal",color:"purple",suffix:"x"}],I=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C),G=C=>`${C.toFixed(2)}%`,te=(C,_)=>`${C.toFixed(2)}${_||""}`,J=(C,_,S)=>{switch(_){case"currency":return I(C);case"percentage":return G(C);case"decimal":return te(C,S);default:return C.toString()}},he=C=>{const _=new URLSearchParams(t);_.set("date_preset",C),_.delete("date_from"),_.delete("date_to"),s(_)},N=C=>{const _=new URLSearchParams(t);C===l.comparison_mode?_.delete("comparison_mode"):_.set("comparison_mode",C),s(_)},A=()=>{m({type:"info",message:"Export functionality will be available soon",auto_dismiss:!0})},U=()=>{m({type:"info",message:"Share functionality will be available soon",auto_dismiss:!0})};return j?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})})}):P?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ra,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load dashboard"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page or contact support if the issue persists."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})}):f&&f.spend===0&&f.revenue===0?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full text-center",children:[r.jsx(Pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No data available"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Upload your advertising data to start analyzing your performance across platforms."}),r.jsxs(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[r.jsx(xh,{className:"h-5 w-5 mr-2"}),"Upload Your First File"]})]})})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between py-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance Overview"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[i==null?void 0:i.name,"  ",n==null?void 0:n.name]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[r.jsx(xh,{className:"h-4 w-4 mr-2"}),"Upload Data"]}),r.jsxs("button",{onClick:A,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[r.jsx(tx,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs("button",{onClick:U,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[r.jsx(Dw,{className:"h-4 w-4 mr-2"}),"Share"]}),r.jsxs(se,{to:`/w/${e}/alerts`,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[r.jsx(ex,{className:"h-4 w-4 mr-2"}),"Alerts"]})]})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(aw,{className:"h-5 w-5 text-gray-400"}),r.jsx("select",{value:l.date_preset||"last_30_days",onChange:C=>he(C.target.value),className:"border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500",children:$.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>N("vs_previous_period"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${l.comparison_mode==="vs_previous_period"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"vs Previous Period"}),r.jsx("button",{onClick:()=>N("vs_same_period_last_year"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${l.comparison_mode==="vs_same_period_last_year"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"vs Same Period Last Year"})]})]})})}),R&&R.length>0&&r.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ra,{className:"h-5 w-5 text-yellow-600"}),r.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:[R.length," anomal",R.length===1?"y":"ies"," detected"]}),r.jsxs("div",{className:"flex space-x-2 ml-4",children:[R.slice(0,3).map(C=>r.jsxs(se,{to:`/w/${e}/alerts`,className:`px-2 py-1 rounded text-xs font-medium transition-colors ${C.severity==="critical"?"bg-red-100 text-red-700 hover:bg-red-200":C.severity==="high"?"bg-orange-100 text-orange-700 hover:bg-orange-200":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[C.metric," ",C.anomaly_type," on ",C.platform]},C.id)),R.length>3&&r.jsxs(se,{to:`/w/${e}/alerts`,className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:["+",R.length-3," more"]})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:E.map(C=>{var K;const _=(f==null?void 0:f[C.key])||0,S=`${C.key}_change`,q=((K=f==null?void 0:f.comparison)==null?void 0:K[S])||0,re=q>0,F=q<0;return r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-600",children:C.label}),l.comparison_mode&&r.jsxs("div",{className:`flex items-center space-x-1 text-xs font-medium ${re?"text-green-600":F?"text-red-600":"text-gray-500"}`,children:[re?r.jsx(Z0,{className:"h-3 w-3"}):F?r.jsx(J0,{className:"h-3 w-3"}):null,r.jsxs("span",{children:[Math.abs(q).toFixed(1),"%"]})]})]}),r.jsx("div",{className:"mb-2",children:r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:J(_,C.format,C.suffix)})}),r.jsx("div",{className:"h-8 bg-gray-50 rounded flex items-end justify-center space-x-1",children:Array.from({length:7}).map((ge,Lt)=>r.jsx("div",{className:`w-1 bg-${C.color}-400 rounded-t`,style:{height:`${Math.random()*100}%`}},Lt))})]},C.key)})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-8",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsxs("nav",{className:"flex space-x-8 px-6",children:[r.jsx("button",{onClick:()=>g("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(hh,{className:"h-4 w-4"}),r.jsx("span",{children:"Time Series"})]})}),r.jsx("button",{onClick:()=>g("platforms"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${w==="platforms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pa,{className:"h-4 w-4"}),r.jsx("span",{children:"Platform Comparison"})]})})]})}),r.jsxs("div",{className:"p-6",children:[w==="overview"&&r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select metrics to display"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(C=>r.jsx("button",{onClick:()=>{v(_=>_.includes(C.key)?_.filter(S=>S!==C.key):[..._,C.key])},className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${u.includes(C.key)?`bg-${C.color}-100 text-${C.color}-700`:"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:C.label},C.key))})]}),L?r.jsx("div",{className:"h-80 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading chart data..."})]})}):r.jsx("div",{className:"h-80 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(hh,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Interactive time series chart will be displayed here"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(D==null?void 0:D.length)||0," data points available"]})]})})]}),w==="platforms"&&r.jsx("div",{children:B?r.jsx("div",{className:"h-80 bg-gray-50 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Loading platform data..."})]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spend"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ROAS"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CTR"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaigns"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q==null?void 0:Q.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${C.platform==="facebook"?"bg-blue-500":C.platform==="tiktok"?"bg-black":C.platform==="snapchat"?"bg-yellow-500":"bg-gray-500"}`}),r.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:C.platform})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I(C.spend)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I(C.revenue)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te(C.roas,"x")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:G(C.ctr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C.campaign_count})]},C.platform))})]})})})]})]}),y&&(f==null?void 0:f.insights)&&f.insights.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Performance Insights"}),r.jsxs("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:[r.jsx("span",{className:"sr-only",children:"Close"}),""]})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:f.insights.map((C,_)=>r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${C.severity==="critical"?"bg-red-500":C.severity==="warning"?"bg-yellow-500":"bg-blue-500"}`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:C.message}),C.entity_type&&C.entity_id&&r.jsxs(se,{to:`/w/${e}/campaigns`,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:["Investigate ",C.entity_type," "]})]})]},_))})})]})]})]})})},bj=()=>{var E,I,G,te,J,he;const{workspace_id:e}=Rt(),[t,s]=gt(),n=H(N=>N.date_range_filter),a=H(N=>N.platform_filter),[i,l]=x.useState(new Set),[o,c]=x.useState(t.get("efficiency_view")==="true"),[d,p]=x.useState(t.get("sort_by")||"spend"),[m,u]=x.useState(t.get("sort_order")||"desc"),v={facebook:{name:"Meta",color:"bg-blue-600",logo:""},tiktok:{name:"TikTok",color:"bg-black",logo:""},snapchat:{name:"Snapchat",color:"bg-yellow-400",logo:""},google:{name:"Google",color:"bg-red-500",logo:""},linkedin:{name:"LinkedIn",color:"bg-blue-700",logo:""},twitter:{name:"X (Twitter)",color:"bg-gray-900",logo:""}},{data:y,isLoading:b,error:w,refetch:g}=ve({queryKey:["platform-comparison",e,n.date_from,n.date_to,a.selected_platforms.join(","),d,m,o],queryFn:async()=>{if(!e)throw new Error("Workspace ID required");const N=new URLSearchParams;return n.date_from&&N.append("date_from",n.date_from),n.date_to&&N.append("date_to",n.date_to),a.selected_platforms.length>0&&N.append("platforms",a.selected_platforms.join(",")),N.append("sort_by",d),N.append("sort_order",m),o&&N.append("efficiency_view","true"),(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/metrics/comparison?${N}`,{headers:{Authorization:`Bearer ${H.getState().authentication_state.auth_token}`}})).data},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1}),h=N=>{var A,U;return[{account_id:`${N}_acc_1`,account_name:`${(A=v[N])==null?void 0:A.name} Account 1`,spend:5e3,revenue:15e3,roas:3,cpa:25,ctr:2.5,cpm:15,cvr:1.8,impressions:333333,clicks:8333,conversions:150},{account_id:`${N}_acc_2`,account_name:`${(U=v[N])==null?void 0:U.name} Account 2`,spend:3e3,revenue:9e3,roas:3,cpa:20,ctr:3,cpm:12,cvr:2,impressions:25e4,clicks:7500,conversions:150}]},f=x.useMemo(()=>{if(!(y!=null&&y.length))return null;const N=[...y].sort((U,C)=>C.roas-U.roas),A=[...y].sort((U,C)=>C.spend-U.spend);return{topPerformer:N[0],bottomPerformer:N[N.length-1],highestSpend:A[0],totalSpend:y.reduce((U,C)=>U+C.spend,0),avgRoas:y.reduce((U,C)=>U+C.roas,0)/y.length}},[y]),j=N=>{const A=d===N&&m==="desc"?"asc":"desc";p(N),u(A);const U=new URLSearchParams(t);U.set("sort_by",N),U.set("sort_order",A),s(U)},P=()=>{const N=!o;c(N);const A=new URLSearchParams(t);N?A.set("efficiency_view","true"):A.delete("efficiency_view"),s(A)},D=N=>{const A=new Set(i);A.has(N)?A.delete(N):A.add(N),l(A)},L=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(N),R=(N,A=2)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:A,maximumFractionDigits:A}).format(N),Q=N=>`${R(N,2)}%`,B=N=>f?N===f.topPerformer.platform?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(Uw,{className:"w-3 h-3 mr-1"}),"Top Performer"]}):N===f.bottomPerformer.platform?r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[r.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Needs Attention"]}):null:null,$=()=>{if(!y)return;const A=[["Platform","Spend","Revenue","ROAS","CPA","CTR","CPM","CVR","Impressions","Clicks","Conversions"].join(","),...y.map(S=>{var q;return[((q=v[S.platform])==null?void 0:q.name)||S.platform,S.spend,S.revenue,S.roas,S.cpa,S.ctr,S.cpm,S.cvr,S.impressions,S.clicks,S.conversions].join(",")})].join(`
`),U=new Blob([A],{type:"text/csv"}),C=window.URL.createObjectURL(U),_=document.createElement("a");_.href=C,_.download=`platform-comparison-${new Date().toISOString().split("T")[0]}.csv`,_.click(),window.URL.revokeObjectURL(C)};return b?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>r.jsx("div",{className:"h-20 bg-gray-200 rounded"},N))})]})})})}):w?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsx("div",{className:"max-w-7xl mx-auto",children:r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx(Ra,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Platform Comparison"}),r.jsx("p",{className:"text-red-700 mb-4",children:w instanceof Error?w.message:"An unexpected error occurred"}),r.jsx("button",{onClick:()=>g(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})})})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Channel Performance Comparison"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Compare performance across advertising platforms to optimize budget allocation"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:$,className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[r.jsx(tx,{className:"w-5 h-5 mr-2"}),"Export CSV"]}),r.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(lw,{className:"w-5 h-5 mr-2"}),"Export Chart"]})]})]})}),f&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Top Performer"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:(E=v[f.topPerformer.platform])==null?void 0:E.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[R(f.topPerformer.roas,2),"x ROAS"]})]}),r.jsx("div",{className:"text-4xl",children:(I=v[f.topPerformer.platform])==null?void 0:I.logo})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Spend"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(f.totalSpend)}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Across ",(y==null?void 0:y.length)||0," platforms"]})]}),r.jsx(Pa,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Average ROAS"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[R(f.avgRoas,2),"x"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Portfolio performance"})]}),r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold",children:""})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:o,onChange:P,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Efficiency View (per 1K impressions)"})]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Pw,{className:"w-4 h-4 mr-1"}),"Normalize metrics for fair comparison across spending levels"]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),["spend","revenue","roas","cpa","ctr","cpm","cvr"].map(N=>r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>j(N),children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:N.toUpperCase()}),d===N?m==="desc"?r.jsx(J0,{className:"w-4 h-4"}):r.jsx(Z0,{className:"w-4 h-4"}):r.jsx(ew,{className:"w-4 h-4 opacity-50"})]})},N)),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y==null?void 0:y.map(N=>{var A,U,C;return r.jsxs(Ur.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>D(N.platform),className:"mr-3 p-1 hover:bg-gray-200 rounded transition-colors",children:i.has(N.platform)?r.jsx(gw,{className:"w-4 h-4 text-gray-500"}):r.jsx(uw,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${((A=v[N.platform])==null?void 0:A.color)||"bg-gray-500"} flex items-center justify-center text-white text-xl mr-3`,children:((U=v[N.platform])==null?void 0:U.logo)||""}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:((C=v[N.platform])==null?void 0:C.name)||N.platform}),r.jsxs("div",{className:"text-sm text-gray-500",children:[N.account_count," accounts  ",N.campaign_count," campaigns"]})]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(o?N.spend/N.impressions*1e3:N.spend)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(o?N.revenue/N.impressions*1e3:N.revenue)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("span",{className:N.roas>=2?"text-green-600":N.roas>=1.5?"text-yellow-600":"text-red-600",children:[R(N.roas,2),"x"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(o?N.cpa/N.impressions*1e3:N.cpa)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Q(N.ctr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:L(N.cpm)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Q(N.cvr)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(N.platform)})]}),i.has(N.platform)&&r.jsx(r.Fragment,{children:h(N.platform).map(_=>r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:r.jsxs("div",{className:"ml-12 flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mr-3"}),r.jsx("div",{className:"text-sm text-gray-700",children:_.account_name})]})}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:L(_.spend)}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:L(_.revenue)}),r.jsxs("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:[R(_.roas,2),"x"]}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:L(_.cpa)}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:Q(_.ctr)}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:L(_.cpm)}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:Q(_.cvr)}),r.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:r.jsx(se,{to:`/w/${e}/campaigns?accounts=${_.account_id}`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View Campaigns "})})]},_.account_id))})]},N.platform)})})]})})}),f&&r.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Budget Allocation Insights"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Recommendations"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Increase budget"})," for ",(G=v[f.topPerformer.platform])==null?void 0:G.name,"(ROAS: ",R(f.topPerformer.roas,2),"x)"]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Review and optimize"})," ",(te=v[f.bottomPerformer.platform])==null?void 0:te.name,"campaigns (ROAS: ",R(f.bottomPerformer.roas,2),"x)"]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-gray-700",children:[r.jsx("strong",{children:"Maintain current allocation"})," for platforms performing above ",R(f.avgRoas,2),"x ROAS"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(se,{to:`/w/${e}/campaigns?platforms=${f.topPerformer.platform}`,className:"block w-full text-left px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors text-sm",children:["Analyze ",(J=v[f.topPerformer.platform])==null?void 0:J.name," top campaigns"]}),r.jsxs(se,{to:`/w/${e}/campaigns?platforms=${f.bottomPerformer.platform}`,className:"block w-full text-left px-4 py-2 bg-yellow-50 text-yellow-700 rounded-lg hover:bg-yellow-100 transition-colors text-sm",children:["Troubleshoot ",(he=v[f.bottomPerformer.platform])==null?void 0:he.name," performance"]}),r.jsx(se,{to:`/w/${e}/alerts`,className:"block w-full text-left px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"Set up performance alerts"})]})]})]})]}),!(y!=null&&y.length)&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center border border-gray-100",children:[r.jsx(Pa,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Platform Data Available"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Upload advertising data from multiple platforms to see performance comparisons and insights."}),r.jsx(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Data"})]})]})})})},bh=()=>{var F,K,ge,Lt,vs,rr,nr,O;const{workspace_id:e,campaign_id:t}=Rt(),[s,n]=gt(),a=sr(),i=H(M=>M.authentication_state.auth_token),l=H(M=>M.platform_filter),o=H(M=>M.add_toast_notification),[c,d]=x.useState(s.get("search_query")||""),[p,m]=x.useState(new Set),[u,v]=x.useState(new Set),[y,b]=x.useState(!1),w=parseInt(s.get("page")||"1"),g=parseInt(s.get("per_page")||"50"),h=s.get("sort_by")||"spend",f=s.get("sort_order")||"desc",j=s.get("status_filter")||"",P=s.get("platforms")||"",D=s.get("accounts")||"",L=P?P.split(","):l.selected_platforms,R=D?D.split(","):l.selected_accounts,Q=async()=>{if(!e||!i)throw new Error("Missing workspace or auth token");const M=new URLSearchParams({page:w.toString(),per_page:g.toString(),sort_by:h,sort_order:f});return c&&M.append("search_query",c),j&&M.append("status_filter",j),L.length>0&&M.append("platforms",L.join(",")),R.length>0&&M.append("accounts",R.join(",")),(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/campaigns?${M}`,{headers:{Authorization:`Bearer ${i}`}})).data},B=async M=>{if(!e||!i)throw new Error("Missing workspace or auth token");return(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/campaigns/${M}`,{headers:{Authorization:`Bearer ${i}`}})).data},$=ve({queryKey:["campaigns",e,w,g,h,f,c,j,L,R],queryFn:Q,enabled:!!e&&!!i&&!t,staleTime:3e4,refetchOnWindowFocus:!1}),E=ve({queryKey:["campaign-details",e,t],queryFn:()=>B(t),enabled:!!e&&!!i&&!!t,staleTime:3e4,refetchOnWindowFocus:!1}),I=x.useCallback(M=>{const ne=new URLSearchParams(s);Object.entries(M).forEach(([me,dt])=>{dt===null||dt===""?ne.delete(me):ne.set(me,dt)}),n(ne)},[s,n]),G=x.useCallback(M=>{d(M),I({search_query:M,page:"1"})},[I]),te=x.useCallback(M=>{I({sort_by:M,sort_order:h===M&&f==="desc"?"asc":"desc",page:"1"})},[h,f,I]),J=x.useCallback(M=>{I({page:M.toString()})},[I]),he=x.useCallback(M=>{m(ne=>{const me=new Set(ne);return me.has(M)?me.delete(M):me.add(M),me})},[]),N=x.useCallback(M=>{v(ne=>{const me=new Set(ne);return me.has(M)?me.delete(M):me.add(M),me})},[]),A=x.useCallback(()=>{if(!$.data)return;const M=$.data.data.map(me=>me.id),ne=M.every(me=>u.has(me));v(ne?new Set:new Set(M))},[$.data,u]),U=fe({mutationFn:async({campaignIds:M,status:ne})=>{const me=M.map(dt=>W.put(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/campaigns/${dt}`,{status:ne},{headers:{Authorization:`Bearer ${i}`}}));return Promise.all(me)},onSuccess:()=>{a.invalidateQueries({queryKey:["campaigns",e]}),o({type:"success",message:"Campaigns updated successfully",auto_dismiss:!0}),v(new Set)},onError:()=>{o({type:"error",message:"Failed to update campaigns",auto_dismiss:!0})}}),C=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),_=M=>`${M.toFixed(2)}%`,S=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},q=(M,ne)=>M>ne?r.jsx(oj,{className:"w-4 h-4 text-green-500"}):M<ne?r.jsx(lj,{className:"w-4 h-4 text-red-500"}):r.jsx(sj,{className:"w-4 h-4 text-gray-400"}),re=({campaign:M,level:ne})=>{const me=p.has(M.id),dt=u.has(M.id);return r.jsx(r.Fragment,{children:r.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 ${dt?"bg-blue-50":""}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${ne*20}px`},children:[r.jsx("input",{type:"checkbox",checked:dt,onChange:()=>N(M.id),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),r.jsx("button",{onClick:()=>he(M.id),className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:me?r.jsx(Kw,{className:"w-4 h-4"}):r.jsx(xo,{className:"w-4 h-4"})}),r.jsxs("div",{className:"ml-2",children:[r.jsx("div",{className:"font-medium text-gray-900",children:M.campaign_name||`Campaign ${M.campaign_id}`}),r.jsxs("div",{className:"text-gray-500 text-xs",children:["ID: ",M.campaign_id]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S(M.status)}`,children:M.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C(M.metrics.spend)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.metrics.impressions.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.metrics.clicks.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:M.metrics.conversions.toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C(M.metrics.revenue)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[_(M.metrics.ctr),q(M.metrics.ctr,2.5)]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:C(M.metrics.cpm)}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[M.metrics.roas.toFixed(2),"x"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:r.jsx(Gw,{className:"w-5 h-5"})})})]})})};return t?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsx("div",{className:"flex items-center",children:r.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:r.jsxs("ol",{className:"flex items-center space-x-4",children:[r.jsx("li",{children:r.jsx(se,{to:`/w/${e}`,className:"text-gray-400 hover:text-gray-500",children:"Overview"})}),r.jsx("li",{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xo,{className:"flex-shrink-0 h-5 w-5 text-gray-400"}),r.jsx(se,{to:`/w/${e}/campaigns`,className:"ml-4 text-gray-400 hover:text-gray-500",children:"Campaigns"})]})}),r.jsx("li",{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xo,{className:"flex-shrink-0 h-5 w-5 text-gray-400"}),r.jsx("span",{className:"ml-4 text-gray-900 font-medium",children:((K=(F=E.data)==null?void 0:F.campaign)==null?void 0:K.campaign_name)||"Campaign Details"})]})})]})})})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:E.isLoading?r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded"})]}):E.error?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load campaign details"}),r.jsx("button",{onClick:()=>E.refetch(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Try Again"})]}):r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:((Lt=(ge=E.data)==null?void 0:ge.campaign)==null?void 0:Lt.campaign_name)||"Campaign Details"}),r.jsx("p",{className:"text-gray-600",children:"Campaign details view would be implemented here with ad sets and ads hierarchy."})]})})]})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaigns"}),r.jsxs("span",{className:"ml-3 text-sm text-gray-500",children:[((vs=$.data)==null?void 0:vs.pagination.total)||0," campaigns"]})]}),r.jsx("div",{className:"flex items-center space-x-4",children:u.size>0&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-sm text-gray-700",children:[u.size," selected"]}),r.jsxs("button",{onClick:()=>U.mutate({campaignIds:Array.from(u),status:"active"}),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(nj,{className:"w-4 h-4 mr-1"}),"Activate"]}),r.jsxs("button",{onClick:()=>U.mutate({campaignIds:Array.from(u),status:"paused"}),className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(rj,{className:"w-4 h-4 mr-1"}),"Pause"]}),r.jsxs("button",{className:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(qc,{className:"w-4 h-4 mr-1"}),"Export"]})]})})]})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[r.jsxs("div",{className:"relative flex-1 max-w-lg",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(rx,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",value:c,onChange:M=>G(M.target.value),placeholder:"Search campaigns, IDs, creative names...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("button",{onClick:()=>b(!y),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(Zw,{className:"w-4 h-4 mr-2"}),"Filters",(j||L.length>0||R.length>0)&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[j,...L,...R].filter(Boolean).length})]})]})}),y&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:j,onChange:M=>I({status_filter:M.target.value,page:"1"}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"paused",children:"Paused"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platforms"}),r.jsx("div",{className:"space-y-2",children:["facebook","tiktok","snapchat","google"].map(M=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:L.includes(M),onChange:ne=>{const me=ne.target.checked?[...L,M]:L.filter(dt=>dt!==M);I({platforms:me.join(","),page:"1"})},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:M})]},M))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"number",placeholder:"Min ROAS",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),r.jsx("input",{type:"number",placeholder:"Min Spend",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{n(new URLSearchParams),d("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Clear All"}),r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Apply Filters"})]})]})]})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:$.isLoading?r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"animate-pulse p-6",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-3",children:[...Array(10)].map((M,ne)=>r.jsx("div",{className:"h-12 bg-gray-200 rounded"},ne))})]})}):$.error?r.jsxs("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[r.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load campaigns"}),r.jsx("button",{onClick:()=>$.refetch(),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Try Again"})]}):(rr=$.data)!=null&&rr.data.length?r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[r.jsx("input",{type:"checkbox",checked:((nr=$.data)==null?void 0:nr.data.length)>0&&$.data.data.every(M=>u.has(M.id)),onChange:A,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"ml-2",children:"Campaign"})]}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("spend"),children:r.jsxs("div",{className:"flex items-center",children:["Spend",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("impressions"),children:r.jsxs("div",{className:"flex items-center",children:["Impressions",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("clicks"),children:r.jsxs("div",{className:"flex items-center",children:["Clicks",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("conversions"),children:r.jsxs("div",{className:"flex items-center",children:["Conversions",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("revenue"),children:r.jsxs("div",{className:"flex items-center",children:["Revenue",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("ctr"),children:r.jsxs("div",{className:"flex items-center",children:["CTR",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("cpm"),children:r.jsxs("div",{className:"flex items-center",children:["CPM",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700",onClick:()=>te("roas"),children:r.jsxs("div",{className:"flex items-center",children:["ROAS",r.jsx(ws,{className:"ml-1 w-3 h-3"})]})}),r.jsx("th",{className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(O=$.data)==null?void 0:O.data.map(M=>r.jsx(re,{campaign:M,level:0},M.id))})]})}),$.data&&$.data.pagination.total_pages>1&&r.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>J(w-1),disabled:w===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),r.jsx("button",{onClick:()=>J(w+1),disabled:w===$.data.pagination.total_pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",r.jsx("span",{className:"font-medium",children:(w-1)*g+1})," ","to"," ",r.jsx("span",{className:"font-medium",children:Math.min(w*g,$.data.pagination.total)})," ","of"," ",r.jsx("span",{className:"font-medium",children:$.data.pagination.total})," ","results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>J(w-1),disabled:w===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(Math.min(5,$.data.pagination.total_pages))].map((M,ne)=>{const me=w-2+ne;return me<1||me>$.data.pagination.total_pages?null:r.jsx("button",{onClick:()=>J(me),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${me===w?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:me},me)}),r.jsx("button",{onClick:()=>J(w+1),disabled:w===$.data.pagination.total_pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}):r.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[r.jsx("div",{className:"text-gray-500 mb-4",children:"No campaigns found"}),r.jsxs(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[r.jsx(aj,{className:"w-4 h-4 mr-2"}),"Upload Campaign Data"]})]})})]})})},wj=async(e,t,s)=>{const n=new URLSearchParams;return Object.entries(t).forEach(([i,l])=>{l!=null&&l!==""&&n.append(i,l.toString())}),(await W.get(`https://123ad-performance.launchpulse.ai/api/workspaces/${e}/creatives?${n}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},hi=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),go=e=>e===null?"N/A":`${e.toFixed(2)}%`,yo=e=>new Intl.NumberFormat("en-US").format(e),wh=e=>e===null?"text-gray-500":e>=3?"text-green-600":e>=2?"text-yellow-600":"text-red-600",pi=e=>{const t=e.avg_roas||0;return t>=3?"winner":t<1.5?"loser":"average"},jj=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),[n,a]=x.useState(null),[i,l]=x.useState(!1),[o,c]=x.useState(""),d=H(E=>E.authentication_state.auth_token),p=H(E=>E.date_range_filter),m=H(E=>E.platform_filter),u=t.get("performance_filter")||"all",v=t.get("sort_by")||"total_spend",y=t.get("sort_order")||"desc",b=t.get("platforms")||"",w=t.get("creative_tags")||"",g=x.useMemo(()=>({performance_filter:u,sort_by:v,sort_order:y,platforms:b||m.selected_platforms.join(","),creative_tags:w,date_from:t.get("date_from")||p.date_from||void 0,date_to:t.get("date_to")||p.date_to||void 0,query:o,limit:50,offset:0}),[u,v,y,b,w,m.selected_platforms,p.date_from,p.date_to,o,t]),{data:h,isLoading:f,error:j,refetch:P}=ve({queryKey:["creatives",e,g],queryFn:()=>wj(e,g,d),enabled:!!(e&&d),staleTime:6e4,refetchOnWindowFocus:!1}),D=(E,I)=>{const G=new URLSearchParams(t);I?G.set(E,I):G.delete(E),s(G)},L=E=>{D("performance_filter",E==="all"?"":E)},R=E=>{a(E),l(!0)},Q=()=>{a(null),l(!1)},B=x.useMemo(()=>h!=null&&h.data?u==="all"?h.data:h.data.filter(E=>{const I=pi(E);return u==="winners"?I==="winner":I==="loser"}):[],[h==null?void 0:h.data,u]),$=x.useMemo(()=>{if(!(h!=null&&h.data))return{winners:0,losers:0,total:0};const E=h.data.filter(G=>pi(G)==="winner").length,I=h.data.filter(G=>pi(G)==="loser").length;return{winners:E,losers:I,total:h.data.length}},[h==null?void 0:h.data]);return e?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Creative Performance"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Analyze and optimize your creative assets across all campaigns"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(se,{to:`/w/${e}/campaigns`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"View Campaigns"})})]})})})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex space-x-8",children:[r.jsxs("button",{onClick:()=>L("all"),className:`pb-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["All Creatives (",$.total,")"]}),r.jsxs("button",{onClick:()=>L("winners"),className:`pb-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="winners"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Top Performers (",$.winners,")"]}),r.jsxs("button",{onClick:()=>L("losers"),className:`pb-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="losers"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Bottom Performers (",$.losers,")"]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"relative",children:r.jsx("input",{type:"text",placeholder:"Search creatives...",value:o,onChange:E=>c(E.target.value),className:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),r.jsxs("select",{value:`${v}-${y}`,onChange:E=>{const[I,G]=E.target.value.split("-");D("sort_by",I),D("sort_order",G)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"total_spend-desc",children:"Spend (High to Low)"}),r.jsx("option",{value:"total_spend-asc",children:"Spend (Low to High)"}),r.jsx("option",{value:"avg_roas-desc",children:"ROAS (High to Low)"}),r.jsx("option",{value:"avg_roas-asc",children:"ROAS (Low to High)"}),r.jsx("option",{value:"campaign_count-desc",children:"Campaigns (Most)"}),r.jsx("option",{value:"campaign_count-asc",children:"Campaigns (Least)"}),r.jsx("option",{value:"last_seen_date-desc",children:"Recently Used"}),r.jsx("option",{value:"creative_name-asc",children:"Name (A-Z)"})]})]})]})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f?r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading creatives..."})]}):j?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-8 text-center",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error loading creatives"}),r.jsx("p",{className:"text-red-600 mb-4",children:j instanceof Error?j.message:"Failed to load creative performance data"}),r.jsx("button",{onClick:()=>P(),className:"inline-flex items-center px-4 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-lg text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:"Try Again"})]}):B.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No creatives found"}),r.jsx("p",{className:"text-gray-500 mb-6",children:u==="all"?"Upload some campaign data to start analyzing creative performance.":`No ${u} found with the current filters.`}),u==="all"&&r.jsx(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"Upload Campaign Data"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:B.map(E=>{const I=pi(E),G=wh(E.avg_roas);return r.jsxs("div",{onClick:()=>R(E),className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-200 cursor-pointer group",children:[r.jsxs("div",{className:"relative h-48 bg-gray-100",children:[E.creative_thumb_url?r.jsx("img",{src:E.creative_thumb_url,alt:E.creative_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("svg",{className:"h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("div",{className:"absolute top-3 right-3",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I==="winner"?"bg-green-100 text-green-800":I==="loser"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:I==="winner"?"Winner":I==="loser"?"Loser":"Average"})}),E.ad_format&&r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E.ad_format.replace("_"," ")})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2 truncate",title:E.creative_name,children:E.creative_name}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:E.platforms.map(te=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:te.charAt(0).toUpperCase()+te.slice(1)},te))}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Spend"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:hi(E.total_spend)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"ROAS"}),r.jsx("span",{className:`text-sm font-medium ${G}`,children:E.avg_roas?`${E.avg_roas.toFixed(2)}x`:"N/A"})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"CTR"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:go(E.avg_ctr)})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Campaigns"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:E.campaign_count})]})]}),E.creative_tags&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:E.creative_tags.split(",").slice(0,2).map((te,J)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-50 text-blue-700",children:te.trim()},J))})})]})]},E.id)})})}),i&&n&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Creative Details"}),r.jsx("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Creative Preview"}),r.jsx("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center mb-4",children:n.creative_thumb_url?r.jsx("img",{src:n.creative_thumb_url,alt:n.creative_name,className:"max-h-full max-w-full object-contain rounded-lg"}):r.jsxs("div",{className:"text-center",children:[r.jsx("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),r.jsx("p",{className:"text-gray-500",children:"No preview available"})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),r.jsx("p",{className:"text-gray-900",children:n.creative_name})]}),n.ad_format&&r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Format:"}),r.jsx("p",{className:"text-gray-900",children:n.ad_format.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Platforms:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.platforms.map(E=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-700",children:E.charAt(0).toUpperCase()+E.slice(1)},E))})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Performance Metrics"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Spend"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:hi(n.total_spend)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Revenue"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:hi(n.total_revenue)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"ROAS"}),r.jsx("p",{className:`text-xl font-semibold ${wh(n.avg_roas)}`,children:n.avg_roas?`${n.avg_roas.toFixed(2)}x`:"N/A"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"CPA"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:n.avg_cpa?hi(n.avg_cpa):"N/A"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"CTR"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:go(n.avg_ctr)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Campaigns"}),r.jsx("p",{className:"text-xl font-semibold text-gray-900",children:n.campaign_count})]})]}),r.jsxs("div",{className:"mt-6 space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Impressions:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:yo(n.total_impressions)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Clicks:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:yo(n.total_clicks)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Conversions:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:yo(n.total_conversions)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"CVR:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:go(n.avg_cvr)})]})]})]})]}),r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Campaign Usage"}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[r.jsxs("p",{className:"text-blue-800",children:["This creative is being used in ",r.jsx("strong",{children:n.campaign_count})," campaigns from ",r.jsx("strong",{children:new Date(n.first_seen_date).toLocaleDateString()})," to ",r.jsx("strong",{children:new Date(n.last_seen_date).toLocaleDateString()})]}),r.jsxs(se,{to:`/w/${e}/campaigns?creative_filter=${n.id}`,className:"inline-flex items-center mt-3 text-sm font-medium text-blue-600 hover:text-blue-500",children:["View campaigns using this creative",r.jsx("svg",{className:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),n.creative_tags&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.creative_tags.split(",").map((E,I)=>r.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:E.trim()},I))})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex justify-end space-x-3 border-t border-gray-200",children:[r.jsx("button",{onClick:Q,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Close"}),r.jsx(se,{to:`/w/${e}/campaigns?creative_filter=${n.id}`,className:"px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"View Campaigns"})]})]})})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Workspace not found"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Please select a valid workspace."})]})})})},Nj=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),n=sr(),a=H(E=>E.authentication_state.auth_token),i=H(E=>E.upload_state),[l,o]=x.useState(null),[c,d]=x.useState(!1),p={status_filter:t.get("status_filter"),platform_filter:t.get("platform_filter"),search_query:t.get("search_query")},m=parseInt(t.get("page")||"1"),u=10,v=()=>"https://123ad-performance.launchpulse.ai",{data:y,isLoading:b,error:w,refetch:g}=ve({queryKey:["upload_history",e,p,m],queryFn:async()=>{const E=new URLSearchParams;return p.status_filter&&E.append("status_filter",p.status_filter),p.platform_filter&&E.append("platform_filter",p.platform_filter),p.search_query&&E.append("search_query",p.search_query),E.append("page",m.toString()),E.append("limit",u.toString()),(await W.get(`${v()}/api/workspaces/${e}/uploads?${E.toString()}`,{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!e&&!!a,staleTime:3e4,refetchInterval:5e3}),h=fe({mutationFn:async E=>{await W.delete(`${v()}/api/workspaces/${e}/uploads/${E}`,{headers:{Authorization:`Bearer ${a}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["upload_history"]}),o(null),d(!1)}}),f=fe({mutationFn:async E=>{await W.post(`${v()}/api/workspaces/${e}/uploads/${E}/reprocess`,{},{headers:{Authorization:`Bearer ${a}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["upload_history"]})}}),j=(E,I)=>{const G=new URLSearchParams(t);I?G.set(E,I):G.delete(E),G.delete("page"),s(G)},P=E=>{const I=new URLSearchParams(t);I.set("page",E.toString()),s(I)},D=({status:E,progress:I})=>{const te=(J=>{switch(J){case"queued":return{color:"bg-gray-100 text-gray-800",label:"Queued"};case"processing":return{color:"bg-blue-100 text-blue-800",label:"Processing"};case"completed":return{color:"bg-green-100 text-green-800",label:"Completed"};case"failed":return{color:"bg-red-100 text-red-800",label:"Failed"};default:return{color:"bg-gray-100 text-gray-800",label:J}}})(E);return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${te.color}`,children:te.label}),E==="processing"&&I!==void 0&&r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${I}%`}})})]})},L=E=>{if(E===0)return"0 Bytes";const I=1024,G=["Bytes","KB","MB","GB"],te=Math.floor(Math.log(E)/Math.log(I));return parseFloat((E/Math.pow(I,te)).toFixed(2))+" "+G[te]},R=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Q=E=>{window.open(E,"_blank")},$=(()=>{if(!(y!=null&&y.data.length))return null;const E=y.data.length,I=y.data.filter(he=>he.status==="completed").length,G=y.data.filter(he=>he.status==="failed").length,te=y.data.filter(he=>he.status==="processing").length,J=E>0?I/E*100:0;return{total:E,completed:I,failed:G,processing:te,successRate:Math.round(J)}})();return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Management"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your data uploads and track processing status"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(se,{to:`/w/${e}/upload`,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Upload New File"})})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[$&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Uploads"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.total})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.completed})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:r.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$.failed})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[$.successRate,"%"]})]})]})})]}),i.active_uploads.length>0&&r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 mb-8 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Uploads"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:i.active_uploads.map(E=>r.jsx("div",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.filename}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:E.platform})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(D,{status:E.status,progress:E.progress}),r.jsxs("span",{className:"text-sm text-gray-500",children:[E.progress,"%"]})]})]})},E.id))})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 mb-8 p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Files"}),r.jsx("input",{type:"text",placeholder:"Search by filename...",value:p.search_query||"",onChange:E=>j("search_query",E.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:p.status_filter||"",onChange:E=>j("status_filter",E.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"queued",children:"Queued"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"failed",children:"Failed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),r.jsxs("select",{value:p.platform_filter||"",onChange:E=>j("platform_filter",E.target.value||null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Platforms"}),r.jsx("option",{value:"facebook",children:"Facebook"}),r.jsx("option",{value:"tiktok",children:"TikTok"}),r.jsx("option",{value:"snapchat",children:"Snapchat"}),r.jsx("option",{value:"google",children:"Google"}),r.jsx("option",{value:"linkedin",children:"LinkedIn"}),r.jsx("option",{value:"twitter",children:"Twitter"})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload History"})}),b?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading uploads..."})]}):w?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-red-600 mb-2",children:r.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("p",{className:"text-sm text-gray-500",children:"Failed to load uploads"}),r.jsx("button",{onClick:()=>g(),className:"mt-2 text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Try again"})]}):y!=null&&y.data.length?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.data.map(E=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.original_filename}),r.jsx("p",{className:"text-sm text-gray-500",children:L(E.file_size)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"capitalize text-sm text-gray-900",children:E.platform})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(D,{status:E.status,progress:E.progress})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.rows_total>0?r.jsxs("div",{children:[r.jsxs("p",{children:[E.rows_processed.toLocaleString()," / ",E.rows_total.toLocaleString()," rows"]}),E.rows_error>0&&r.jsxs("p",{className:"text-red-600 text-xs",children:[E.rows_error.toLocaleString()," errors"]})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R(E.created_at)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[E.status==="failed"&&r.jsx("button",{onClick:()=>f.mutate(E.id),disabled:f.isPending,className:"text-blue-600 hover:text-blue-500 disabled:opacity-50",title:"Reprocess Upload",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),E.error_log_url&&r.jsx("button",{onClick:()=>Q(E.error_log_url),className:"text-orange-600 hover:text-orange-500",title:"Download Error Log",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("button",{onClick:()=>{o(E),d(!0)},className:"text-red-600 hover:text-red-500",title:"Delete Upload",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},E.id))})]})}),y.pagination.total_pages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(m-1)*u+1," to ",Math.min(m*u,y.pagination.total)," of ",y.pagination.total," uploads"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>P(m-1),disabled:m<=1,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),Array.from({length:Math.min(5,y.pagination.total_pages)},(E,I)=>{const G=I+1;return r.jsx("button",{onClick:()=>P(G),className:`px-3 py-1 border rounded-md text-sm ${G===m?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:G},G)}),r.jsx("button",{onClick:()=>P(m+1),disabled:m>=y.pagination.total_pages,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}):r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"text-gray-400 mb-4",children:r.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No uploads found"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:Object.values(p).some(Boolean)?"No uploads match your current filters":"Get started by uploading your first file"}),r.jsx(se,{to:`/w/${e}/upload`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Upload File"})]})]})]}),c&&l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delete Upload"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:['Are you sure you want to delete "',l.original_filename,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{d(!1),o(null)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>h.mutate(l.id),disabled:h.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:h.isPending?"Deleting...":"Delete"})]})]})})]})})},kj=()=>{const{workspace_id:e}=Rt(),[t]=gt(),s=ys(),n=sr(),a=t.get("upload_id"),i=H(N=>N.authentication_state.auth_token),l=H(N=>N.current_workspace),o=H(N=>N.add_toast_notification),[c,d]=x.useState([]),[p,m]=x.useState([]),[u,v]=x.useState({}),[y,b]=x.useState({is_valid:!1,missing_required_fields:[],type_mismatches:[],warnings:[]}),[w,g]=x.useState({is_saving:!1,template_name:"",is_default:!1,is_shared:!1}),[h,f]=x.useState(""),[j,P]=x.useState(!1),D="https://123ad-performance.launchpulse.ai";x.useEffect(()=>{(!a||!e)&&s(`/w/${e}/uploads`)},[a,e,s]),x.useEffect(()=>{m([{field_name:"date",field_type:"string",required:!0,description:"Date in YYYY-MM-DD format"},{field_name:"spend",field_type:"number",required:!1,description:"Total spend amount"},{field_name:"impressions",field_type:"number",required:!1,description:"Number of impressions"},{field_name:"clicks",field_type:"number",required:!1,description:"Number of clicks"},{field_name:"conversions",field_type:"number",required:!1,description:"Number of conversions"},{field_name:"revenue",field_type:"number",required:!1,description:"Revenue generated"},{field_name:"campaign_id",field_type:"string",required:!1,description:"Campaign identifier"},{field_name:"adset_id",field_type:"string",required:!1,description:"Ad set identifier"},{field_name:"ad_id",field_type:"string",required:!1,description:"Ad identifier"},{field_name:"ctr",field_type:"number",required:!1,description:"Click-through rate"},{field_name:"cpm",field_type:"number",required:!1,description:"Cost per mille"},{field_name:"cpc",field_type:"number",required:!1,description:"Cost per click"},{field_name:"cpa",field_type:"number",required:!1,description:"Cost per acquisition"},{field_name:"cvr",field_type:"number",required:!1,description:"Conversion rate"},{field_name:"roas",field_type:"number",required:!1,description:"Return on ad spend"}])},[]);const{data:L,isLoading:R}=ve({queryKey:["upload",e,a],queryFn:async()=>(await W.get(`${D}/api/workspaces/${e}/uploads/${a}`,{headers:{Authorization:`Bearer ${i}`}})).data,enabled:!!(i&&e&&a),staleTime:6e4,retry:1}),{data:Q=[],isLoading:B}=ve({queryKey:["mapping-templates",e,L==null?void 0:L.platform],queryFn:async()=>{const N=await W.get(`${D}/api/workspaces/${e}/mapping-templates`,{headers:{Authorization:`Bearer ${i}`},params:{platform:L==null?void 0:L.platform}});return N.data.data||N.data},enabled:!!(i&&e&&(L!=null&&L.platform)),staleTime:3e5,retry:1});x.useEffect(()=>{L&&(d([{column_name:"Date",data_type:"string",sample_values:["2023-12-01","2023-12-02","2023-12-03"],confidence_score:.95},{column_name:"Campaign Name",data_type:"string",sample_values:["Black Friday Sale","Holiday Promo","Winter Collection"],confidence_score:.8},{column_name:"Amount Spent",data_type:"number",sample_values:["150.25","230.50","89.75"],confidence_score:.9},{column_name:"Impressions",data_type:"number",sample_values:["12543","18392","9876"],confidence_score:.95},{column_name:"Clicks",data_type:"number",sample_values:["234","456","178"],confidence_score:.9},{column_name:"Purchases",data_type:"number",sample_values:["12","23","8"],confidence_score:.85},{column_name:"Revenue",data_type:"number",sample_values:["450.00","890.50","234.75"],confidence_score:.88}]),v({Date:"date","Amount Spent":"spend",Impressions:"impressions",Clicks:"clicks",Purchases:"conversions",Revenue:"revenue"}))},[L]);const $=x.useCallback(()=>{const N=p.filter(q=>q.required).map(q=>q.field_name),A=Object.values(u),U=N.filter(q=>!A.includes(q)),C=Object.entries(u).map(([q,re])=>{const F=c.find(ge=>ge.column_name===q),K=p.find(ge=>ge.field_name===re);return F&&K&&!(K.field_type==="string"||K.field_type==="number"&&F.data_type==="number")?{column:q,expected_type:K.field_type,detected_type:F.data_type}:null}).filter(Boolean),_=[];A.length<c.length&&_.push(`${c.length-A.length} columns remain unmapped`);const S={is_valid:U.length===0&&C.length===0,missing_required_fields:U,type_mismatches:C,warnings:_};b(S)},[u,c,p]);x.useEffect(()=>{$()},[$]);const E=(N,A)=>{v(U=>{const C={...U};return A===""?delete C[N]:(Object.keys(C).forEach(_=>{C[_]===A&&delete C[_]}),C[N]=A),C})},I=N=>{const A=Q.find(U=>U.id===N);A&&(v(A.mapping),f(N),o({type:"info",message:`Loaded template: ${A.name}`,auto_dismiss:!0}))},G=fe({mutationFn:async N=>(await W.post(`${D}/api/workspaces/${e}/mapping-templates`,N,{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{n.invalidateQueries({queryKey:["mapping-templates"]}),o({type:"success",message:"Mapping template saved successfully",auto_dismiss:!0}),P(!1),g({is_saving:!1,template_name:"",is_default:!1,is_shared:!1})},onError:N=>{var A,U;o({type:"error",message:((U=(A=N.response)==null?void 0:A.data)==null?void 0:U.message)||"Failed to save template",auto_dismiss:!0})}}),te=()=>{if(!w.template_name.trim()){o({type:"error",message:"Template name is required",auto_dismiss:!0});return}G.mutate({name:w.template_name,platform:L==null?void 0:L.platform,mapping:u,is_default:w.is_default,is_shared:w.is_shared,created_by:l==null?void 0:l.id})},J=fe({mutationFn:async()=>(await W.put(`${D}/api/workspaces/${e}/uploads/${a}`,{mapping_template_id:h||null,mapping:u},{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{o({type:"success",message:"Mapping applied successfully. Processing upload...",auto_dismiss:!0}),s(`/w/${e}/uploads`)},onError:N=>{var A,U;o({type:"error",message:((U=(A=N.response)==null?void 0:A.data)==null?void 0:U.message)||"Failed to apply mapping",auto_dismiss:!0})}}),he=()=>{if(!y.is_valid){o({type:"error",message:"Please fix validation errors before continuing",auto_dismiss:!0});return}J.mutate()};return R?r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading upload details..."})]})})}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"py-6",children:[r.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:r.jsxs("ol",{className:"flex items-center space-x-4",children:[r.jsx("li",{children:r.jsx("div",{className:"flex items-center",children:r.jsxs("a",{href:`/w/${e}/uploads`,className:"text-gray-400 hover:text-gray-500",children:[r.jsx("svg",{className:"flex-shrink-0 h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),r.jsx("span",{className:"sr-only",children:"Uploads"})]})})}),r.jsx("li",{children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"flex-shrink-0 h-5 w-5 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),r.jsx("span",{className:"ml-4 text-sm font-medium text-gray-900",children:"Column Mapping"})]})})]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Data Column Mapping"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Map your file columns to PulseDeck's standard fields for accurate data processing"}),L&&r.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm text-blue-700",children:[r.jsx("span",{className:"font-medium",children:"File:"})," ",L.original_filename,r.jsx("span",{className:"ml-4 font-medium",children:"Platform:"})," ",L.platform,r.jsx("span",{className:"ml-4 font-medium",children:"Size:"})," ",(L.file_size/1024/1024).toFixed(2)," MB"]})})]})})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[r.jsx("div",{className:"lg:col-span-5",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Detected Columns"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[c.length," columns found in your file"]})]}),r.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:c.map((N,A)=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:N.column_name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:N.data_type}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${N.confidence_score>=.9?"bg-green-400":N.confidence_score>=.7?"bg-yellow-400":"bg-red-400"}`}),r.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(N.confidence_score*100),"%"]})]})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"Sample Values:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:N.sample_values.slice(0,3).map((U,C)=>r.jsx("span",{className:"text-xs px-2 py-1 bg-blue-50 text-blue-700 rounded",children:U},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Map to field:"}),r.jsxs("select",{value:u[N.column_name]||"",onChange:U=>E(N.column_name,U.target.value),className:"w-full text-sm border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select field..."}),p.map(U=>r.jsxs("option",{value:U.field_name,disabled:Object.values(u).includes(U.field_name)&&u[N.column_name]!==U.field_name,children:[U.field_name," ",U.required?"*":""," (",U.field_type,")"]},U.field_name))]})]})]},A))})]})}),r.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mapping Templates"})}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Load existing template"}),r.jsxs("select",{value:h,onChange:N=>{f(N.target.value),N.target.value&&I(N.target.value)},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:B,children:[r.jsx("option",{value:"",children:"Select template..."}),Q.map(N=>r.jsxs("option",{value:N.id,children:[N.name," ",N.is_default?"(Default)":""]},N.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Save current mapping"}),r.jsx("button",{onClick:()=>P(!j),className:"w-full bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200 transition-colors",children:"Save as Template"})]})]}),j&&r.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),r.jsx("input",{type:"text",value:w.template_name,onChange:N=>g(A=>({...A,template_name:N.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter template name..."})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:w.is_default,onChange:N=>g(A=>({...A,is_default:N.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Set as default"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:w.is_shared,onChange:N=>g(A=>({...A,is_shared:N.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Share with team"})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:te,disabled:G.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:G.isPending?"Saving...":"Save Template"}),r.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"})]})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Target Schema Fields"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"PulseDeck's standard fields for analytics"})]}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:p.map(N=>{const A=Object.keys(u).find(U=>u[U]===N.field_name);return r.jsxs("div",{className:`p-4 rounded-lg border-2 transition-colors ${A?"border-green-200 bg-green-50":N.required?"border-red-200 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h3",{className:"font-medium text-gray-900",children:[N.field_name,N.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:N.field_type})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:N.description}),A&&r.jsxs("div",{className:"flex items-center text-sm text-green-700",children:[r.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Mapped from: ",A]})]},N.field_name)})})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Mapping Validation"})}),r.jsx("div",{className:"p-6",children:y.is_valid?r.jsxs("div",{className:"flex items-center text-green-700 bg-green-50 p-4 rounded-lg",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Mapping is valid and ready for processing"]}):r.jsxs("div",{className:"space-y-4",children:[y.missing_required_fields.length>0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Missing Required Fields:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-red-700",children:y.missing_required_fields.map((N,A)=>r.jsx("li",{children:N},A))})]}),y.type_mismatches.length>0&&r.jsxs("div",{className:"bg-orange-50 border border-orange-200 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-orange-800 mb-2",children:"Type Mismatches:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-orange-700",children:y.type_mismatches.map((N,A)=>r.jsxs("li",{children:[N.column,": Expected ",N.expected_type,", found ",N.detected_type]},A))})]}),y.warnings.length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Warnings:"}),r.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700",children:y.warnings.map((N,A)=>r.jsx("li",{children:N},A))})]})]})})]})]})]}),r.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[r.jsx("button",{onClick:()=>s(`/w/${e}/upload?step=2`),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Upload"}),r.jsx("button",{onClick:he,disabled:!y.is_valid||J.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:J.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Continue Processing"})]})]})]})})},_j=[{id:"facebook",name:"Meta (Facebook)",icon:"",description:"Facebook Ads Manager exports"},{id:"tiktok",name:"TikTok",icon:"",description:"TikTok Ads Manager exports"},{id:"snapchat",name:"Snapchat",icon:"",description:"Snapchat Ads Manager exports"}],Sj=50*1024*1024,Cj=[".csv",".xlsx"],Ej=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),n=x.useRef(null),a=H(_=>_.authentication_state.auth_token),i=H(_=>_.add_active_upload),l=H(_=>_.update_upload_progress),o=H(_=>_.complete_upload),c=H(_=>_.add_toast_notification),[d,p]=x.useState(1),[m,u]=x.useState([]),[v,y]=x.useState(""),[b,w]=x.useState({date_from:null,date_to:null}),[g,h]=x.useState(null),[f,j]=x.useState(null),[P,D]=x.useState({current_step:"",progress_percentage:0,estimated_completion:null,rows_processed:0,rows_total:0}),[L,R]=x.useState(!1);x.useEffect(()=>{const _=t.get("step");if(_){const S=parseInt(_);S>=1&&S<=5&&p(S)}},[t]);const Q=()=>"https://123ad-performance.launchpulse.ai",{data:B=[]}=ve({queryKey:["mapping-templates",e,v],queryFn:async()=>v?(await W.get(`${Q()}/api/workspaces/${e}/mapping-templates`,{headers:{Authorization:`Bearer ${a}`},params:{platform:v,limit:50}})).data.data||[]:[],enabled:!!v&&!!a&&!!e,staleTime:5*60*1e3}),$=x.useCallback(async _=>{try{const S=await W.get(`${Q()}/api/workspaces/${e}/uploads/${_}`,{headers:{Authorization:`Bearer ${a}`}});j(S.data),D({current_step:S.data.status,progress_percentage:S.data.progress,estimated_completion:null,rows_processed:S.data.rows_processed,rows_total:S.data.rows_total})}catch(S){console.error("Failed to fetch upload job:",S)}},[e,a]);x.useEffect(()=>{const _=t.get("upload_id");_&&!f&&$(_)},[t,$,f]);const E=fe({mutationFn:async()=>{if(!m.length||!v)throw new Error("Missing required data");const _=new FormData;return _.append("file",m[0].file),_.append("platform",v),g!=null&&g.id&&_.append("mapping_template_id",g.id),b.date_from&&_.append("date_from",b.date_from),b.date_to&&_.append("date_to",b.date_to),(await W.post(`${Q()}/api/workspaces/${e}/uploads`,_,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).data},onSuccess:_=>{j(_),D({current_step:_.status,progress_percentage:_.progress,estimated_completion:null,rows_processed:_.rows_processed,rows_total:_.rows_total}),i({id:_.id,filename:_.original_filename,status:_.status,progress:_.progress,platform:_.platform}),s(S=>(S.set("upload_id",_.id),S.set("step","4"),S)),p(4),c({type:"success",message:"Upload started successfully",auto_dismiss:!0})},onError:_=>{var S,q;c({type:"error",message:((q=(S=_.response)==null?void 0:S.data)==null?void 0:q.message)||"Upload failed",auto_dismiss:!0})}}),{data:I}=ve({queryKey:["upload-progress",f==null?void 0:f.id],queryFn:async()=>f!=null&&f.id?(await W.get(`${Q()}/api/workspaces/${e}/uploads/${f.id}`,{headers:{Authorization:`Bearer ${a}`}})).data:null,enabled:!!(f!=null&&f.id)&&!!a,refetchInterval:_=>{var S,q,re,F;return((q=(S=_==null?void 0:_.state)==null?void 0:S.data)==null?void 0:q.status)==="completed"||((F=(re=_==null?void 0:_.state)==null?void 0:re.data)==null?void 0:F.status)==="failed"?!1:2e3}});x.useEffect(()=>{I&&(j(I),D({current_step:I.status,progress_percentage:I.progress,estimated_completion:null,rows_processed:I.rows_processed,rows_total:I.rows_total}),l(I.id,I.progress,I.status),(I.status==="completed"||I.status==="failed")&&(o(I.id,I.status),p(5),s(_=>(_.set("step","5"),_))))},[I,o,s,l]);const G=_=>{var q;if(_.size>Sj)return{isValid:!1,error:"File size exceeds 50MB limit"};const S="."+((q=_.name.split(".").pop())==null?void 0:q.toLowerCase());return Cj.includes(S)?{isValid:!0,error:null}:{isValid:!1,error:"Only CSV and XLSX files are allowed"}},te=x.useCallback(_=>{const q=Array.from(_).map(re=>{const F=G(re);return{file:re,validation_status:F.isValid?"valid":"invalid",error_message:F.error,size:re.size,type:re.type}});u(q)},[]),J=x.useCallback(_=>{_.preventDefault(),R(!0)},[]),he=x.useCallback(_=>{_.preventDefault(),R(!1)},[]),N=x.useCallback(_=>{_.preventDefault(),R(!1),te(_.dataTransfer.files)},[te]),A=_=>{p(_),s(S=>(S.set("step",_.toString()),S))},U=_=>{switch(_){case 2:return m.length>0&&m[0].validation_status==="valid";case 3:return!!v;case 4:return!!v&&m.length>0;default:return!0}},C=_=>{if(_===0)return"0 Bytes";const S=1024,q=["Bytes","KB","MB","GB"],re=Math.floor(Math.log(_)/Math.log(S));return parseFloat((_/Math.pow(S,re)).toFixed(2))+" "+q[re]};return r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("nav",{className:"text-sm text-gray-500 mb-4",children:[r.jsx(se,{to:`/w/${e}`,className:"hover:text-blue-600 transition-colors",children:"Dashboard"}),r.jsx("span",{className:"mx-2",children:"/"}),r.jsx(se,{to:`/w/${e}/uploads`,className:"hover:text-blue-600 transition-colors",children:"Uploads"}),r.jsx("span",{className:"mx-2",children:"/"}),r.jsx("span",{className:"text-gray-900",children:"Upload Wizard"})]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Upload Data"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Follow the steps below to upload and process your advertising data"})]}),r.jsx("div",{className:"mb-8",children:r.jsx("nav",{"aria-label":"Progress",children:r.jsx("ol",{className:"flex items-center",children:[{id:1,name:"Select Files",desc:"Choose your data files"},{id:2,name:"Choose Platform",desc:"Select data source"},{id:3,name:"Configure",desc:"Set options and mapping"},{id:4,name:"Processing",desc:"Upload and process data"},{id:5,name:"Complete",desc:"Review results"}].map((_,S)=>r.jsxs("li",{className:`relative ${S!==4?"pr-8 sm:pr-20":""}`,children:[r.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:S!==4&&r.jsx("div",{className:`h-0.5 w-full ${d>_.id?"bg-blue-600":"bg-gray-200"}`})}),r.jsx("button",{onClick:()=>U(_.id)&&A(_.id),disabled:!U(_.id),className:`relative w-8 h-8 flex items-center justify-center rounded-full border-2 ${d===_.id||d>_.id?"border-blue-600 bg-blue-600 text-white":"border-gray-300 bg-white text-gray-500"} ${U(_.id)?"hover:border-blue-400 cursor-pointer":"cursor-not-allowed"}`,children:d>_.id?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):r.jsx("span",{className:"text-sm font-medium",children:_.id})}),r.jsxs("div",{className:"ml-10 sm:ml-4 mt-2 sm:mt-0 sm:absolute sm:top-0 sm:left-10",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.name}),r.jsx("p",{className:"text-xs text-gray-500",children:_.desc})]})]},_.id))})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[d===1&&r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Select Your Data Files"}),r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${L?"border-blue-500 bg-blue-50":m.length>0?"border-green-500 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:J,onDragLeave:he,onDrop:N,children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 48 48",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Drop your files here"}),r.jsx("p",{className:"text-gray-600",children:"or click to browse"})]}),r.jsx("button",{type:"button",onClick:()=>{var _;return(_=n.current)==null?void 0:_.click()},className:"inline-flex items-center px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Choose Files"}),r.jsx("input",{ref:n,type:"file",multiple:!0,accept:".csv,.xlsx",onChange:_=>_.target.files&&te(_.target.files),className:"hidden"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Supports CSV and XLSX files up to 50MB"})]}),m.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Selected Files"}),r.jsx("div",{className:"space-y-3",children:m.map((_,S)=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${_.validation_status==="valid"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${_.validation_status==="valid"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:_.validation_status==="valid"?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:_.file.name}),r.jsx("p",{className:"text-sm text-gray-600",children:C(_.size)}),_.error_message&&r.jsx("p",{className:"text-sm text-red-600",children:_.error_message})]})]}),r.jsx("button",{onClick:()=>u(q=>q.filter((re,F)=>F!==S)),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},S))})]}),r.jsx("div",{className:"flex justify-end mt-8",children:r.jsx("button",{onClick:()=>A(2),disabled:!U(2),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Continue"})})]}),d===2&&r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Choose Data Platform"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Select the advertising platform where your data originated from"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_j.map(_=>r.jsxs("label",{className:"relative cursor-pointer",children:[r.jsx("input",{type:"radio",name:"platform",value:_.id,checked:v===_.id,onChange:S=>y(S.target.value),className:"sr-only"}),r.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all hover:shadow-md ${v===_.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:_.icon}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:_.name}),r.jsx("p",{className:"text-sm text-gray-600",children:_.description})]}),v===_.id&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})]},_.id))}),r.jsxs("div",{className:"flex justify-between mt-8",children:[r.jsx("button",{onClick:()=>A(1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back"}),r.jsx("button",{onClick:()=>A(3),disabled:!U(3),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Continue"})]})]}),d===3&&r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Configure Upload"}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Date Range (Optional)"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Specify the date range for data validation and filtering"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"date_from",className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),r.jsx("input",{type:"date",id:"date_from",value:b.date_from||"",onChange:_=>w(S=>({...S,date_from:_.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"date_to",className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),r.jsx("input",{type:"date",id:"date_to",value:b.date_to||"",onChange:_=>w(S=>({...S,date_to:_.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Mapping Template (Optional)"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose a pre-configured mapping template for faster processing"}),B.length>0?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"mapping_template",checked:!g,onChange:()=>h(null),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),r.jsx("span",{className:"ml-3 text-sm text-gray-700",children:"Auto-detect columns (recommended)"})]}),B.map(_=>r.jsxs("label",{className:"flex items-start",children:[r.jsx("input",{type:"radio",name:"mapping_template",checked:(g==null?void 0:g.id)===_.id,onChange:()=>h(_),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 mt-1"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.name}),_.is_default&&r.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Default"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Platform: ",_.platform]})]})]},_.id))]}):r.jsxs("div",{className:"text-sm text-gray-500",children:["No mapping templates available for ",v,". Auto-detection will be used."]})]})]}),r.jsxs("div",{className:"flex justify-between mt-8",children:[r.jsx("button",{onClick:()=>A(2),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Back"}),r.jsx("button",{onClick:()=>E.mutate(),disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E.isPending?"Starting Upload...":"Start Upload"})]})]}),d===4&&r.jsxs("div",{className:"p-8",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Processing Upload"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[P.progress_percentage,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${P.progress_percentage}%`}})})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Status"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900 capitalize",children:P.current_step.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rows Processed"}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[P.rows_processed.toLocaleString()," / ",P.rows_total.toLocaleString()]})]})]})}),f&&r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-700 mb-4",children:"Upload Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-600",children:"Filename:"}),r.jsx("span",{className:"text-blue-900 font-medium",children:f.original_filename})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-600",children:"Platform:"}),r.jsx("span",{className:"text-blue-900 font-medium capitalize",children:f.platform})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-600",children:"File Size:"}),r.jsx("span",{className:"text-blue-900 font-medium",children:C(f.file_size)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-blue-600",children:"Started:"}),r.jsx("span",{className:"text-blue-900 font-medium",children:new Date(f.created_at).toLocaleString()})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Processing Stages"}),r.jsx("div",{className:"space-y-3",children:[{stage:"queued",label:"Queued",desc:"Upload queued for processing"},{stage:"processing",label:"Processing",desc:"Parsing and validating data"},{stage:"completed",label:"Completed",desc:"Data successfully processed"}].map(_=>{const S=P.current_step===_.stage,q=["processing","completed"].includes(P.current_step)&&(["queued"].includes(_.stage)||_.stage==="processing"&&P.current_step==="completed");return r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${q?"bg-green-100 text-green-600":S?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:q?r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):S?r.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"}):r.jsx("div",{className:"w-2 h-2 bg-current rounded-full"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:`text-sm font-medium ${q||S?"text-gray-900":"text-gray-500"}`,children:_.label}),r.jsx("p",{className:"text-xs text-gray-500",children:_.desc})]})]},_.stage)})})]})]})]}),d===5&&f&&r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"text-center mb-8",children:f.status==="completed"?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Upload Completed!"}),r.jsx("p",{className:"text-gray-600",children:"Your data has been successfully processed and is now available in your dashboard."})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Upload Failed"}),r.jsx("p",{className:"text-gray-600",children:"There was an issue processing your data. Please check the details below."})]})}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Processing Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.rows_total.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Rows"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.rows_success.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-600",children:"Successful"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:f.rows_error.toLocaleString()}),r.jsx("p",{className:"text-sm text-gray-600",children:"Errors"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[f.progress,"%"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Processed"})]})]})]}),f.status==="failed"&&f.error_text&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Details"}),r.jsx("p",{className:"text-red-700",children:f.error_text}),f.error_log_url&&r.jsxs("a",{href:f.error_log_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center mt-4 text-sm text-red-600 hover:text-red-500",children:["Download Error Log",r.jsx("svg",{className:"ml-1 w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:f.status==="completed"?r.jsxs(r.Fragment,{children:[r.jsx(se,{to:`/w/${e}`,className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View Dashboard"}),r.jsx(se,{to:`/w/${e}/campaigns`,className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View Campaigns"})]}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{p(1),u([]),y(""),j(null),s({})},className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Try Again"}),r.jsx(se,{to:`/w/${e}/uploads`,className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"View All Uploads"})]})})]})]})]})})})},Pj=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),n=sr(),a=H(O=>O.authentication_state.auth_token),i=H(O=>O.authentication_state.current_user),l=H(O=>O.add_toast_notification),[o,c]=x.useState("rules"),[d,p]=x.useState(null),[m,u]=x.useState(!1),[v,y]=x.useState(null),b=t.get("rule_status"),w=t.get("trigger_status"),g=t.get("alert_type"),h=t.get("date_from"),[f,j]=x.useState({name:"",metric:"spend",condition:"greater_than",threshold:null,threshold_percentage:null,time_window:"daily",platform_filter:null,account_filter:null,campaign_filter:null,severity:"warning",is_active:!0,notification_email:!0,notification_in_app:!0,cooldown_minutes:60}),[P,D]=x.useState(1),[L,R]=x.useState(1),Q=()=>"https://123ad-performance.launchpulse.ai",B=async(O=1)=>{const M=new URLSearchParams({limit:"10",offset:((O-1)*10).toString()});return b==="active"&&M.set("is_active","true"),b==="inactive"&&M.set("is_active","false"),g&&M.set("severity",g),(await W.get(`${Q()}/api/workspaces/${e}/alert-rules?${M}`,{headers:{Authorization:`Bearer ${a}`}})).data},$=async(O=1)=>{const M=new URLSearchParams({limit:"10",offset:((O-1)*10).toString()});return w==="resolved"&&M.set("is_resolved","true"),w==="unresolved"&&M.set("is_resolved","false"),(await W.get(`${Q()}/api/workspaces/${e}/alert-triggers?${M}`,{headers:{Authorization:`Bearer ${a}`}})).data},E=async O=>(await W.post(`${Q()}/api/workspaces/${e}/alert-rules`,{...O,workspace_id:e,created_by:i==null?void 0:i.id},{headers:{Authorization:`Bearer ${a}`}})).data,I=async(O,M)=>(await W.put(`${Q()}/api/workspaces/${e}/alert-rules/${O}`,M,{headers:{Authorization:`Bearer ${a}`}})).data,G=async O=>{await W.delete(`${Q()}/api/workspaces/${e}/alert-rules/${O}`,{headers:{Authorization:`Bearer ${a}`}})},te=async O=>(await W.put(`${Q()}/api/workspaces/${e}/alert-triggers/${O}`,{is_resolved:!0,resolved_by:i==null?void 0:i.id,resolved_at:new Date().toISOString()},{headers:{Authorization:`Bearer ${a}`}})).data,{data:J,isLoading:he,error:N}=ve({queryKey:["alert-rules",e,P,b,g],queryFn:()=>B(P),enabled:!!e&&!!a&&o==="rules",staleTime:3e4}),{data:A,isLoading:U,error:C}=ve({queryKey:["alert-triggers",e,L,w],queryFn:()=>$(L),enabled:!!e&&!!a&&o==="triggers",staleTime:3e4}),_=fe({mutationFn:E,onSuccess:()=>{n.invalidateQueries({queryKey:["alert-rules"]}),l({type:"success",message:"Alert rule created successfully",auto_dismiss:!0}),c("rules"),F()},onError:O=>{var M,ne;l({type:"error",message:((ne=(M=O.response)==null?void 0:M.data)==null?void 0:ne.message)||"Failed to create alert rule",auto_dismiss:!0})}}),S=fe({mutationFn:({ruleId:O,ruleData:M})=>I(O,M),onSuccess:()=>{n.invalidateQueries({queryKey:["alert-rules"]}),l({type:"success",message:"Alert rule updated successfully",auto_dismiss:!0}),p(null),u(!1),F()},onError:O=>{var M,ne;l({type:"error",message:((ne=(M=O.response)==null?void 0:M.data)==null?void 0:ne.message)||"Failed to update alert rule",auto_dismiss:!0})}}),q=fe({mutationFn:G,onSuccess:()=>{n.invalidateQueries({queryKey:["alert-rules"]}),l({type:"success",message:"Alert rule deleted successfully",auto_dismiss:!0}),y(null)},onError:O=>{var M,ne;l({type:"error",message:((ne=(M=O.response)==null?void 0:M.data)==null?void 0:ne.message)||"Failed to delete alert rule",auto_dismiss:!0})}}),re=fe({mutationFn:te,onSuccess:()=>{n.invalidateQueries({queryKey:["alert-triggers"]}),l({type:"success",message:"Alert resolved successfully",auto_dismiss:!0})},onError:O=>{var M,ne;l({type:"error",message:((ne=(M=O.response)==null?void 0:M.data)==null?void 0:ne.message)||"Failed to resolve alert",auto_dismiss:!0})}}),F=()=>{j({name:"",metric:"spend",condition:"greater_than",threshold:null,threshold_percentage:null,time_window:"daily",platform_filter:null,account_filter:null,campaign_filter:null,severity:"warning",is_active:!0,notification_email:!0,notification_in_app:!0,cooldown_minutes:60})},K=(O,M)=>{const ne=new URLSearchParams(t);M?ne.set(O,M):ne.delete(O),s(ne)},ge=O=>{O.preventDefault(),m&&d?S.mutate({ruleId:d.id,ruleData:f}):_.mutate(f)},Lt=O=>{p(O),u(!0),j({name:O.name,metric:O.metric,condition:O.condition,threshold:O.threshold,threshold_percentage:O.threshold_percentage,time_window:O.time_window,platform_filter:O.platform_filter,account_filter:O.account_filter,campaign_filter:O.campaign_filter,severity:O.severity,is_active:O.is_active,notification_email:O.notification_email,notification_in_app:O.notification_in_app,cooldown_minutes:O.cooldown_minutes}),c("create")},vs=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),rr=O=>{switch(O){case"critical":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"info":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},nr=O=>O?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Alert Management"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Configure alert rules and monitor triggered alerts for proactive performance monitoring"})]}),r.jsx("div",{className:"flex space-x-3",children:r.jsx("button",{onClick:()=>{F(),u(!1),p(null),c("create")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create Alert Rule"})})]})})})}),r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>c("rules"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${o==="rules"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Alert Rules",J&&r.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:J.pagination.total})]}),r.jsxs("button",{onClick:()=>c("triggers"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${o==="triggers"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Alert History",A&&r.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:A.pagination.total})]}),r.jsx("button",{onClick:()=>c("create"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${o==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:m?"Edit Rule":"Create Rule"})]})}),o==="rules"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rule Status"}),r.jsxs("select",{value:b||"",onChange:O=>K("rule_status",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity"}),r.jsxs("select",{value:g||"",onChange:O=>K("alert_type",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Severities"}),r.jsx("option",{value:"critical",children:"Critical"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"info",children:"Info"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date From"}),r.jsx("input",{type:"date",value:h||"",onChange:O=>K("date_from",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alert Rules"})}),he?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading alert rules..."})]}):N?r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{className:"text-red-600",children:"Error loading alert rules. Please try again."})}):J!=null&&J.data.length?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Metric & Condition"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Triggered"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.data.map(O=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Cooldown: ",O.cooldown_minutes,"min"]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:[O.metric.toUpperCase()," ",O.condition.replace("_"," ")]}),r.jsx("div",{className:"text-sm text-gray-500",children:O.threshold!==null?`Threshold: ${O.threshold}`:`Percentage: ${O.threshold_percentage}%`})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${rr(O.severity)}`,children:O.severity})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${nr(O.is_active)}`,children:O.is_active?"Active":"Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:O.last_triggered_at?vs(O.last_triggered_at):"Never"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex space-x-2 justify-end",children:[r.jsx("button",{onClick:()=>Lt(O),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Edit"}),r.jsx("button",{onClick:()=>{S.mutate({ruleId:O.id,ruleData:{is_active:!O.is_active}})},className:`transition-colors ${O.is_active?"text-yellow-600 hover:text-yellow-700":"text-green-600 hover:text-green-700"}`,children:O.is_active?"Disable":"Enable"}),r.jsx("button",{onClick:()=>y(O.id),className:"text-red-600 hover:text-red-700 transition-colors",children:"Delete"})]})})]},O.id))})]})}):r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No alert rules found. Create your first alert rule to get started."})}),J&&J.pagination.total_pages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(P-1)*10+1," to ",Math.min(P*10,J.pagination.total)," of ",J.pagination.total," rules"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>D(O=>Math.max(1,O-1)),disabled:P===1,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>D(O=>Math.min(J.pagination.total_pages,O+1)),disabled:P===J.pagination.total_pages,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]}),o==="triggers"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution Status"}),r.jsxs("select",{value:w||"",onChange:O=>K("trigger_status",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"unresolved",children:"Unresolved"}),r.jsx("option",{value:"resolved",children:"Resolved"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alert History"})}),U?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading alert history..."})]}):C?r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{className:"text-red-600",children:"Error loading alert history. Please try again."})}):A!=null&&A.data.length?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Triggered At"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Affected Entity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Metric Value"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.data.map(O=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:vs(O.triggered_at)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.affected_entity_name||O.affected_entity_id}),r.jsx("div",{className:"text-sm text-gray-500",children:O.affected_entity_type})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:O.platform})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:["Value: ",O.metric_value]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Threshold: ",O.threshold_value]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O.is_resolved?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:O.is_resolved?"Resolved":"Unresolved"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:!O.is_resolved&&r.jsx("button",{onClick:()=>re.mutate(O.id),disabled:re.isPending,className:"text-green-600 hover:text-green-700 transition-colors disabled:opacity-50",children:re.isPending?"Resolving...":"Resolve"})})]},O.id))})]})}):r.jsx("div",{className:"p-8 text-center",children:r.jsx("p",{className:"text-gray-600",children:"No triggered alerts found."})}),A&&A.pagination.total_pages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(L-1)*10+1," to ",Math.min(L*10,A.pagination.total)," of ",A.pagination.total," triggers"]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>R(O=>Math.max(1,O-1)),disabled:L===1,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>R(O=>Math.min(A.pagination.total_pages,O+1)),disabled:L===A.pagination.total_pages,className:"px-3 py-2 text-sm border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]}),o==="create"&&r.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m?"Edit Alert Rule":"Create New Alert Rule"}),r.jsx("p",{className:"mt-1 text-gray-600",children:"Configure alert conditions and notification settings"})]}),r.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rule Name *"}),r.jsx("input",{type:"text",value:f.name,onChange:O=>j(M=>({...M,name:O.target.value})),required:!0,placeholder:"e.g., High ROAS Drop Alert",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity *"}),r.jsxs("select",{value:f.severity,onChange:O=>j(M=>({...M,severity:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"info",children:"Info"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"critical",children:"Critical"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metric *"}),r.jsxs("select",{value:f.metric,onChange:O=>j(M=>({...M,metric:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"spend",children:"Spend"}),r.jsx("option",{value:"impressions",children:"Impressions"}),r.jsx("option",{value:"clicks",children:"Clicks"}),r.jsx("option",{value:"conversions",children:"Conversions"}),r.jsx("option",{value:"revenue",children:"Revenue"}),r.jsx("option",{value:"ctr",children:"CTR"}),r.jsx("option",{value:"cpm",children:"CPM"}),r.jsx("option",{value:"cpc",children:"CPC"}),r.jsx("option",{value:"cpa",children:"CPA"}),r.jsx("option",{value:"cvr",children:"CVR"}),r.jsx("option",{value:"roas",children:"ROAS"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition *"}),r.jsxs("select",{value:f.condition,onChange:O=>j(M=>({...M,condition:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"greater_than",children:"Greater Than"}),r.jsx("option",{value:"less_than",children:"Less Than"}),r.jsx("option",{value:"percentage_increase",children:"Percentage Increase"}),r.jsx("option",{value:"percentage_decrease",children:"Percentage Decrease"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Window *"}),r.jsxs("select",{value:f.time_window,onChange:O=>j(M=>({...M,time_window:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"hourly",children:"Hourly"}),r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"weekly",children:"Weekly"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.condition==="greater_than"||f.condition==="less_than"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Threshold Value"}),r.jsx("input",{type:"number",step:"0.01",value:f.threshold||"",onChange:O=>j(M=>({...M,threshold:O.target.value?parseFloat(O.target.value):null,threshold_percentage:null})),placeholder:"e.g., 1000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percentage Change (%)"}),r.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:f.threshold_percentage||"",onChange:O=>j(M=>({...M,threshold_percentage:O.target.value?parseFloat(O.target.value):null,threshold:null})),placeholder:"e.g., 20",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cooldown (minutes) *"}),r.jsx("input",{type:"number",min:"1",value:f.cooldown_minutes,onChange:O=>j(M=>({...M,cooldown_minutes:parseInt(O.target.value)||60})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"notification_email",checked:f.notification_email,onChange:O=>j(M=>({...M,notification_email:O.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"notification_email",className:"ml-2 text-sm text-gray-700",children:"Send email notifications"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"notification_in_app",checked:f.notification_in_app,onChange:O=>j(M=>({...M,notification_in_app:O.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"notification_in_app",className:"ml-2 text-sm text-gray-700",children:"Send in-app notifications"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:f.is_active,onChange:O=>j(M=>({...M,is_active:O.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Activate rule immediately"})]})]})]}),r.jsxs("div",{className:"flex space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"submit",disabled:_.isPending||S.isPending,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:_.isPending||S.isPending?"Saving...":m?"Update Rule":"Create Rule"}),r.jsx("button",{type:"button",onClick:()=>{F(),u(!1),p(null),c("rules")},className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Alert Rule"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this alert rule? This action cannot be undone."}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>{q.mutate(v)},disabled:q.isPending,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 disabled:opacity-50 transition-colors",children:q.isPending?"Deleting...":"Delete"}),r.jsx("button",{onClick:()=>y(null),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})})]})})},Rj=()=>{var Lt,vs,rr,nr,O,M,ne,me,dt,au,iu,lu,ou,cu,du,uu,mu,hu,pu;const{workspace_id:e}=Rt(),[t,s]=gt(),n=sr(),a=H(z=>z.authentication_state.current_user),i=H(z=>z.authentication_state.auth_token),l=H(z=>z.current_workspace),[o,c]=x.useState(t.get("section")||"workspace"),[d,p]=x.useState({workspace:!1,personal:!1,team:!1}),[m,u]=x.useState({workspace:{},personal:{},team_invitation:{email:"",role:"member"}}),[v,y]=x.useState(!1),[b,w]=x.useState(""),g=()=>"https://123ad-performance.launchpulse.ai",h=(l==null?void 0:l.role)||"member",f=h==="owner"||h==="admin",j=h==="owner"||h==="admin",P=h==="owner",D=async()=>(await W.get(`${g()}/api/workspaces/${e}`,{headers:{Authorization:`Bearer ${i}`}})).data,L=async()=>(await W.get(`${g()}/api/users/${a==null?void 0:a.id}/preferences`,{headers:{Authorization:`Bearer ${i}`}})).data,R=async()=>(await W.get(`${g()}/api/workspaces/${e}/members`,{headers:{Authorization:`Bearer ${i}`}})).data,Q=async()=>(await W.get(`${g()}/api/workspaces/${e}/invitations`,{headers:{Authorization:`Bearer ${i}`}})).data,B=ve({queryKey:["workspace-settings",e],queryFn:D,enabled:!!e&&!!i&&f,staleTime:5*60*1e3}),$=ve({queryKey:["user-preferences",a==null?void 0:a.id],queryFn:L,enabled:!!(a!=null&&a.id)&&!!i,staleTime:5*60*1e3}),E=ve({queryKey:["team-members",e],queryFn:R,enabled:!!e&&!!i&&j,staleTime:2*60*1e3}),I=ve({queryKey:["pending-invitations",e],queryFn:Q,enabled:!!e&&!!i&&j,staleTime:2*60*1e3}),G=fe({mutationFn:async z=>(await W.put(`${g()}/api/workspaces/${e}`,z,{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{n.invalidateQueries({queryKey:["workspace-settings",e]}),p(z=>({...z,workspace:!1})),u(z=>({...z,workspace:{}}))}}),te=fe({mutationFn:async z=>(await W.put(`${g()}/api/users/${a==null?void 0:a.id}/preferences`,z,{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{n.invalidateQueries({queryKey:["user-preferences",a==null?void 0:a.id]}),p(z=>({...z,personal:!1})),u(z=>({...z,personal:{}}))}}),J=fe({mutationFn:async z=>(await W.post(`${g()}/api/workspaces/${e}/invitations`,z,{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{n.invalidateQueries({queryKey:["pending-invitations",e]}),u(z=>({...z,team_invitation:{email:"",role:"member"}}))}}),he=fe({mutationFn:async({member_id:z,role:Z})=>(await W.put(`${g()}/api/workspaces/${e}/members/${z}`,{role:Z},{headers:{Authorization:`Bearer ${i}`}})).data,onSuccess:()=>{n.invalidateQueries({queryKey:["team-members",e]})}}),N=fe({mutationFn:async z=>{await W.delete(`${g()}/api/workspaces/${e}/members/${z}`,{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{n.invalidateQueries({queryKey:["team-members",e]})}}),A=fe({mutationFn:async()=>{await W.delete(`${g()}/api/workspaces/${e}`,{headers:{Authorization:`Bearer ${i}`}})},onSuccess:()=>{window.location.href="/w/default"}}),U=z=>{c(z),s({section:z})},C=z=>{if(z.preventDefault(),!B.data)return;const Z={...B.data,...m.workspace};G.mutate(Z)},_=z=>{if(z.preventDefault(),!$.data)return;const Z={...$.data,...m.personal};te.mutate(Z)},S=z=>{z.preventDefault(),J.mutate(m.team_invitation)},q=(z,Z)=>{he.mutate({member_id:z,role:Z})},re=z=>{confirm("Are you sure you want to remove this team member?")&&N.mutate(z)},F=()=>{var z;b===((z=B.data)==null?void 0:z.name)&&A.mutate()};x.useEffect(()=>{d.workspace&&B.data&&u(z=>({...z,workspace:{...B.data}}))},[d.workspace,B.data]),x.useEffect(()=>{d.personal&&$.data&&u(z=>({...z,personal:{...$.data}}))},[d.personal,$.data]);const K=[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR ()"},{value:"GBP",label:"GBP ()"}],ge=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}];return r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"py-6",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your workspace configuration and personal preferences"})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("nav",{className:"space-y-1",children:[f&&r.jsx("button",{onClick:()=>U("workspace"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${o==="workspace"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Workspace"}),j&&r.jsx("button",{onClick:()=>U("team"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${o==="team"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Team"}),r.jsx("button",{onClick:()=>U("personal"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${o==="personal"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Personal"}),h==="owner"&&r.jsx("button",{onClick:()=>U("billing"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${o==="billing"?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:"Billing"})]})}),r.jsxs("div",{className:"lg:col-span-9 mt-6 lg:mt-0",children:[o==="workspace"&&f&&r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Workspace Settings"}),d.workspace?r.jsx("div",{className:"space-x-2",children:r.jsx("button",{onClick:()=>p(z=>({...z,workspace:!1})),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-500",children:"Cancel"})}):r.jsx("button",{onClick:()=>p(z=>({...z,workspace:!0})),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-500",children:"Edit"})]})}),r.jsxs("div",{className:"px-6 py-6",children:[B.isLoading?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):d.workspace?r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Workspace Name"}),r.jsx("input",{type:"text",value:m.workspace.name||"",onChange:z=>u(Z=>({...Z,workspace:{...Z.workspace,name:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Currency"}),r.jsx("select",{value:m.workspace.default_currency||"USD",onChange:z=>u(Z=>({...Z,workspace:{...Z.workspace,default_currency:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:K.map(z=>r.jsx("option",{value:z.value,children:z.label},z.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default Revenue per Conversion"}),r.jsx("input",{type:"number",step:"0.01",value:m.workspace.default_revenue_per_conversion||"",onChange:z=>u(Z=>({...Z,workspace:{...Z.workspace,default_revenue_per_conversion:z.target.value?parseFloat(z.target.value):null}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Used for calculating ROAS when revenue data is not available"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Timezone"}),r.jsx("select",{value:m.workspace.timezone||"UTC",onChange:z=>u(Z=>({...Z,workspace:{...Z.workspace,timezone:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:ge.map(z=>r.jsx("option",{value:z.value,children:z.label},z.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Retention (Days)"}),r.jsxs("select",{value:m.workspace.data_retention_days||730,onChange:z=>u(Z=>({...Z,workspace:{...Z.workspace,data_retention_days:parseInt(z.target.value)}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:90,children:"90 days"}),r.jsx("option",{value:180,children:"180 days"}),r.jsx("option",{value:365,children:"1 year"}),r.jsx("option",{value:730,children:"2 years"}),r.jsx("option",{value:1095,children:"3 years"})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"How long to keep historical data before automatic deletion"})]}),r.jsx("div",{className:"flex justify-end space-x-3",children:r.jsx("button",{type:"submit",disabled:G.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:G.isPending?"Saving...":"Save Changes"})})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Workspace Name"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(Lt=B.data)==null?void 0:Lt.name})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Default Currency"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(vs=B.data)==null?void 0:vs.default_currency})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Default Revenue per Conversion"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(rr=B.data)!=null&&rr.default_revenue_per_conversion?`${B.data.default_currency} ${B.data.default_revenue_per_conversion}`:"Not set"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Timezone"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(nr=B.data)==null?void 0:nr.timezone})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Data Retention"}),r.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[(O=B.data)==null?void 0:O.data_retention_days," days"]})]})]}),G.isError&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:"Failed to update workspace settings. Please try again."})})]}),P&&r.jsx("div",{className:"px-6 py-6 border-t border-gray-200",children:r.jsxs("div",{className:"rounded-md bg-red-50 p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:"Danger Zone"}),r.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete a workspace, there is no going back. All data will be permanently lost."}),v?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("p",{className:"text-sm text-red-700",children:['Type the workspace name "',(M=B.data)==null?void 0:M.name,'" to confirm deletion:']}),r.jsx("input",{type:"text",value:b,onChange:z=>w(z.target.value),className:"block w-full px-3 py-2 border border-red-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:(ne=B.data)==null?void 0:ne.name}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:F,disabled:b!==((me=B.data)==null?void 0:me.name)||A.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50",children:A.isPending?"Deleting...":"Delete Workspace"}),r.jsx("button",{onClick:()=>{y(!1),w("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})]})]}):r.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Delete Workspace"})]})})]}),o==="team"&&j&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Team Members"})}),r.jsx("div",{className:"px-6 py-6",children:E.isLoading?r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(z=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]},z))}):r.jsx("div",{className:"space-y-4",children:(dt=E.data)==null?void 0:dt.map(z=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-800",children:z.user.name.split(" ").map(Z=>Z[0]).join("").substring(0,2)})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.user.name}),r.jsx("p",{className:"text-sm text-gray-500",children:z.user.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("select",{value:z.membership.role,onChange:Z=>q(z.membership.id,Z.target.value),disabled:z.user.id===(a==null?void 0:a.id),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:outline-none focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"owner",children:"Owner"}),r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"})]}),z.user.id!==(a==null?void 0:a.id)&&r.jsx("button",{onClick:()=>re(z.membership.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]})]},z.membership.id))})})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Invite Team Member"})}),r.jsxs("div",{className:"px-6 py-6",children:[r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,value:m.team_invitation.email,onChange:z=>u(Z=>({...Z,team_invitation:{...Z.team_invitation,email:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"colleague@example.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{value:m.team_invitation.role,onChange:z=>u(Z=>({...Z,team_invitation:{...Z.team_invitation,role:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"member",children:"Member"})]})]}),r.jsx("button",{type:"submit",disabled:J.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:J.isPending?"Sending...":"Send Invitation"})]}),J.isError&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:"Failed to send invitation. Please check the email address and try again."})})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Pending Invitations"})}),r.jsx("div",{className:"px-6 py-6",children:I.isLoading?r.jsx("div",{className:"animate-pulse space-y-4",children:[1,2].map(z=>r.jsx("div",{className:"h-12 bg-gray-200 rounded"},z))}):((au=I.data)==null?void 0:au.length)===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No pending invitations"}):r.jsx("div",{className:"space-y-4",children:(iu=I.data)==null?void 0:iu.map(z=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.email}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Role: ",z.role,"  Expires: ",new Date(z.expires_at).toLocaleDateString()]})]}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pending"})]},z.id))})})]})]}),o==="personal"&&r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Personal Preferences"}),d.personal?r.jsx("button",{onClick:()=>p(z=>({...z,personal:!1})),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-500",children:"Cancel"}):r.jsx("button",{onClick:()=>p(z=>({...z,personal:!0})),className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-500",children:"Edit"})]})}),r.jsxs("div",{className:"px-6 py-6",children:[$.isLoading?r.jsxs("div",{className:"animate-pulse space-y-4",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),r.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):d.personal?r.jsxs("form",{onSubmit:_,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Notifications"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:m.personal.email_notifications??!0,onChange:z=>u(Z=>({...Z,personal:{...Z.personal,email_notifications:z.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-3 text-sm text-gray-700",children:"Email notifications"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:m.personal.in_app_notifications??!0,onChange:z=>u(Z=>({...Z,personal:{...Z.personal,in_app_notifications:z.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-3 text-sm text-gray-700",children:"In-app notifications"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email frequency"}),r.jsxs("select",{value:m.personal.email_frequency||"immediate",onChange:z=>u(Z=>({...Z,personal:{...Z.personal,email_frequency:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"immediate",children:"Immediate"}),r.jsx("option",{value:"daily",children:"Daily digest"}),r.jsx("option",{value:"weekly",children:"Weekly digest"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Display Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:m.personal.reduced_motion??!1,onChange:z=>u(Z=>({...Z,personal:{...Z.personal,reduced_motion:z.target.checked}})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("label",{className:"ml-3 text-sm text-gray-700",children:"Reduce motion (accessibility)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date format"}),r.jsxs("select",{value:m.personal.date_format||"YYYY-MM-DD",onChange:z=>u(Z=>({...Z,personal:{...Z.personal,date_format:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),r.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),r.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Number format"}),r.jsxs("select",{value:m.personal.number_format||"US",onChange:z=>u(Z=>({...Z,personal:{...Z.personal,number_format:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"US",children:"US (1,234.56)"}),r.jsx("option",{value:"EU",children:"EU (1.234,56)"}),r.jsx("option",{value:"UK",children:"UK (1,234.56)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Default dashboard view"}),r.jsxs("select",{value:m.personal.default_dashboard_view||"overview",onChange:z=>u(Z=>({...Z,personal:{...Z.personal,default_dashboard_view:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"overview",children:"Overview"}),r.jsx("option",{value:"campaigns",children:"Campaigns"}),r.jsx("option",{value:"creatives",children:"Creatives"}),r.jsx("option",{value:"analytics",children:"Analytics"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Theme"}),r.jsxs("select",{value:m.personal.theme_preference||"dark",onChange:z=>u(Z=>({...Z,personal:{...Z.personal,theme_preference:z.target.value}})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"light",children:"Light"}),r.jsx("option",{value:"dark",children:"Dark"}),r.jsx("option",{value:"auto",children:"Auto"})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",disabled:te.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:te.isPending?"Saving...":"Save Preferences"})})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Notifications"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Email notifications: ",(lu=$.data)!=null&&lu.email_notifications?"Enabled":"Disabled"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["In-app notifications: ",(ou=$.data)!=null&&ou.in_app_notifications?"Enabled":"Disabled"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Email frequency: ",(cu=$.data)==null?void 0:cu.email_frequency]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Display Preferences"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm text-gray-600",children:["Reduced motion: ",(du=$.data)!=null&&du.reduced_motion?"Enabled":"Disabled"]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Date format: ",(uu=$.data)==null?void 0:uu.date_format]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Number format: ",(mu=$.data)==null?void 0:mu.number_format]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Default dashboard: ",(hu=$.data)==null?void 0:hu.default_dashboard_view]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Theme: ",(pu=$.data)==null?void 0:pu.theme_preference]})]})]})]}),te.isError&&r.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:r.jsx("p",{className:"text-sm",children:"Failed to update preferences. Please try again."})})]})]}),o==="billing"&&h==="owner"&&r.jsxs("div",{className:"bg-white shadow rounded-lg",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Billing"})}),r.jsx("div",{className:"px-6 py-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-500 mb-4",children:"Billing management coming soon"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Manage your subscription, payment methods, and billing history"})]})})]}),(o==="workspace"&&!f||o==="team"&&!j||o==="billing"&&h!=="owner")&&r.jsx("div",{className:"bg-white shadow rounded-lg",children:r.jsxs("div",{className:"px-6 py-12 text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:r.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 0v2m0-2h2m-2 0H10m9-7a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Access Restricted"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access this section. Contact your workspace owner for access."})]})})]})]})})]})})},Br=()=>"https://123ad-performance.launchpulse.ai",Lj=async(e,t,s)=>{const n=new URLSearchParams;return s&&n.append("member_filter",s),(await W.get(`${Br()}/api/workspaces/${e}/members?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data},Tj=async(e,t)=>(await W.get(`${Br()}/api/workspaces/${e}/invitations`,{headers:{Authorization:`Bearer ${t}`}})).data,Aj=async(e,t)=>(await W.get(`${Br()}/api/workspaces/${e}/audit-logs?limit=50&sort_by=created_at&sort_order=desc`,{headers:{Authorization:`Bearer ${t}`}})).data,Mj=async(e,t,s,n)=>(await W.post(`${Br()}/api/workspaces/${e}/invitations`,{email:s,role:n},{headers:{Authorization:`Bearer ${t}`}})).data,Oj=async(e,t,s,n)=>(await W.put(`${Br()}/api/workspaces/${e}/members/${t}`,{role:n},{headers:{Authorization:`Bearer ${s}`}})).data,Fj=async(e,t,s)=>{await W.delete(`${Br()}/api/workspaces/${e}/members/${t}`,{headers:{Authorization:`Bearer ${s}`}})},Dj=async(e,t,s)=>(await W.post(`${Br()}/api/workspaces/${e}/exports`,{export_type:"team_members",format:s},{headers:{Authorization:`Bearer ${t}`}})).data,$j=()=>{const{workspace_id:e}=Rt(),[t,s]=gt(),n=H(F=>F.authentication_state.auth_token),a=H(F=>F.current_workspace),i=H(F=>F.add_toast_notification),[l,o]=x.useState({email:"",role:"member",is_submitting:!1,validation_errors:{}}),[c,d]=x.useState(t.get("member_filter")),[p,m]=x.useState(null),[u,v]=x.useState("members"),[y,b]=x.useState(""),w=(a==null?void 0:a.role)||"member",g=w==="owner"||w==="admin",{data:h=[],isLoading:f,refetch:j}=ve({queryKey:["teamMembers",e,c],queryFn:()=>Lj(e,n,c||void 0),enabled:!!e&&!!n,staleTime:6e4}),{data:P=[],isLoading:D,refetch:L}=ve({queryKey:["pendingInvitations",e],queryFn:()=>Tj(e,n),enabled:!!e&&!!n,staleTime:3e4}),{data:R,isLoading:Q}=ve({queryKey:["auditLogs",e],queryFn:()=>Aj(e,n),enabled:!!e&&!!n&&u==="audit",staleTime:3e4}),B=(R==null?void 0:R.data)||[],$=fe({mutationFn:({email:F,role:K})=>Mj(e,n,F,K),onSuccess:()=>{i({type:"success",message:"Team member invited successfully",auto_dismiss:!0}),o({email:"",role:"member",is_submitting:!1,validation_errors:{}}),L()},onError:F=>{var K,ge;i({type:"error",message:((ge=(K=F.response)==null?void 0:K.data)==null?void 0:ge.message)||"Failed to send invitation",auto_dismiss:!0}),o(Lt=>({...Lt,is_submitting:!1}))}}),E=fe({mutationFn:({memberId:F,role:K})=>Oj(e,F,n,K),onSuccess:()=>{i({type:"success",message:"Member role updated successfully",auto_dismiss:!0}),m(null),j()},onError:F=>{var K,ge;i({type:"error",message:((ge=(K=F.response)==null?void 0:K.data)==null?void 0:ge.message)||"Failed to update member role",auto_dismiss:!0})}}),I=fe({mutationFn:F=>Fj(e,F,n),onSuccess:()=>{i({type:"success",message:"Member removed successfully",auto_dismiss:!0}),j()},onError:F=>{var K,ge;i({type:"error",message:((ge=(K=F.response)==null?void 0:K.data)==null?void 0:ge.message)||"Failed to remove member",auto_dismiss:!0})}}),G=fe({mutationFn:F=>Dj(e,n,F),onSuccess:()=>{i({type:"success",message:"Team data export started",auto_dismiss:!0})},onError:F=>{var K,ge;i({type:"error",message:((ge=(K=F.response)==null?void 0:K.data)==null?void 0:ge.message)||"Failed to export team data",auto_dismiss:!0})}}),te=()=>{const F={};return l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(F.email="Please enter a valid email address"):F.email="Email is required",l.role||(F.role="Role selection is required"),o(K=>({...K,validation_errors:F})),Object.keys(F).length===0},J=async F=>{F.preventDefault(),te()&&(o(K=>({...K,is_submitting:!0})),$.mutate({email:l.email,role:l.role}))},he=(F,K,ge)=>{m({membership_id:F,current_role:K,new_role:ge})},N=()=>{p&&E.mutate({memberId:p.membership_id,role:p.new_role})},A=(F,K)=>{window.confirm(`Are you sure you want to remove ${K} from the workspace?`)&&I.mutate(F)},U=F=>{d(F);const K=new URLSearchParams(t);F?K.set("member_filter",F):K.delete("member_filter"),s(K)},C=F=>{G.mutate(F)},_=F=>{switch(F){case"owner":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";case"member":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},S=F=>{switch(F){case"active":return r.jsx(et,{className:"size-4 text-green-500"});case"pending":return r.jsx(Ic,{className:"size-4 text-yellow-500"});case"inactive":return r.jsx(lr,{className:"size-4 text-red-500"});default:return r.jsx(Ic,{className:"size-4 text-gray-500"})}},q=h.filter(F=>F.user.name.toLowerCase().includes(y.toLowerCase())||F.user.email.toLowerCase().includes(y.toLowerCase())),re=()=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Vc,{className:"size-5 mr-2 text-blue-600"}),"Role Permissions Matrix"]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),r.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"})]})}),r.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"View workspace data"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Upload data files"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Create and manage alerts"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Manage team members"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Workspace settings"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Delete workspace"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(et,{className:"size-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:r.jsx(lr,{className:"size-4 text-red-500 mx-auto"})})]})]})]})})]});return g?r.jsx(r.Fragment,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"py-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("nav",{className:"flex space-x-2 text-sm text-gray-500 mb-2",children:[r.jsx(se,{to:`/w/${e}`,className:"hover:text-gray-700",children:"Dashboard"}),r.jsx("span",{children:""}),r.jsx(se,{to:`/w/${e}/settings`,className:"hover:text-gray-700",children:"Settings"}),r.jsx("span",{children:""}),r.jsx("span",{className:"text-gray-900",children:"Team Management"})]}),r.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[r.jsx(Hc,{className:"size-8 mr-3 text-blue-600"}),"Team Management"]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage team members, roles, and permissions for your workspace"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:()=>C("csv"),disabled:G.isPending,className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[r.jsx(qc,{className:"size-4 mr-2"}),"Export CSV"]}),r.jsxs("button",{onClick:()=>C("xlsx"),disabled:G.isPending,className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[r.jsx(qc,{className:"size-4 mr-2"}),"Export Excel"]})]})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"border-b border-gray-200 mb-8",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsxs("button",{onClick:()=>v("members"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="members"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Hc,{className:"size-4 inline mr-2"}),"Team Members (",h.length,")"]}),r.jsxs("button",{onClick:()=>v("invitations"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="invitations"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(yh,{className:"size-4 inline mr-2"}),"Pending Invitations (",P.length,")"]}),r.jsxs("button",{onClick:()=>v("audit"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="audit"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(gh,{className:"size-4 inline mr-2"}),"Audit Log"]}),r.jsxs("button",{onClick:()=>v("activity"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="activity"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Qw,{className:"size-4 inline mr-2"}),"Permissions"]})]})}),u==="members"&&r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(cj,{className:"size-5 mr-2 text-blue-600"}),"Invite New Team Member"]}),r.jsxs("form",{onSubmit:J,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",id:"email",value:l.email,onChange:F=>{o(K=>({...K,email:F.target.value,validation_errors:{...K.validation_errors,email:void 0}}))},placeholder:"colleague@company.com",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-colors ${l.validation_errors.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-300"}`}),l.validation_errors.email&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.validation_errors.email})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs("select",{id:"role",value:l.role,onChange:F=>{o(K=>({...K,role:F.target.value,validation_errors:{...K.validation_errors,role:void 0}}))},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-colors ${l.validation_errors.role?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-300"}`,children:[r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"admin",children:"Admin"}),w==="owner"&&r.jsx("option",{value:"owner",children:"Owner"})]}),l.validation_errors.role&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.validation_errors.role})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{type:"submit",disabled:l.is_submitting||$.isPending,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.is_submitting||$.isPending?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send Invitation"})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Team Members (",q.length,")"]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(rx,{className:"size-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search members...",value:y,onChange:F=>b(F.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-colors"})]}),r.jsxs("select",{value:c||"",onChange:F=>U(F.target.value||null),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-colors",children:[r.jsx("option",{value:"",children:"All Roles"}),r.jsx("option",{value:"owner",children:"Owners"}),r.jsx("option",{value:"admin",children:"Admins"}),r.jsx("option",{value:"member",children:"Members"})]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:f?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading team members..."})]}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-blue-800",children:F.user.name.split(" ").map(K=>K[0]).join("").toUpperCase()})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.user.name}),r.jsx("div",{className:"text-sm text-gray-500",children:F.user.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(F.membership.role)}`,children:F.membership.role})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[S(F.membership.status),r.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:F.membership.status})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.membership.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("div",{className:"flex items-center justify-end space-x-2",children:F.membership.role!=="owner"&&r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:F.membership.role,onChange:K=>he(F.membership.id,F.membership.role,K.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:E.isPending,children:[r.jsx("option",{value:"member",children:"Member"}),r.jsx("option",{value:"admin",children:"Admin"}),w==="owner"&&r.jsx("option",{value:"owner",children:"Owner"})]}),r.jsx("button",{onClick:()=>A(F.membership.id,F.user.name),className:"text-red-600 hover:text-red-900 transition-colors",disabled:I.isPending,children:r.jsx(ij,{className:"size-4"})})]})})})]},F.membership.id))})]})})]})]}),u==="invitations"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Pending Invitations (",P.length,")"]})}),r.jsx("div",{className:"overflow-x-auto",children:D?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading invitations..."})]}):P.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(yh,{className:"size-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No pending invitations"})]}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_(F.role)}`,children:F.role})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:F.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.expires_at).toLocaleDateString()})]},F.id))})]})})]}),u==="audit"&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Activity Audit Log"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track team member actions and changes for compliance and security"})]}),r.jsx("div",{className:"overflow-x-auto",children:Q?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading audit logs..."})]}):B.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(gh,{className:"size-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No audit logs found"})]}):r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(F.created_at).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.user_id||"System"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:F.action}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[F.entity_type," ",F.entity_id&&`(${F.entity_id})`]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:F.details?JSON.stringify(F.details):"-"})]},F.id))})]})})]}),u==="activity"&&re()]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Role Change"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to change this member's role from"," ",r.jsx("span",{className:"font-medium",children:p.current_role})," to"," ",r.jsx("span",{className:"font-medium",children:p.new_role}),"?"]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:E.isPending,children:"Cancel"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:E.isPending,children:E.isPending?r.jsxs("span",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Confirm Change"})]})]})})]})}):r.jsx(r.Fragment,{children:r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx(Wc,{className:"size-16 text-yellow-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need Admin or Owner permissions to access team management."}),r.jsx(se,{to:`/w/${e}/settings`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Settings"})]})})})},Bj=new av({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),nu=()=>r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading..."})]}),vt=({children:e})=>{const t=H(n=>n.authentication_state.authentication_status.is_authenticated);return H(n=>n.authentication_state.authentication_status.is_loading)?r.jsx(nu,{}):t?r.jsx(r.Fragment,{children:e}):r.jsx(il,{to:"/signin",replace:!0})},vo=({children:e})=>{const t=H(a=>a.authentication_state.authentication_status.is_authenticated),s=H(a=>a.authentication_state.authentication_status.is_loading),n=H(a=>a.current_workspace);if(s)return r.jsx(nu,{});if(t){const a=n?`/w/${n.id}`:"/w/default";return r.jsx(il,{to:a,replace:!0})}return r.jsx(r.Fragment,{children:e})},bt=({children:e})=>r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Qb,{}),r.jsxs("div",{className:"flex",children:[r.jsx(qw,{}),r.jsx("main",{className:"flex-1 ml-0 lg:ml-240 pt-16",children:r.jsx("div",{className:"min-h-[calc(100vh-4rem)]",children:e})})]}),r.jsx(ax,{}),r.jsx(dj,{})]}),Qn=({children:e})=>r.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[r.jsx("main",{className:"flex-1",children:e}),r.jsx(ax,{})]}),zj=()=>{const e=H(a=>a.authentication_state.authentication_status.is_loading),t=H(a=>a.authentication_state.authentication_status.is_authenticated),s=H(a=>a.current_workspace),n=H(a=>a.initialize_auth);return x.useEffect(()=>{n()},[n]),e?r.jsx(nu,{}):r.jsx(iv,{client:Bj,children:r.jsx(A1,{children:r.jsx("div",{className:"App",children:r.jsxs(_1,{children:[r.jsx(Te,{path:"/",element:r.jsx(vo,{children:r.jsx(Qn,{children:r.jsx(uj,{})})})}),r.jsx(Te,{path:"/signup",element:r.jsx(vo,{children:r.jsx(Qn,{children:r.jsx(hj,{})})})}),r.jsx(Te,{path:"/signin",element:r.jsx(vo,{children:r.jsx(Qn,{children:r.jsx(pj,{})})})}),r.jsx(Te,{path:"/verify-email",element:r.jsx(Qn,{children:r.jsx(fj,{})})}),r.jsx(Te,{path:"/reset-password",element:r.jsx(Qn,{children:r.jsx(gj,{})})}),r.jsx(Te,{path:"/w/:workspace_id",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(vj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/channels",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(bj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/campaigns",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(bh,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/campaigns/:campaign_id",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(bh,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/creatives",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(jj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/uploads",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(Nj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/upload",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(Ej,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/upload/mapping",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(kj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/alerts",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(Pj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/settings",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(Rj,{})})})}),r.jsx(Te,{path:"/w/:workspace_id/settings/team",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx($j,{})})})}),r.jsx(Te,{path:"/w/default",element:r.jsx(vt,{children:r.jsx(bt,{children:r.jsx(yj,{})})})}),r.jsx(Te,{path:"*",element:t?r.jsx(il,{to:s?`/w/${s.id}`:"/w/default",replace:!0}):r.jsx(il,{to:"/",replace:!0})})]})})})})},Uj=()=>r.jsx(r.Fragment,{children:r.jsx(zj,{})});Hf(document.getElementById("root")).render(r.jsx(Uj,{}));
